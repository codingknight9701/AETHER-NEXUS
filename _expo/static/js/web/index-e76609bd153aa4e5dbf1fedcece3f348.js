var __BUNDLE_START_TIME__=globalThis.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=globalThis.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(e){'use strict';e[`${__METRO_GLOBAL_PREFIX__}__d`]||(e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(t.has(n))return;const i={dependencyMap:o,factory:e,hasError:!1,importedAll:r,importedDefault:r,isInitialized:!1,publicModule:{exports:{}}};t.set(n,i)},e.__c=o,e.__registerSegment=function(e,r,n){c[e]=r,n&&n.forEach(r=>{t.has(r)||s.has(r)||s.set(r,e)})});var t=o();const r={},{hasOwnProperty:n}={};function o(){return t=new Map}function i(e,r){if(null===e)throw new Error('Cannot find module');const n=t.get(e);return n&&n.isInitialized?n.publicModule.exports:a(e,n,r)}function l(e){var n;if(t.has(e)&&(null==(n=t.get(e))?void 0:n.importedDefault)!==r)return t.get(e).importedDefault;const o=i(e),l=o&&o.__esModule?o.default:o;return t.get(e).importedDefault=l}function u(e){var o;if(t.has(e)&&(null==(o=t.get(e))?void 0:o.importedAll)!==r)return t.get(e).importedAll;const l=i(e);let u;if(l&&l.__esModule)u=l;else{if(u={},l)for(const e in l)n.call(l,e)&&(u[e]=l[e]);u.default=l}return t.get(e).importedAll=u}i.importDefault=l,i[Symbol.for('expo.require')]=!0,i.importAll=u,i.context=function(){throw new Error('The experimental Metro feature `require.context` is not enabled in your project.')},i.resolveWeak=function(){throw new Error('require.resolveWeak cannot be called dynamically.')},i.unguarded=function(e,r){const n=t.get(e);return n&&n.isInitialized?n.publicModule.exports:f(e,n,r)};let d=!1;function a(t,r,n){if(!d&&e.ErrorUtils){let o;d=!0;try{o=f(t,r,n)}catch(t){e.ErrorUtils.reportFatalError(t)}return d=!1,o}return f(t,r,n)}i.unpackModuleId=function(e){if('number'!=typeof e)throw new Error('Module ID must be a number in unpackModuleId.');return{segmentId:e>>>16,localId:65535&e}},i.packModuleId=function(e){return(e.segmentId<<16)+e.localId};const c=[],s=new Map;function f(r,n,o){if(!n&&c.length>0){const e=s.get(r)??0,o=c[e];null!=o&&(o(r),n=t.get(r),s.delete(r))}if(!n)throw p(r,o);if(n.hasError)throw n.error;n.isInitialized=!0;const{factory:d,dependencyMap:a}=n;try{const t=n.publicModule;return t.id=r,null==d||d(e,i,l,u,t,t.exports,a),n.factory=void 0,n.dependencyMap=void 0,t.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}function p(e,t){return Error('Requiring unknown module "'+(e??t??"[unknown optional import]")+'".')}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(e){e.$$require_external="undefined"!=typeof require?e=>require(e):()=>null})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window;
!(function(n){const e=(function(){function n(n,e){return n}function e(n){var e={};return n.forEach(function(n,t){e[n]=!0}),e}function t(n,t,u){if(n.formatValueCalls++,n.formatValueCalls>200)return`[TOO BIG formatValueCalls ${n.formatValueCalls} exceeded limit of 200]`;var c=r(n,t);if(c)return c;var s=Object.keys(t),f=e(s);if(d(t)&&(s.indexOf('message')>=0||s.indexOf('description')>=0))return o(t);if(0===s.length){if(h(t)){var g=t.name?': '+t.name:'';return n.stylize('[Function'+g+']','special')}if(p(t))return n.stylize(RegExp.prototype.toString.call(t),'regexp');if(y(t))return n.stylize(Date.prototype.toString.call(t),'date');if(d(t))return o(t)}var m,v,b='',j=!1,O=['{','}'];(m=t,Array.isArray(m)&&(j=!0,O=['[',']']),h(t))&&(b=' [Function'+(t.name?': '+t.name:'')+']');return p(t)&&(b=' '+RegExp.prototype.toString.call(t)),y(t)&&(b=' '+Date.prototype.toUTCString.call(t)),d(t)&&(b=' '+o(t)),0!==s.length||j&&0!=t.length?u<0?p(t)?n.stylize(RegExp.prototype.toString.call(t),'regexp'):n.stylize('[Object]','special'):(n.seen.push(t),v=j?i(n,t,u,f,s):s.map(function(e){return l(n,t,u,f,e,j)}),n.seen.pop(),a(v,b,O)):O[0]+b+O[1]}function r(n,e){if(f(e))return n.stylize('undefined','undefined');if('string'==typeof e){var t="'"+JSON.stringify(e).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,'string')}return s(e)?n.stylize(''+e,'number'):u(e)?n.stylize(''+e,'boolean'):c(e)?n.stylize('null','null'):void 0}function o(n){return'['+Error.prototype.toString.call(n)+']'}function i(n,e,t,r,o){for(var i=[],a=0,u=e.length;a<u;++a)v(e,String(a))?i.push(l(n,e,t,r,String(a),!0)):i.push('');return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(n,e,t,r,o,!0))}),i}function l(n,e,r,o,i,l){var a,u,s;if((s=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=s.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):s.set&&(u=n.stylize('[Setter]','special')),v(o,i)||(a='['+i+']'),u||(n.seen.indexOf(s.value)<0?(u=c(r)?t(n,s.value,null):t(n,s.value,r-1)).indexOf('\n')>-1&&(u=l?u.split('\n').map(function(n){return'  '+n}).join('\n').slice(2):'\n'+u.split('\n').map(function(n){return'   '+n}).join('\n')):u=n.stylize('[Circular]','special')),f(a)){if(l&&i.match(/^\d+$/))return u;(a=JSON.stringify(''+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,a.length-1),a=n.stylize(a,'name')):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=n.stylize(a,'string'))}return a+': '+u}function a(n,e,t){return n.reduce(function(n,e){return e.indexOf('\n')>=0&&0,n+e.replace(/\u001b\[\d\d?m/g,'').length+1},0)>60?t[0]+(''===e?'':e+'\n ')+' '+n.join(',\n  ')+' '+t[1]:t[0]+e+' '+n.join(', ')+' '+t[1]}function u(n){return'boolean'==typeof n}function c(n){return null===n}function s(n){return'number'==typeof n}function f(n){return void 0===n}function p(n){return g(n)&&'[object RegExp]'===m(n)}function g(n){return'object'==typeof n&&null!==n}function y(n){return g(n)&&'[object Date]'===m(n)}function d(n){return g(n)&&('[object Error]'===m(n)||n instanceof Error)}function h(n){return'function'==typeof n}function m(n){return Object.prototype.toString.call(n)}function v(n,e){return Object.prototype.hasOwnProperty.call(n,e)}return function(e,r){return t({seen:[],formatValueCalls:0,stylize:n},e,r.depth)}})(),t='(index)',r=0,o=1,i=2,l=3;function a(t){return function(){let r;r=1===arguments.length&&'string'==typeof arguments[0]?arguments[0]:Array.prototype.map.call(arguments,function(n){return e(n,{depth:10})}).join(', ');const o=arguments[0];let a=t;'string'==typeof o&&'Warning: '===o.slice(0,9)&&a>=l&&(a=i),s.length&&(r=f('',r)),n.nativeLoggingHook(r,a)}}function u(n,e){return Array.apply(null,Array(e)).map(function(){return n})}function c(n,e){if(e===t)return n[e];if(n.hasOwnProperty(e)){var r=n[e];switch(typeof r){case'function':return'\u0192';case'string':return"'"+r+"'";case'object':return null==r?'null':'{\u2026}'}return String(r)}return''}const s=[];function f(n,e){return s.join('')+n+' '+(e||'')}if(n.nativeLoggingHook){const y=n.console;if(n.console=Object.assign({timeStamp:function(){}},y??{},{error:a(l),info:a(o),log:a(o),warn:a(i),trace:a(r),debug:a(r),table:function(e,r){var i;if(Array.isArray(e))i=e.map((n,e)=>{var r={};return r[t]=String(e),Object.assign(r,n),r});else for(var l in i=[],e)if(e.hasOwnProperty(l)){var a={};a[t]=l,Object.assign(a,e[l]),i.push(a)}if(0!==i.length){r=Array.isArray(r)?[t].concat(r):Array.from(i.reduce((n,e)=>(Object.keys(e).forEach(e=>n.add(e)),n),new Set));var s=[],f=[];r.forEach(function(n,e){f[e]=n.length;for(var t=0;t<i.length;t++){var r=c(i[t],n);s[t]=s[t]||[],s[t][e]=r,f[e]=Math.max(f[e],r.length)}});for(var p=d(f.map(function(n){return u('-',n).join('')})),g=[d(r),p],y=0;y<i.length;y++)g.push(d(s[y]));n.nativeLoggingHook('\n'+g.join('\n'),o)}else n.nativeLoggingHook('',o);function d(n,e){var t=n.map(function(n,e){return n+u(' ',f[e]-n.length).join('')});return e=e||' ','| '+t.join(e+'|'+e)+' |'}},group:function(e){n.nativeLoggingHook(f("\u2510",e),o),s.push("\u2502")},groupEnd:function(){s.pop(),n.nativeLoggingHook(f("\u2518"),o)},groupCollapsed:function(e){n.nativeLoggingHook(f("\u2518",e),o),s.push("\u2502")},assert:function(e,t){e||n.nativeLoggingHook('Assertion failed: '+t,l)}}),!0===n.RN$useAlwaysAvailableJSErrorHandling){let d=console.error;function p(n){return e(n,{depth:10}).replace(/\n\s*/g,' ')}console.reportErrorsAsExceptions=!0,console.error=function(...e){if(d.apply(this,e),!console.reportErrorsAsExceptions)return;if(n.RN$inExceptionHandler?.())return;let t;const r=e[0];if(r?.stack)t=r;else{if('string'==typeof r&&r.startsWith('Warning: '))return;const n=e.map(n=>'string'==typeof n?n:p(n)).join(' ');t=new Error(n),t.name='console.error'}n.RN$handleException(t,!1,!1)}}Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}else if(!n.console){function g(){}const h=n.print||g;n.console={debug:h,error:h,info:h,log:h,trace:h,warn:h,assert(n,e){n||h('Assertion failed: '+e)},clear:g,dir:g,dirxml:g,group:g,groupCollapsed:g,groupEnd:g,profile:g,profileEnd:g,table:g,timeStamp:g},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(r){let l=0,n=!0===r.RN$useAlwaysAvailableJSErrorHandling?r.RN$handleException:(r,l)=>{throw r};const t={setGlobalHandler(r){n=r},getGlobalHandler:()=>n,reportError(r){n&&n(r,!1)},reportFatalError(r){n&&n(r,!0)},applyWithGuard(r,n,e,a,o){try{return l++,r.apply(n,e)}catch(r){t.reportError(r)}finally{l--}return null},applyWithGuardIfNeeded:(r,l,n)=>t.inGuard()?r.apply(l,n):(t.applyWithGuard(r,l,n),null),inGuard:()=>!!l,guard(r,l,n){if('function'!=typeof r)return console.warn('A function must be passed to ErrorUtils.guard, got ',r),null;const e=l??r.name??'<generated guard>';return function(...l){return t.applyWithGuard(r,n??this,l,null,e)}}};r.ErrorUtils=t})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
__d(function(g,r,i,a,m,_e,d){"use strict";var e,t=r(d[0]),o=r(d[1]),u=(e=o)&&e.__esModule?e:{default:e};(0,t.registerRootComponent)(u.default)},0,[1,141]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"disableErrorHandling",{enumerable:!0,get:function(){return t.disableErrorHandling}}),Object.defineProperty(_e,"registerRootComponent",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(_e,"isRunningInExpoGo",{enumerable:!0,get:function(){return o.isRunningInExpoGo}}),Object.defineProperty(_e,"getExpoGoProjectConfig",{enumerable:!0,get:function(){return o.getExpoGoProjectConfig}}),Object.defineProperty(_e,"EventEmitter",{enumerable:!0,get:function(){return c.EventEmitter}}),Object.defineProperty(_e,"SharedObject",{enumerable:!0,get:function(){return c.SharedObject}}),Object.defineProperty(_e,"SharedRef",{enumerable:!0,get:function(){return c.SharedRef}}),Object.defineProperty(_e,"NativeModule",{enumerable:!0,get:function(){return c.NativeModule}}),Object.defineProperty(_e,"requireNativeModule",{enumerable:!0,get:function(){return c.requireNativeModule}}),Object.defineProperty(_e,"requireOptionalNativeModule",{enumerable:!0,get:function(){return c.requireOptionalNativeModule}}),Object.defineProperty(_e,"requireNativeView",{enumerable:!0,get:function(){return c.requireNativeViewManager}}),Object.defineProperty(_e,"registerWebModule",{enumerable:!0,get:function(){return c.registerWebModule}}),Object.defineProperty(_e,"reloadAppAsync",{enumerable:!0,get:function(){return c.reloadAppAsync}}),Object.defineProperty(_e,"useEvent",{enumerable:!0,get:function(){return f.useEvent}}),Object.defineProperty(_e,"useEventListener",{enumerable:!0,get:function(){return f.useEventListener}}),r(d[0]);var e,t=r(d[1]),n=r(d[2]),u=(e=n)&&e.__esModule?e:{default:e},o=r(d[3]),c=r(d[4]),f=r(d[5])},1,[2,18,19,98,99,140]);
__d(function(g,r,i,a,m,e,d){"use strict";r(d[0]),r(d[1]),r(d[2])},2,[3,8,17]);
__d(function(g,r,i,a,m,e,d){"use strict";r(d[0])},3,[4]);
__d(function(g,r,i,a,m,e,d){"use strict";r(d[0]),Object.defineProperty(globalThis,'__ExpoImportMetaRegistry',{value:r(d[1]).ImportMetaRegistry,enumerable:!1,writable:!0})},4,[5,6]);
__d(function(g,r,i,a,m,e,d){},5,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"ImportMetaRegistry",{enumerable:!0,get:function(){return n}});var t=r(d[0]);const n={get url(){return(0,t.getBundleUrl)()}}},6,[7]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.getBundleUrl=function(){let n=null;n='undefined'==typeof window?'file://'+__filename:document.currentScript?.src;if(null==n)return null;const t=new URL(n);return`${t.protocol}//${t.host}${t.pathname}`}},7,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var _=r(d[0]);g[`${g.__METRO_GLOBAL_PREFIX__??''}__loadBundleAsync`]=(0,_.buildAsyncRequire)()},8,[9]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.buildAsyncRequire=function(){const t=new Map;return async function(c){if(t.has(c))return t.get(c);const u=(0,n.loadBundleAsync)(c).catch(n=>{throw t.delete(c),n});return t.set(c,u),u}};var n=r(d[0])},9,[10]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.loadBundleAsync=async function(t){const u=(0,n.buildUrlForBundle)(t);return(0,c.fetchThenEvalAsync)(u)};var n=r(d[0]),c=r(d[1])},10,[11,13]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.buildUrlForBundle=function(e){if(/^https?:\/\//.test(e))return e;const{url:t}=(0,u.default)();return t?new URL(e,t).toString():`//${e.replace(/^\/+/,'')}`};var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},11,[12]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=()=>'undefined'==typeof window?{bundleLoadedFromServer:!0,fullBundleUrl:'',url:''}:{bundleLoadedFromServer:!0,get fullBundleUrl(){if(document?.currentScript&&'src'in document.currentScript)return document.currentScript.src;const t=new URL(location.href);return t.searchParams.set('platform','web'),t.toString()},url:location.origin+location.pathname}},12,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.fetchThenEvalAsync=function(o,{scriptType:c,nonce:s,crossOrigin:u}={}){if('undefined'==typeof window)return r(d[0]).fetchThenEvalAsync(o);return new Promise((p,l)=>{const f=document.createElement('script');c&&(f.type=c),s&&f.setAttribute('nonce',s),f.src=o,u&&0!==f.src.indexOf(window.location.origin+'/')&&(f.crossOrigin=u),f.onload=()=>{f.parentNode&&f.parentNode.removeChild(f),p()};const y=new t;f.onerror=n=>{let t;t='string'==typeof n?{type:'error',target:{src:t}}:n;const c=t&&('load'===t.type?'missing':t.type),s=t?.target?.src;y.message='Loading module '+o+' failed.\n('+c+': '+s+')',y.type=c,y.request=s,f.parentNode&&f.parentNode.removeChild(f),l(y)},f.src===n?p():document.head.appendChild(f)})};const n='undefined'!=typeof document&&document.currentScript&&'src'in document.currentScript&&document.currentScript.src||null;class t extends Error{name='AsyncRequireError'}},13,[14]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.fetchThenEvalAsync=fetchThenEvalAsync;var _errors=r(d[0]),_fetchAsync=r(d[1]);function fetchThenEvalAsync(url){return(0,_fetchAsync.fetchAsync)(url).then(({body:body,status:status,headers:headers})=>{if(null!=headers?.has?.('Content-Type')&&headers.get('Content-Type').includes('application/json'))throw new Error(JSON.parse(body).message||`Unknown error fetching '${url}'`);if(200===status)return eval(body);throw new Error(`Failed to load split bundle from URL: ${url}\n${body}`)})}},14,[15,16]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"MetroServerError",{enumerable:!0,get:function(){return t}});class t extends Error{code='METRO_SERVER_ERROR';constructor(t,o){super(t.message),this.name='MetroServerError',this.url=o;for(const o in t)this[o]=t[o]}}},15,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.fetchAsync=async function(t){const s=await fetch(t,{method:'GET',headers:{'expo-platform':'web'}});return{body:await s.text(),status:s.status,headers:s.headers}}},16,[]);
__d(function(g,r,i,a,m,e,d){},17,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.createErrorHandler=function(n){return(t,o)=>n(t,o)},e.disableErrorHandling=function(){}},18,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}}),r(d[0]);var e,t=r(d[1]),n=(e=t)&&e.__esModule?e:{default:e};function o(e){let t=e;if(n.default.registerComponent('main',()=>t),'undefined'!=typeof window){const e=document.getElementById('root');n.default.runApplication('main',{rootTag:e,hydrate:globalThis.__EXPO_ROUTER_HYDRATE__})}}r(d[2])},19,[2,20,97]);
__d(function(g,r,i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});t(r(d[0]));var e,n=t(r(d[1])),o=t(r(d[2])),p=r(d[3]),s=t(p),u={},l={},c=t=>t();class f{static getAppKeys(){return Object.keys(l)}static getApplication(t,e){return(0,n.default)(l[t]&&l[t].getApplication,"Application "+t+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),l[t].getApplication(e)}static registerComponent(t,n){return l[t]={getApplication:t=>(0,p.getApplication)(c(n),t?t.initialProps:u,e&&e(t)),run:t=>(0,s.default)(c(n),e&&e(t),t.callback,{hydrate:t.hydrate||!1,initialProps:t.initialProps||u,mode:t.mode||'concurrent',rootTag:t.rootTag})},t}static registerConfig(t){t.forEach(t=>{var e=t.appKey,o=t.component,p=t.run;p?f.registerRunnable(e,p):((0,n.default)(o,'No component provider passed in'),f.registerComponent(e,o))})}static registerRunnable(t,e){return l[t]={run:e},t}static runApplication(t,e){return(0,n.default)(l[t]&&l[t].run,"Application \""+t+"\" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),l[t].run(e)}static setComponentProviderInstrumentationHook(t){c=t}static setWrapperComponentProvider(t){e=t}static unmountApplicationComponentAtRootTag(t){(0,o.default)(t)}}},20,[21,26,27,28]);
__d(function(g,_r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}},21,[22]);
__d(function(g,_r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function u(e,t,u){return(t=(0,r.default)(t))in e?Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[t]=u,e}},22,[23]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1]));function n(e){var n=(0,u.default)(e,"string");return"symbol"==(0,t.default)(n)?n:n+""}},23,[24,25]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(o){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(o)}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},24,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return i}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function i(e,t){if("object"!=(0,r.default)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var u=i.call(e,t||"default");if("object"!=(0,r.default)(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},25,[24]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,o){for(var t=arguments.length,f=new Array(t>2?t-2:0),s=2;s<t;s++)f[s-2]=arguments[s];if(!n){var l;if(void 0===o)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;(l=new Error(o.replace(/%s/g,function(){return String(f[u++])}))).name='Invariant Violation'}throw l.framesToPop=1,l}}},26,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return t.unmount(),!0}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},27,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}}),_e.getApplication=function(e,l,u){return{element:c.default.createElement(n.default,{WrapperComponent:u,rootTag:{}},c.default.createElement(e,l)),getStyleElement:e=>{var n=f.default.getSheet();return c.default.createElement("style",(0,t.default)({},e,{dangerouslySetInnerHTML:{__html:n.textContent},id:n.id}))}}};var t=e(r(d[0])),n=e(r(d[1])),l=e(r(d[2])),u=r(d[3]),o=e(u),f=e(r(d[4])),c=e(r(d[5]));function p(e,t,f,p){var s=p.hydrate,_=p.initialProps,y=p.rootTag,E=s?u.hydrate:o.default;return(0,l.default)(y,'Expect to have a valid rootTag, instead got ',y),E(c.default.createElement(n.default,{WrapperComponent:t,ref:f,rootTag:y},c.default.createElement(e,_)),y)}},28,[29,30,26,31,44,36]);
__d(function(g,_r,i,a,m,_e,d){"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},e.apply(null,arguments)}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}})},29,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=function({children:t}){return t}},30,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return u}}),e.hydrate=function(u,o){return(0,n.createSheet)(o),(0,t.hydrateRoot)(o,u)};var t=r(d[0]),n=r(d[1]);function u(u,o){(0,n.createSheet)(o);var c=(0,t.createRoot)(o);return c.render(u),c}},31,[32,40]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function _(){if('undefined'!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&'function'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(_){console.error(_)}})(),m.exports=r(d[0])},32,[33]);
__d(function(e,n,t,r,l,a,o){
/**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var u=n(o[0]),i=n(o[1]),s=n(o[2]);function c(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function d(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function p(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(c(188))}function h(e){var n=e.alternate;if(!n){if(null===(n=d(e)))throw Error(c(188));return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return m(l),e;if(a===r)return m(l),n;a=a.sibling}throw Error(c(188))}if(t.return!==r.return)t=l,r=a;else{for(var o=!1,u=l.child;u;){if(u===t){o=!0,t=l,r=a;break}if(u===r){o=!0,r=l,t=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===t){o=!0,t=a,r=l;break}if(u===r){o=!0,r=a,t=l;break}u=u.sibling}if(!o)throw Error(c(189))}}if(t.alternate!==r)throw Error(c(190))}if(3!==t.tag)throw Error(c(188));return t.stateNode.current===t?e:n}function g(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=g(e)))return n;e=e.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),z=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var F=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var D=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var M=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case w:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList";case F:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case k:return"Portal";case z:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case P:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(n=e.displayName||null)?n:R(e.type)||"Memo";case _:n=e._payload,e=e._init;try{return R(e(n))}catch(e){}}return null}var I=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},H=[],Q=-1;function $(e){return{current:e}}function B(e){0>Q||(e.current=H[Q],H[Q]=null,Q--)}function W(e,n){Q++,H[Q]=e.current,e.current=n}var q=$(null),K=$(null),Y=$(null),X=$(null);function G(e,n){switch(W(Y,n),W(K,e),W(q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?xf(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)e=Cf(n=xf(n),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),W(q,e)}function Z(){B(q),B(K),B(Y)}function J(e){null!==e.memoizedState&&W(X,e);var n=q.current,t=Cf(n,e.type);n!==t&&(W(K,e),W(q,t))}function ee(e){K.current===e&&(B(q),B(K)),X.current===e&&(B(X),wd._currentValue=V)}var ne=Object.prototype.hasOwnProperty,te=u.unstable_scheduleCallback,re=u.unstable_cancelCallback,le=u.unstable_shouldYield,ae=u.unstable_requestPaint,oe=u.unstable_now,ue=u.unstable_getCurrentPriorityLevel,ie=u.unstable_ImmediatePriority,se=u.unstable_UserBlockingPriority,ce=u.unstable_NormalPriority,fe=u.unstable_LowPriority,de=u.unstable_IdlePriority,pe=u.log,me=u.unstable_setDisableYieldValue,he=null,ge=null;function ve(e){if("function"==typeof pe&&me(e),ge&&"function"==typeof ge.setStrictMode)try{ge.setStrictMode(he,e)}catch(e){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/ke|0)|0},be=Math.log,ke=Math.LN2;var we=256,Se=4194304;function Ee(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,n,t){var r=e.pendingLanes;if(0===r)return 0;var l=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var u=134217727&r;return 0!==u?0!==(r=u&~a)?l=Ee(r):0!==(o&=u)?l=Ee(o):t||0!==(t=u&~e)&&(l=Ee(t)):0!==(u=r&~a)?l=Ee(u):0!==o?l=Ee(o):t||0!==(t=r&~e)&&(l=Ee(t)),0===l?0:0!==n&&n!==l&&0===(n&a)&&((a=l&-l)>=(t=n&-n)||32===a&&4194048&t)?n:l}function Ce(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function ze(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function Pe(){var e=we;return!(4194048&(we<<=1))&&(we=256),e}function Ne(){var e=Se;return!(62914560&(Se<<=1))&&(Se=4194304),e}function Le(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Te(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,n,t,r,l,a){var o=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var u=e.entanglements,i=e.expirationTimes,s=e.hiddenUpdates;for(t=o&~t;0<t;){var c=31-ye(t),f=1<<c;u[c]=0,i[c]=-1;var d=s[c];if(null!==d)for(s[c]=null,c=0;c<d.length;c++){var p=d[c];null!==p&&(p.lane&=-536870913)}t&=~f}0!==r&&Fe(e,r,0),0!==a&&0===l&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~n))}function Fe(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-ye(n);e.entangledLanes|=n,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&t}function De(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-ye(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ae(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:Ad(e.type)}function Re(e,n){var t=j.p;try{return j.p=e,n()}finally{j.p=t}}var Ie=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Ie,je="__reactProps$"+Ie,Ve="__reactContainer$"+Ie,He="__reactEvents$"+Ie,Qe="__reactListeners$"+Ie,$e="__reactHandles$"+Ie,Be="__reactResources$"+Ie,We="__reactMarker$"+Ie;function qe(e){delete e[Ue],delete e[je],delete e[He],delete e[Qe],delete e[$e]}function Ke(e){var n=e[Ue];if(n)return n;for(var t=e.parentNode;t;){if(n=t[Ve]||t[Ue]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=Qf(e);null!==e;){if(t=e[Ue])return t;e=Qf(e)}return n}t=(e=t).parentNode}return null}function Ye(e){if(e=e[Ue]||e[Ve]){var n=e.tag;if(5===n||6===n||13===n||26===n||27===n||3===n)return e}return null}function Xe(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e.stateNode;throw Error(c(33))}function Ge(e){var n=e[Be];return n||(n=e[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[We]=!0}var Je=new Set,en={};function nn(e,n){tn(e,n),tn(e+"Capture",n)}function tn(e,n){for(en[e]=n,e=0;e<n.length;e++)Je.add(n[e])}var rn,ln,an=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),on={},un={};function sn(e,n,t){if(l=n,ne.call(un,l)||!ne.call(on,l)&&(an.test(l)?un[l]=!0:(on[l]=!0,0)))if(null===t)e.removeAttribute(n);else{switch(typeof t){case"undefined":case"function":case"symbol":return void e.removeAttribute(n);case"boolean":var r=n.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(n)}e.setAttribute(n,""+t)}var l}function cn(e,n,t){if(null===t)e.removeAttribute(n);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttribute(n,""+t)}}function fn(e,n,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttributeNS(n,t,""+r)}}function dn(e){if(void 0===rn)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);rn=n&&n[1]||"",ln=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+rn+e+ln}var pn=!1;function mn(e,n){if(!e||pn)return"";pn=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}(t=e())&&"function"==typeof t.catch&&t.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],u=a[1];if(o&&u){var i=o.split("\n"),s=u.split("\n");for(l=r=0;r<i.length&&!i[r].includes("DetermineComponentFrameRoot");)r++;for(;l<s.length&&!s[l].includes("DetermineComponentFrameRoot");)l++;if(r===i.length||l===s.length)for(r=i.length-1,l=s.length-1;1<=r&&0<=l&&i[r]!==s[l];)l--;for(;1<=r&&0<=l;r--,l--)if(i[r]!==s[l]){if(1!==r||1!==l)do{if(r--,0>--l||i[r]!==s[l]){var c="\n"+i[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=l);break}}}finally{pn=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?dn(t):""}function hn(e){switch(e.tag){case 26:case 27:case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return mn(e.type,!1);case 11:return mn(e.type.render,!1);case 1:return mn(e.type,!0);case 31:return dn("Activity");default:return""}}function gn(e){try{var n="";do{n+=hn(e),e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function yn(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function bn(e){var n=yn(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==t&&"function"==typeof t.get&&"function"==typeof t.set){var l=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function kn(e){e._valueTracker||(e._valueTracker=bn(e))}function wn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=yn(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function Sn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}var En=/[\n"\\]/g;function xn(e){return e.replace(En,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Cn(e,n,t,r,l,a,o,u){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=n?"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+vn(n)):e.value!==""+vn(n)&&(e.value=""+vn(n)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=n?Pn(e,o,vn(n)):null!=t?Pn(e,o,vn(t)):null!=r&&e.removeAttribute("value"),null==l&&null!=a&&(e.defaultChecked=!!a),null!=l&&(e.checked=l&&"function"!=typeof l&&"symbol"!=typeof l),null!=u&&"function"!=typeof u&&"symbol"!=typeof u&&"boolean"!=typeof u?e.name=""+vn(u):e.removeAttribute("name")}function zn(e,n,t,r,l,a,o,u){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=n||null!=t){if(("submit"===a||"reset"===a)&&null==n)return;t=null!=t?""+vn(t):"",n=null!=n?""+vn(n):t,u||n===e.value||(e.value=n),e.defaultValue=n}r="function"!=typeof(r=null!=r?r:l)&&"symbol"!=typeof r&&!!r,e.checked=u?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o)}function Pn(e,n,t){"number"===n&&Sn(e.ownerDocument)===e||e.defaultValue===""+t||(e.defaultValue=""+t)}function Nn(e,n,t,r){if(e=e.options,n){n={};for(var l=0;l<t.length;l++)n["$"+t[l]]=!0;for(t=0;t<e.length;t++)l=n.hasOwnProperty("$"+e[t].value),e[t].selected!==l&&(e[t].selected=l),l&&r&&(e[t].defaultSelected=!0)}else{for(t=""+vn(t),n=null,l=0;l<e.length;l++){if(e[l].value===t)return e[l].selected=!0,void(r&&(e[l].defaultSelected=!0));null!==n||e[l].disabled||(n=e[l])}null!==n&&(n.selected=!0)}}function Ln(e,n,t){null==n||((n=""+vn(n))!==e.value&&(e.value=n),null!=t)?e.defaultValue=null!=t?""+vn(t):"":e.defaultValue!==n&&(e.defaultValue=n)}function Tn(e,n,t,r){if(null==n){if(null!=r){if(null!=t)throw Error(c(92));if(I(r)){if(1<r.length)throw Error(c(93));r=r[0]}t=r}null==t&&(t=""),n=t}t=vn(n),e.defaultValue=t,(r=e.textContent)===t&&""!==r&&null!==r&&(e.value=r)}function _n(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var Fn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dn(e,n,t){var r=0===n.indexOf("--");null==t||"boolean"==typeof t||""===t?r?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="":r?e.setProperty(n,t):"number"!=typeof t||0===t||Fn.has(n)?"float"===n?e.cssFloat=t:e[n]=(""+t).trim():e[n]=t+"px"}function Mn(e,n,t){if(null!=n&&"object"!=typeof n)throw Error(c(62));if(e=e.style,null!=t){for(var r in t)!t.hasOwnProperty(r)||null!=n&&n.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var l in n)r=n[l],n.hasOwnProperty(l)&&t[l]!==r&&Dn(e,l,r)}else for(var a in n)n.hasOwnProperty(a)&&Dn(e,a,n[a])}function On(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var An=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function In(e){return Rn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Un=null;function jn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Vn=null,Hn=null;function Qn(e){var n=Ye(e);if(n&&(e=n.stateNode)){var t=e[je]||null;e:switch(e=n.stateNode,n.type){case"input":if(Cn(e,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var l=r[je]||null;if(!l)throw Error(c(90));Cn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(n=0;n<t.length;n++)(r=t[n]).form===e.form&&wn(r)}break e;case"textarea":Ln(e,t.value,t.defaultValue);break e;case"select":null!=(n=t.value)&&Nn(e,!!t.multiple,n,!1)}}}var $n=!1;function Bn(e,n,t){if($n)return e(n,t);$n=!0;try{return e(n)}finally{if($n=!1,(null!==Vn||null!==Hn)&&(rc(),Vn&&(n=Vn,e=Hn,Hn=Vn=null,Qn(n),e)))for(n=0;n<e.length;n++)Qn(e[n])}}function Wn(e,n){var t=e.stateNode;if(null===t)return null;var r=t[je]||null;if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!=typeof t)throw Error(c(231,n,typeof t));return t}var qn=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Kn=!1;if(qn)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch(e){Kn=!1}var Xn=null,Gn=null,Zn=null;function Jn(){if(Zn)return Zn;var e,n,t=Gn,r=t.length,l="value"in Xn?Xn.value:Xn.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===l[a-n];n++);return Zn=l.slice(e,1<n?1-n:void 0)}function et(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function nt(){return!0}function tt(){return!1}function rt(e){function n(n,t,r,l,a){for(var o in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=l,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?nt:tt,this.isPropagationStopped=tt,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nt)},persist:function(){},isPersistent:nt}),n}var lt,at,ot,ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},it=rt(ut),st=v({},ut,{view:0,detail:0}),ct=rt(st),ft=v({},st,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:St,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ot&&(ot&&"mousemove"===e.type?(lt=e.screenX-ot.screenX,at=e.screenY-ot.screenY):at=lt=0,ot=e),lt)},movementY:function(e){return"movementY"in e?e.movementY:at}}),dt=rt(ft),pt=rt(v({},ft,{dataTransfer:0})),mt=rt(v({},st,{relatedTarget:0})),ht=rt(v({},ut,{animationName:0,elapsedTime:0,pseudoElement:0})),gt=rt(v({},ut,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),vt=rt(v({},ut,{data:0})),yt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=kt[e])&&!!n[e]}function St(){return wt}var Et=rt(v({},st,{key:function(e){if(e.key){var n=yt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=et(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:St,charCode:function(e){return"keypress"===e.type?et(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?et(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xt=rt(v({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ct=rt(v({},st,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:St})),zt=rt(v({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pt=rt(v({},ft,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nt=rt(v({},ut,{newState:0,oldState:0})),Lt=[9,13,27,32],Tt=qn&&"CompositionEvent"in window,_t=null;qn&&"documentMode"in document&&(_t=document.documentMode);var Ft=qn&&"TextEvent"in window&&!_t,Dt=qn&&(!Tt||_t&&8<_t&&11>=_t),Mt=String.fromCharCode(32),Ot=!1;function At(e,n){switch(e){case"keyup":return-1!==Lt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rt(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var It=!1;function Ut(e,n){switch(e){case"compositionend":return Rt(n);case"keypress":return 32!==n.which?null:(Ot=!0,Mt);case"textInput":return(e=n.data)===Mt&&Ot?null:e;default:return null}}function jt(e,n){if(It)return"compositionend"===e||!Tt&&At(e,n)?(e=Jn(),Zn=Gn=Xn=null,It=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Dt&&"ko"!==n.locale?null:n.data}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Vt[e.type]:"textarea"===n}function Qt(e,n,t,r){Vn?Hn?Hn.push(r):Hn=[r]:Vn=r,0<(n=sf(n,"onChange")).length&&(t=new it("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var $t=null,Bt=null;function Wt(e){ef(e,0)}function qt(e){if(wn(Xe(e)))return e}function Kt(e,n){if("change"===e)return n}var Yt=!1;if(qn){var Xt;if(qn){var Gt="oninput"in document;if(!Gt){var Zt=document.createElement("div");Zt.setAttribute("oninput","return;"),Gt="function"==typeof Zt.oninput}Xt=Gt}else Xt=!1;Yt=Xt&&(!document.documentMode||9<document.documentMode)}function Jt(){$t&&($t.detachEvent("onpropertychange",er),Bt=$t=null)}function er(e){if("value"===e.propertyName&&qt(Bt)){var n=[];Qt(n,Bt,e,jn(e)),Bn(Wt,n)}}function nr(e,n,t){"focusin"===e?(Jt(),Bt=t,($t=n).attachEvent("onpropertychange",er)):"focusout"===e&&Jt()}function tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qt(Bt)}function rr(e,n){if("click"===e)return qt(n)}function lr(e,n){if("input"===e||"change"===e)return qt(n)}var ar="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function or(e,n){if(ar(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var l=t[r];if(!ne.call(n,l)||!ar(e[l],n[l]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,n){var t,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function sr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?sr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function cr(e){for(var n=Sn((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);n instanceof e.HTMLIFrameElement;){try{var t="string"==typeof n.contentWindow.location.href}catch(e){t=!1}if(!t)break;n=Sn((e=n.contentWindow).document)}return n}function fr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}var dr=qn&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,hr=null,gr=!1;function vr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;gr||null==pr||pr!==Sn(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&or(hr,r)||(hr=r,0<(r=sf(mr,"onSelect")).length&&(n=new it("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=pr)))}function yr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var br={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},kr={},wr={};function Sr(e){if(kr[e])return kr[e];if(!br[e])return e;var n,t=br[e];for(n in t)if(t.hasOwnProperty(n)&&n in wr)return kr[e]=t[n];return e}qn&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Er=Sr("animationend"),xr=Sr("animationiteration"),Cr=Sr("animationstart"),zr=Sr("transitionrun"),Pr=Sr("transitionstart"),Nr=Sr("transitioncancel"),Lr=Sr("transitionend"),Tr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,n){Tr.set(e,n),nn(n,[e])}_r.push("scrollEnd");var Dr=new WeakMap;function Mr(e,n){if("object"==typeof e&&null!==e){var t=Dr.get(e);return void 0!==t?t:(n={value:e,source:n,stack:gn(n)},Dr.set(e,n),n)}return{value:e,source:n,stack:gn(n)}}var Or=[],Ar=0,Rr=0;function Ir(){for(var e=Ar,n=Rr=Ar=0;n<e;){var t=Or[n];Or[n++]=null;var r=Or[n];Or[n++]=null;var l=Or[n];Or[n++]=null;var a=Or[n];if(Or[n++]=null,null!==r&&null!==l){var o=r.pending;null===o?l.next=l:(l.next=o.next,o.next=l),r.pending=l}0!==a&&Hr(t,l,a)}}function Ur(e,n,t,r){Or[Ar++]=e,Or[Ar++]=n,Or[Ar++]=t,Or[Ar++]=r,Rr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,n,t,r){return Ur(e,n,t,r),Qr(e)}function Vr(e,n){return Ur(e,null,null,n),Qr(e)}function Hr(e,n,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t);for(var l=!1,a=e.return;null!==a;)a.childLanes|=t,null!==(r=a.alternate)&&(r.childLanes|=t),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(l=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,l&&null!==n&&(l=31-ye(t),null===(r=(e=a.hiddenUpdates)[l])?e[l]=[n]:r.push(n),n.lane=536870912|t),a):null}function Qr(e){if(50<Ks)throw Ks=0,Ys=null,Error(c(185));for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var $r={};function Br(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(e,n,t,r){return new Br(e,n,t,r)}function qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kr(e,n){var t=e.alternate;return null===t?((t=Wr(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=65011712&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function Yr(e,n){e.flags&=65011714;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xr(e,n,t,r,l,a){var o=0;if(r=e,"function"==typeof e)qr(e)&&(o=1);else if("string"==typeof e)o=fd(e,t,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case F:return(e=Wr(31,t,n,l)).elementType=F,e.lanes=a,e;case w:return Gr(t.children,l,a,n);case S:o=8,l|=24;break;case E:return(e=Wr(12,t,n,2|l)).elementType=E,e.lanes=a,e;case N:return(e=Wr(13,t,n,l)).elementType=N,e.lanes=a,e;case L:return(e=Wr(19,t,n,l)).elementType=L,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:case z:o=10;break e;case C:o=9;break e;case P:o=11;break e;case T:o=14;break e;case _:o=16,r=null;break e}o=29,t=Error(c(130,null===e?"null":typeof e,"")),r=null}return(n=Wr(o,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function Gr(e,n,t,r){return(e=Wr(7,e,r,n)).lanes=t,e}function Zr(e,n,t){return(e=Wr(6,e,null,n)).lanes=t,e}function Jr(e,n,t){return(n=Wr(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var el=[],nl=0,tl=null,rl=0,ll=[],al=0,ol=null,ul=1,il="";function sl(e,n){el[nl++]=rl,el[nl++]=tl,tl=e,rl=n}function cl(e,n,t){ll[al++]=ul,ll[al++]=il,ll[al++]=ol,ol=e;var r=ul;e=il;var l=32-ye(r)-1;r&=~(1<<l),t+=1;var a=32-ye(n)+l;if(30<a){var o=l-l%5;a=(r&(1<<o)-1).toString(32),r>>=o,l-=o,ul=1<<32-ye(n)+l|t<<l|r,il=a+e}else ul=1<<a|t<<l|r,il=e}function fl(e){null!==e.return&&(sl(e,1),cl(e,1,0))}function dl(e){for(;e===tl;)tl=el[--nl],el[nl]=null,rl=el[--nl],el[nl]=null;for(;e===ol;)ol=ll[--al],ll[al]=null,il=ll[--al],ll[al]=null,ul=ll[--al],ll[al]=null}var pl=null,ml=null,hl=!1,gl=null,vl=!1,yl=Error(c(519));function bl(e){throw Cl(Mr(Error(c(418,"")),e)),yl}function kl(e){var n=e.stateNode,t=e.type,r=e.memoizedProps;switch(n[Ue]=e,n[je]=r,t){case"dialog":nf("cancel",n),nf("close",n);break;case"iframe":case"object":case"embed":nf("load",n);break;case"video":case"audio":for(t=0;t<Zc.length;t++)nf(Zc[t],n);break;case"source":nf("error",n);break;case"img":case"image":case"link":nf("error",n),nf("load",n);break;case"details":nf("toggle",n);break;case"input":nf("invalid",n),zn(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),kn(n);break;case"select":nf("invalid",n);break;case"textarea":nf("invalid",n),Tn(n,r.value,r.defaultValue,r.children),kn(n)}"string"!=typeof(t=r.children)&&"number"!=typeof t&&"bigint"!=typeof t||n.textContent===""+t||!0===r.suppressHydrationWarning||hf(n.textContent,t)?(null!=r.popover&&(nf("beforetoggle",n),nf("toggle",n)),null!=r.onScroll&&nf("scroll",n),null!=r.onScrollEnd&&nf("scrollend",n),null!=r.onClick&&(n.onclick=gf),n=!0):n=!1,n||bl(e)}function wl(e){for(pl=e.return;pl;)switch(pl.tag){case 5:case 13:return void(vl=!1);case 27:case 3:return void(vl=!0);default:pl=pl.return}}function Sl(e){if(e!==pl)return!1;if(!hl)return wl(e),hl=!0,!1;var n,t=e.tag;if((n=3!==t&&27!==t)&&((n=5===t)&&(n=!("form"!==(n=e.type)&&"button"!==n)||zf(e.type,e.memoizedProps)),n=!n),n&&ml&&bl(e),wl(e),13===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType)if("/$"===(n=e.data)){if(0===t){ml=Vf(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++;e=e.nextSibling}ml=null}}else 27===t?(t=ml,Mf(e.type)?(e=Hf,Hf=null,ml=e):ml=t):ml=pl?Vf(e.stateNode.nextSibling):null;return!0}function El(){ml=pl=null,hl=!1}function xl(){var e=gl;return null!==e&&(null===Os?Os=e:Os.push.apply(Os,e),gl=null),e}function Cl(e){null===gl?gl=[e]:gl.push(e)}var zl=$(null),Pl=null,Nl=null;function Ll(e,n,t){W(zl,n._currentValue),n._currentValue=t}function Tl(e){e._currentValue=zl.current,B(zl)}function _l(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Fl(e,n,t,r){var l=e.child;for(null!==l&&(l.return=e);null!==l;){var a=l.dependencies;if(null!==a){var o=l.child;a=a.firstContext;e:for(;null!==a;){var u=a;a=l;for(var i=0;i<n.length;i++)if(u.context===n[i]){a.lanes|=t,null!==(u=a.alternate)&&(u.lanes|=t),_l(a.return,t,e),r||(o=null);break e}a=u.next}}else if(18===l.tag){if(null===(o=l.return))throw Error(c(341));o.lanes|=t,null!==(a=o.alternate)&&(a.lanes|=t),_l(o,t,e),o=null}else o=l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===e){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}}function Dl(e,n,t,r){e=null;for(var l=n,a=!1;null!==l;){if(!a)if(524288&l.flags)a=!0;else if(262144&l.flags)break;if(10===l.tag){var o=l.alternate;if(null===o)throw Error(c(387));if(null!==(o=o.memoizedProps)){var u=l.type;ar(l.pendingProps.value,o.value)||(null!==e?e.push(u):e=[u])}}else if(l===X.current){if(null===(o=l.alternate))throw Error(c(387));o.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(null!==e?e.push(wd):e=[wd])}l=l.return}null!==e&&Fl(n,e,t,r),n.flags|=262144}function Ml(e){for(e=e.firstContext;null!==e;){if(!ar(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ol(e){Pl=e,Nl=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Al(e){return Il(Pl,e)}function Rl(e,n){return null===Pl&&Ol(e),Il(e,n)}function Il(e,n){var t=n._currentValue;if(n={context:n,memoizedValue:t,next:null},null===Nl){if(null===e)throw Error(c(308));Nl=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Nl=Nl.next=n;return t}var Ul="undefined"!=typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},jl=u.unstable_scheduleCallback,Vl=u.unstable_NormalPriority,Hl={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ql(){return{controller:new Ul,data:new Map,refCount:0}}function $l(e){e.refCount--,0===e.refCount&&jl(Vl,function(){e.controller.abort()})}var Bl=null,Wl=0,ql=0,Kl=null;function Yl(e,n){if(null===Bl){var t=Bl=[];Wl=0,ql=Wc(),Kl={status:"pending",value:void 0,then:function(e){t.push(e)}}}return Wl++,n.then(Xl,Xl),n}function Xl(){if(0===--Wl&&null!==Bl){null!==Kl&&(Kl.status="fulfilled");var e=Bl;Bl=null,ql=0,Kl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var Gl=U.S;U.S=function(e,n){"object"==typeof n&&null!==n&&"function"==typeof n.then&&Yl(0,n),null!==Gl&&Gl(e,n)};var Zl=$(null);function Jl(){var e=Zl.current;return null!==e?e:bs.pooledCache}function ea(e,n){W(Zl,null===n?Zl.current:n.pool)}function na(){var e=Jl();return null===e?null:{parent:Hl._currentValue,pool:e}}var ta=Error(c(460)),ra=Error(c(474)),la=Error(c(542)),aa={then:function(){}};function oa(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ua(){}function ia(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(ua,ua),n=t),n.status){case"fulfilled":return n.value;case"rejected":throw fa(e=n.reason),e;default:if("string"==typeof n.status)n.then(ua,ua);else{if(null!==(e=bs)&&100<e.shellSuspendCounter)throw Error(c(482));(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw fa(e=n.reason),e}throw sa=n,ta}}var sa=null;function ca(){if(null===sa)throw Error(c(459));var e=sa;return sa=null,e}function fa(e){if(e===ta||e===la)throw Error(c(483))}var da=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ma(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ga(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ys){var l=r.pending;return null===l?n.next=n:(n.next=l.next,l.next=n),r.pending=n,n=Qr(e),Hr(e,null,t),n}return Ur(e,r,n,t),Qr(e)}function va(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194048&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,De(e,t)}}function ya(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var o={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===a?l=a=o:a=a.next=o,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}var ba=!1;function ka(){if(ba){if(null!==Kl)throw Kl}}function wa(e,n,t,r){ba=!1;var l=e.updateQueue;da=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,u=l.shared.pending;if(null!==u){l.shared.pending=null;var i=u,s=i.next;i.next=null,null===o?a=s:o.next=s,o=i;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=s:u.next=s,c.lastBaseUpdate=i))}if(null!==a){var f=l.baseState;for(o=0,c=s=i=null,u=a;;){var d=-536870913&u.lane,p=d!==u.lane;if(p?(ws&d)===d:(r&d)===d){0!==d&&d===ql&&(ba=!0),null!==c&&(c=c.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var m=e,h=u;d=n;var g=t;switch(h.tag){case 1:if("function"==typeof(m=h.payload)){f=m.call(g,f,d);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(d="function"==typeof(m=h.payload)?m.call(g,f,d):m))break e;f=v({},f,d);break e;case 2:da=!0}}null!==(d=u.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=l.callbacks)?l.callbacks=[d]:p.push(d))}else p={lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(s=c=p,i=f):c=c.next=p,o|=d;if(null===(u=u.next)){if(null===(u=l.shared.pending))break;u=(p=u).next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}null===c&&(i=f),l.baseState=i,l.firstBaseUpdate=s,l.lastBaseUpdate=c,null===a&&(l.shared.lanes=0),Ls|=o,e.lanes=o,e.memoizedState=f}}function Sa(e,n){if("function"!=typeof e)throw Error(c(191,e));e.call(n)}function Ea(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)Sa(t[e],n)}var xa=$(null),Ca=$(0);function za(e,n){W(Ca,e=Ps),W(xa,n),Ps=e|n.baseLanes}function Pa(){W(Ca,Ps),W(xa,xa.current)}function Na(){Ps=Ca.current,B(xa),B(Ca)}var La=0,Ta=null,_a=null,Fa=null,Da=!1,Ma=!1,Oa=!1,Aa=0,Ra=0,Ia=null,Ua=0;function ja(){throw Error(c(321))}function Va(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!ar(e[t],n[t]))return!1;return!0}function Ha(e,n,t,r,l,a){return La=a,Ta=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=null===e||null===e.memoizedState?lu:au,Oa=!1,a=t(r,l),Oa=!1,Ma&&(a=$a(n,t,r,l)),Qa(e),a}function Qa(e){U.H=ru;var n=null!==_a&&null!==_a.next;if(La=0,Fa=_a=Ta=null,Da=!1,Ra=0,Ia=null,n)throw Error(c(300));null===e||ju||null!==(e=e.dependencies)&&Ml(e)&&(ju=!0)}function $a(e,n,t,r){Ta=e;var l=0;do{if(Ma&&(Ia=null),Ra=0,Ma=!1,25<=l)throw Error(c(301));if(l+=1,Fa=_a=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}U.H=ou,a=n(t,r)}while(Ma);return a}function Ba(){var e=U.H,n=e.useState()[0];return n="function"==typeof n.then?Ga(n):n,e=e.useState()[0],(null!==_a?_a.memoizedState:null)!==e&&(Ta.flags|=1024),n}function Wa(){var e=0!==Aa;return Aa=0,e}function qa(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function Ka(e){if(Da){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}Da=!1}La=0,Fa=_a=Ta=null,Ma=!1,Ra=Aa=0,Ia=null}function Ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fa?Ta.memoizedState=Fa=e:Fa=Fa.next=e,Fa}function Xa(){if(null===_a){var e=Ta.alternate;e=null!==e?e.memoizedState:null}else e=_a.next;var n=null===Fa?Ta.memoizedState:Fa.next;if(null!==n)Fa=n,_a=e;else{if(null===e){if(null===Ta.alternate)throw Error(c(467));throw Error(c(310))}e={memoizedState:(_a=e).memoizedState,baseState:_a.baseState,baseQueue:_a.baseQueue,queue:_a.queue,next:null},null===Fa?Ta.memoizedState=Fa=e:Fa=Fa.next=e}return Fa}function Ga(e){var n=Ra;return Ra+=1,null===Ia&&(Ia=[]),e=ia(Ia,e,n),n=Ta,null===(null===Fa?n.memoizedState:Fa.next)&&(n=n.alternate,U.H=null===n||null===n.memoizedState?lu:au),e}function Za(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ga(e);if(e.$$typeof===z)return Al(e)}throw Error(c(438,String(e)))}function Ja(e){var n=null,t=Ta.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var r=Ta.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(n={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ta.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),r=0;r<e;r++)t[r]=D;return n.index++,t}function eo(e,n){return"function"==typeof n?n(e):n}function no(e){return to(Xa(),_a,e)}function to(e,n,t){var r=e.queue;if(null===r)throw Error(c(311));r.lastRenderedReducer=t;var l=e.baseQueue,a=r.pending;if(null!==a){if(null!==l){var o=l.next;l.next=a.next,a.next=o}n.baseQueue=l=a,r.pending=null}if(a=e.baseState,null===l)e.memoizedState=a;else{var u=o=null,i=null,s=n=l.next,f=!1;do{var d=-536870913&s.lane;if(d!==s.lane?(ws&d)===d:(La&d)===d){var p=s.revertLane;if(0===p)null!==i&&(i=i.next={lane:0,revertLane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),d===ql&&(f=!0);else{if((La&p)===p){s=s.next,p===ql&&(f=!0);continue}d={lane:0,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===i?(u=i=d,o=a):i=i.next=d,Ta.lanes|=p,Ls|=p}d=s.action,Oa&&t(a,d),a=s.hasEagerState?s.eagerState:t(a,d)}else p={lane:d,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===i?(u=i=p,o=a):i=i.next=p,Ta.lanes|=d,Ls|=d;s=s.next}while(null!==s&&s!==n);if(null===i?o=a:i.next=u,!ar(a,e.memoizedState)&&(ju=!0,f&&null!==(t=Kl)))throw t;e.memoizedState=a,e.baseState=o,e.baseQueue=i,r.lastRenderedState=a}return null===l&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ro(e){var n=Xa(),t=n.queue;if(null===t)throw Error(c(311));t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var o=l=l.next;do{a=e(a,o.action),o=o.next}while(o!==l);ar(a,n.memoizedState)||(ju=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function lo(e,n,t){var r=Ta,l=Xa(),a=hl;if(a){if(void 0===t)throw Error(c(407));t=t()}else t=n();var o=!ar((_a||l).memoizedState,t);if(o&&(l.memoizedState=t,ju=!0),l=l.queue,Lo(2048,8,uo.bind(null,r,l,e),[e]),l.getSnapshot!==n||o||null!==Fa&&1&Fa.memoizedState.tag){if(r.flags|=2048,Co(9,zo(),oo.bind(null,r,l,t,n),null),null===bs)throw Error(c(349));a||124&La||ao(r,n,t)}return t}function ao(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=Ta.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},Ta.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function oo(e,n,t,r){n.value=t,n.getSnapshot=r,io(n)&&so(e)}function uo(e,n,t){return t(function(){io(n)&&so(e)})}function io(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!ar(e,t)}catch(e){return!0}}function so(e){var n=Vr(e,2);null!==n&&Zs(n,e,2)}function co(e){var n=Ya();if("function"==typeof e){var t=e;if(e=t(),Oa){ve(!0);try{t()}finally{ve(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e},n}function fo(e,n,t,r){return e.baseState=t,to(e,_a,"function"==typeof r?r:eo)}function po(e,n,t,r,l){if(eu(e))throw Error(c(485));if(null!==(e=n.action)){var a={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==U.T?t(!0):a.isTransition=!1,r(a),null===(t=n.pending)?(a.next=n.pending=a,mo(n,a)):(a.next=t.next,n.pending=t.next=a)}}function mo(e,n){var t=n.action,r=n.payload,l=e.state;if(n.isTransition){var a=U.T,o={};U.T=o;try{var u=t(l,r),i=U.S;null!==i&&i(o,u),ho(e,n,u)}catch(t){vo(e,n,t)}finally{U.T=a}}else try{ho(e,n,a=t(l,r))}catch(t){vo(e,n,t)}}function ho(e,n,t){null!==t&&"object"==typeof t&&"function"==typeof t.then?t.then(function(t){go(e,n,t)},function(t){return vo(e,n,t)}):go(e,n,t)}function go(e,n,t){n.status="fulfilled",n.value=t,yo(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,mo(e,t)))}function vo(e,n,t){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{n.status="rejected",n.reason=t,yo(n),n=n.next}while(n!==r)}e.action=null}function yo(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bo(e,n){return n}function ko(e,n){if(hl){var t=bs.formState;if(null!==t){e:{var r=Ta;if(hl){if(ml){n:{for(var l=ml,a=vl;8!==l.nodeType;){if(!a){l=null;break n}if(null===(l=Vf(l.nextSibling))){l=null;break n}}l="F!"===(a=l.data)||"F"===a?l:null}if(l){ml=Vf(l.nextSibling),r="F!"===l.data;break e}}bl(r)}r=!1}r&&(n=t[0])}}return(t=Ya()).memoizedState=t.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:n},t.queue=r,t=Go.bind(null,Ta,r),r.dispatch=t,r=co(!1),a=Jo.bind(null,Ta,!1,r.queue),l={state:n,dispatch:null,action:e,pending:null},(r=Ya()).queue=l,t=po.bind(null,Ta,l,a,t),l.dispatch=t,r.memoizedState=e,[n,t,!1]}function wo(e){return So(Xa(),_a,e)}function So(e,n,t){if(n=to(e,n,bo)[0],e=no(eo)[0],"object"==typeof n&&null!==n&&"function"==typeof n.then)try{var r=Ga(n)}catch(e){if(e===ta)throw la;throw e}else r=n;var l=(n=Xa()).queue,a=l.dispatch;return t!==n.memoizedState&&(Ta.flags|=2048,Co(9,zo(),Eo.bind(null,l,t),null)),[r,a,e]}function Eo(e,n){e.action=n}function xo(e){var n=Xa(),t=_a;if(null!==t)return So(n,t,e);Xa(),n=n.memoizedState;var r=(t=Xa()).queue.dispatch;return t.memoizedState=e,[n,r,!1]}function Co(e,n,t,r){return e={tag:e,create:t,deps:r,inst:n,next:null},null===(n=Ta.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ta.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function zo(){return{destroy:void 0,resource:void 0}}function Po(){return Xa().memoizedState}function No(e,n,t,r){var l=Ya();r=void 0===r?null:r,Ta.flags|=e,l.memoizedState=Co(1|n,{destroy:void 0,resource:void 0},t,r)}function Lo(e,n,t,r){var l=Xa();r=void 0===r?null:r;var a=l.memoizedState.inst;null!==_a&&null!==r&&Va(r,_a.memoizedState.deps)?l.memoizedState=Co(n,a,t,r):(Ta.flags|=e,l.memoizedState=Co(1|n,a,t,r))}function To(e,n){No(8390656,8,e,n)}function _o(e,n){Lo(2048,8,e,n)}function Fo(e,n){return Lo(4,2,e,n)}function Do(e,n){return Lo(4,4,e,n)}function Mo(e,n){if("function"==typeof n){e=e();var t=n(e);return function(){"function"==typeof t?t():n(null)}}if(null!=n)return e=e(),n.current=e,function(){n.current=null}}function Oo(e,n,t){t=null!=t?t.concat([e]):null,Lo(4,4,Mo.bind(null,n,e),t)}function Ao(){}function Ro(e,n){var t=Xa();n=void 0===n?null:n;var r=t.memoizedState;return null!==n&&Va(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Io(e,n){var t=Xa();n=void 0===n?null:n;var r=t.memoizedState;if(null!==n&&Va(n,r[1]))return r[0];if(r=e(),Oa){ve(!0);try{e()}finally{ve(!1)}}return t.memoizedState=[r,n],r}function Uo(e,n,t){return void 0===t||1073741824&La?e.memoizedState=n:(e.memoizedState=t,e=Gs(),Ta.lanes|=e,Ls|=e,t)}function jo(e,n,t,r){return ar(t,n)?t:null!==xa.current?(e=Uo(e,t,r),ar(e,n)||(ju=!0),e):42&La?(e=Gs(),Ta.lanes|=e,Ls|=e,n):(ju=!0,e.memoizedState=t)}function Vo(e,n,t,r,l){var a=j.p;j.p=0!==a&&8>a?a:8;var o,u,i,s=U.T,c={};U.T=c,Jo(e,!1,n,t);try{var f=l(),d=U.S;if(null!==d&&d(c,f),null!==f&&"object"==typeof f&&"function"==typeof f.then)Zo(e,n,(o=r,u=[],i={status:"pending",value:null,reason:null,then:function(e){u.push(e)}},f.then(function(){i.status="fulfilled",i.value=o;for(var e=0;e<u.length;e++)(0,u[e])(o)},function(e){for(i.status="rejected",i.reason=e,e=0;e<u.length;e++)(0,u[e])(void 0)}),i),Xs());else Zo(e,n,r,Xs())}catch(t){Zo(e,n,{then:function(){},status:"rejected",reason:t},Xs())}finally{j.p=a,U.T=s}}function Ho(){}function Qo(e,n,t,r){if(5!==e.tag)throw Error(c(476));var l=$o(e).queue;Vo(e,l,n,V,null===t?Ho:function(){return Bo(e),t(r)})}function $o(e){var n=e.memoizedState;if(null!==n)return n;var t={};return(n={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:V},next:null}).next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:t},next:null},e.memoizedState=n,null!==(e=e.alternate)&&(e.memoizedState=n),n}function Bo(e){Zo(e,$o(e).next.queue,{},Xs())}function Wo(){return Al(wd)}function qo(){return Xa().memoizedState}function Ko(){return Xa().memoizedState}function Yo(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Xs(),r=ga(n,e=ha(t),t);return null!==r&&(Zs(r,n,t),va(r,n,t)),n={cache:Ql()},void(e.payload=n)}n=n.return}}function Xo(e,n,t){var r=Xs();t={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},eu(e)?nu(n,t):null!==(t=jr(e,n,t,r))&&(Zs(t,e,r),tu(t,n,r))}function Go(e,n,t){Zo(e,n,t,Xs())}function Zo(e,n,t,r){var l={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(eu(e))nu(n,l);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var o=n.lastRenderedState,u=a(o,t);if(l.hasEagerState=!0,l.eagerState=u,ar(u,o))return Ur(e,n,l,0),null===bs&&Ir(),!1}catch(e){}if(null!==(t=jr(e,n,l,r)))return Zs(t,e,r),tu(t,n,r),!0}return!1}function Jo(e,n,t,r){if(r={lane:2,revertLane:Wc(),action:r,hasEagerState:!1,eagerState:null,next:null},eu(e)){if(n)throw Error(c(479))}else null!==(n=jr(e,t,r,2))&&Zs(n,e,2)}function eu(e){var n=e.alternate;return e===Ta||null!==n&&n===Ta}function nu(e,n){Ma=Da=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function tu(e,n,t){if(4194048&t){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,De(e,t)}}var ru={readContext:Al,use:Za,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useLayoutEffect:ja,useInsertionEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useDeferredValue:ja,useTransition:ja,useSyncExternalStore:ja,useId:ja,useHostTransitionStatus:ja,useFormState:ja,useActionState:ja,useOptimistic:ja,useMemoCache:ja,useCacheRefresh:ja},lu={readContext:Al,use:Za,useCallback:function(e,n){return Ya().memoizedState=[e,void 0===n?null:n],e},useContext:Al,useEffect:To,useImperativeHandle:function(e,n,t){t=null!=t?t.concat([e]):null,No(4194308,4,Mo.bind(null,n,e),t)},useLayoutEffect:function(e,n){return No(4194308,4,e,n)},useInsertionEffect:function(e,n){No(4,2,e,n)},useMemo:function(e,n){var t=Ya();n=void 0===n?null:n;var r=e();if(Oa){ve(!0);try{e()}finally{ve(!1)}}return t.memoizedState=[r,n],r},useReducer:function(e,n,t){var r=Ya();if(void 0!==t){var l=t(n);if(Oa){ve(!0);try{t(n)}finally{ve(!1)}}}else l=n;return r.memoizedState=r.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},r.queue=e,e=e.dispatch=Xo.bind(null,Ta,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ya().memoizedState=e},useState:function(e){var n=(e=co(e)).queue,t=Go.bind(null,Ta,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:Ao,useDeferredValue:function(e,n){return Uo(Ya(),e,n)},useTransition:function(){var e=co(!1);return e=Vo.bind(null,Ta,e.queue,!0,!1),Ya().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,t){var r=Ta,l=Ya();if(hl){if(void 0===t)throw Error(c(407));t=t()}else{if(t=n(),null===bs)throw Error(c(349));124&ws||ao(r,n,t)}l.memoizedState=t;var a={value:t,getSnapshot:n};return l.queue=a,To(uo.bind(null,r,a,e),[e]),r.flags|=2048,Co(9,{destroy:void 0,resource:void 0},oo.bind(null,r,a,t,n),null),t},useId:function(){var e=Ya(),n=bs.identifierPrefix;if(hl){var t=il;n="\xab"+n+"R"+(t=(ul&~(1<<32-ye(ul)-1)).toString(32)+t),0<(t=Aa++)&&(n+="H"+t.toString(32)),n+="\xbb"}else n="\xab"+n+"r"+(t=Ua++).toString(32)+"\xbb";return e.memoizedState=n},useHostTransitionStatus:Wo,useFormState:ko,useActionState:ko,useOptimistic:function(e){var n=Ya();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=Jo.bind(null,Ta,!0,t),t.dispatch=n,[e,n]},useMemoCache:Ja,useCacheRefresh:function(){return Ya().memoizedState=Yo.bind(null,Ta)}},au={readContext:Al,use:Za,useCallback:Ro,useContext:Al,useEffect:_o,useImperativeHandle:Oo,useInsertionEffect:Fo,useLayoutEffect:Do,useMemo:Io,useReducer:no,useRef:Po,useState:function(){return no(eo)},useDebugValue:Ao,useDeferredValue:function(e,n){return jo(Xa(),_a.memoizedState,e,n)},useTransition:function(){var e=no(eo)[0],n=Xa().memoizedState;return["boolean"==typeof e?e:Ga(e),n]},useSyncExternalStore:lo,useId:qo,useHostTransitionStatus:Wo,useFormState:wo,useActionState:wo,useOptimistic:function(e,n){return fo(Xa(),0,e,n)},useMemoCache:Ja,useCacheRefresh:Ko},ou={readContext:Al,use:Za,useCallback:Ro,useContext:Al,useEffect:_o,useImperativeHandle:Oo,useInsertionEffect:Fo,useLayoutEffect:Do,useMemo:Io,useReducer:ro,useRef:Po,useState:function(){return ro(eo)},useDebugValue:Ao,useDeferredValue:function(e,n){var t=Xa();return null===_a?Uo(t,e,n):jo(t,_a.memoizedState,e,n)},useTransition:function(){var e=ro(eo)[0],n=Xa().memoizedState;return["boolean"==typeof e?e:Ga(e),n]},useSyncExternalStore:lo,useId:qo,useHostTransitionStatus:Wo,useFormState:xo,useActionState:xo,useOptimistic:function(e,n){var t=Xa();return null!==_a?fo(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])},useMemoCache:Ja,useCacheRefresh:Ko},uu=null,iu=0;function su(e){var n=iu;return iu+=1,null===uu&&(uu=[]),ia(uu,e,n)}function cu(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function fu(e,n){if(n.$$typeof===y)throw Error(c(525));throw e=Object.prototype.toString.call(n),Error(c(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function du(e){return(0,e._init)(e._payload)}function pu(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function l(e,n){return(e=Kr(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=67108866,t):r:(n.flags|=67108866,t):(n.flags|=1048576,t)}function o(n){return e&&null===n.alternate&&(n.flags|=67108866),n}function u(e,n,t,r){return null===n||6!==n.tag?((n=Zr(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function i(e,n,t,r){var a=t.type;return a===w?f(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===_&&du(a)===n.type)?(cu(n=l(n,t.props),t),n.return=e,n):(cu(n=Xr(t.type,t.key,t.props,null,e.mode,r),t),n.return=e,n)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Jr(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function f(e,n,t,r,a){return null===n||7!==n.tag?((n=Gr(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function d(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return(n=Zr(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return cu(t=Xr(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case k:return(n=Jr(n,e.mode,t)).return=e,n;case _:return d(e,n=(0,n._init)(n._payload),t)}if(I(n)||O(n))return(n=Gr(n,e.mode,t,null)).return=e,n;if("function"==typeof n.then)return d(e,su(n),t);if(n.$$typeof===z)return d(e,Rl(e,n),t);fu(e,n)}return null}function p(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return null!==l?null:u(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return t.key===l?i(e,n,t,r):null;case k:return t.key===l?s(e,n,t,r):null;case _:return p(e,n,t=(l=t._init)(t._payload),r)}if(I(t)||O(t))return null!==l?null:f(e,n,t,r,null);if("function"==typeof t.then)return p(e,n,su(t),r);if(t.$$typeof===z)return p(e,n,Rl(e,t),r);fu(e,t)}return null}function m(e,n,t,r,l){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return u(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return i(n,e=e.get(null===r.key?t:r.key)||null,r,l);case k:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l);case _:return m(e,n,t,r=(0,r._init)(r._payload),l)}if(I(r)||O(r))return f(n,e=e.get(t)||null,r,l,null);if("function"==typeof r.then)return m(e,n,t,su(r),l);if(r.$$typeof===z)return m(e,n,t,Rl(n,r),l);fu(n,r)}return null}function h(l,o,u,i){for(var s=null,c=null,f=o,h=o=0,g=null;null!==f&&h<u.length;h++){f.index>h?(g=f,f=null):g=f.sibling;var v=p(l,f,u[h],i);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&n(l,f),o=a(v,o,h),null===c?s=v:c.sibling=v,c=v,f=g}if(h===u.length)return t(l,f),hl&&sl(l,h),s;if(null===f){for(;h<u.length;h++)null!==(f=d(l,u[h],i))&&(o=a(f,o,h),null===c?s=f:c.sibling=f,c=f);return hl&&sl(l,h),s}for(f=r(f);h<u.length;h++)null!==(g=m(f,l,h,u[h],i))&&(e&&null!==g.alternate&&f.delete(null===g.key?h:g.key),o=a(g,o,h),null===c?s=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return n(l,e)}),hl&&sl(l,h),s}function g(l,o,u,i){if(null==u)throw Error(c(151));for(var s=null,f=null,h=o,g=o=0,v=null,y=u.next();null!==h&&!y.done;g++,y=u.next()){h.index>g?(v=h,h=null):v=h.sibling;var b=p(l,h,y.value,i);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&n(l,h),o=a(b,o,g),null===f?s=b:f.sibling=b,f=b,h=v}if(y.done)return t(l,h),hl&&sl(l,g),s;if(null===h){for(;!y.done;g++,y=u.next())null!==(y=d(l,y.value,i))&&(o=a(y,o,g),null===f?s=y:f.sibling=y,f=y);return hl&&sl(l,g),s}for(h=r(h);!y.done;g++,y=u.next())null!==(y=m(h,l,g,y.value,i))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),o=a(y,o,g),null===f?s=y:f.sibling=y,f=y);return e&&h.forEach(function(e){return n(l,e)}),hl&&sl(l,g),s}function v(e,r,a,u){if("object"==typeof a&&null!==a&&a.type===w&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var i=a.key;null!==r;){if(r.key===i){if((i=a.type)===w){if(7===r.tag){t(e,r.sibling),(u=l(r,a.props.children)).return=e,e=u;break e}}else if(r.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===_&&du(i)===r.type){t(e,r.sibling),cu(u=l(r,a.props),a),u.return=e,e=u;break e}t(e,r);break}n(e,r),r=r.sibling}a.type===w?((u=Gr(a.props.children,e.mode,u,a.key)).return=e,e=u):(cu(u=Xr(a.type,a.key,a.props,null,e.mode,u),a),u.return=e,e=u)}return o(e);case k:e:{for(i=a.key;null!==r;){if(r.key===i){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){t(e,r.sibling),(u=l(r,a.children||[])).return=e,e=u;break e}t(e,r);break}n(e,r),r=r.sibling}(u=Jr(a,e.mode,u)).return=e,e=u}return o(e);case _:return v(e,r,a=(i=a._init)(a._payload),u)}if(I(a))return h(e,r,a,u);if(O(a)){if("function"!=typeof(i=O(a)))throw Error(c(150));return g(e,r,a=i.call(a),u)}if("function"==typeof a.then)return v(e,r,su(a),u);if(a.$$typeof===z)return v(e,r,Rl(e,a),u);fu(e,a)}return"string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a?(a=""+a,null!==r&&6===r.tag?(t(e,r.sibling),(u=l(r,a)).return=e,e=u):(t(e,r),(u=Zr(a,e.mode,u)).return=e,e=u),o(e)):t(e,r)}return function(e,n,t,r){try{iu=0;var l=v(e,n,t,r);return uu=null,l}catch(n){if(n===ta||n===la)throw n;var a=Wr(29,n,null,e.mode);return a.lanes=r,a.return=e,a}}}var mu=pu(!0),hu=pu(!1),gu=$(null),vu=null;function yu(e){var n=e.alternate;W(Su,1&Su.current),W(gu,e),null===vu&&(null===n||null!==xa.current||null!==n.memoizedState)&&(vu=e)}function bu(e){if(22===e.tag){if(W(Su,Su.current),W(gu,e),null===vu){var n=e.alternate;null!==n&&null!==n.memoizedState&&(vu=e)}}else ku()}function ku(){W(Su,Su.current),W(gu,gu.current)}function wu(e){B(gu),vu===e&&(vu=null),B(Su)}var Su=$(0);function Eu(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||Uf(t)))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function xu(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:v({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var Cu={enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Xs(),l=ha(r);l.payload=n,null!=t&&(l.callback=t),null!==(n=ga(e,l,r))&&(Zs(n,e,r),va(n,e,r))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Xs(),l=ha(r);l.tag=1,l.payload=n,null!=t&&(l.callback=t),null!==(n=ga(e,l,r))&&(Zs(n,e,r),va(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Xs(),r=ha(t);r.tag=2,null!=n&&(r.callback=n),null!==(n=ga(e,r,t))&&(Zs(n,e,t),va(n,e,t))}};function zu(e,n,t,r,l,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!n.prototype||!n.prototype.isPureReactComponent||(!or(t,r)||!or(l,a))}function Pu(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Cu.enqueueReplaceState(n,n.state,null)}function Nu(e,n){var t=n;if("ref"in n)for(var r in t={},n)"ref"!==r&&(t[r]=n[r]);if(e=e.defaultProps)for(var l in t===n&&(t=v({},t)),e)void 0===t[l]&&(t[l]=e[l]);return t}var Lu="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Tu(e){Lu(e)}function _u(e){console.error(e)}function Fu(e){Lu(e)}function Du(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(e){setTimeout(function(){throw e})}}function Mu(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Ou(e,n,t){return(t=ha(t)).tag=3,t.payload={element:null},t.callback=function(){Du(e,n)},t}function Au(e){return(e=ha(e)).tag=3,e}function Ru(e,n,t,r){var l=t.type.getDerivedStateFromError;if("function"==typeof l){var a=r.value;e.payload=function(){return l(a)},e.callback=function(){Mu(n,t,r)}}var o=t.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Mu(n,t,r),"function"!=typeof l&&(null===js?js=new Set([this]):js.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}function Iu(e,n,t,r,l){if(t.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(n=t.alternate)&&Dl(n,t,l,!0),null!==(t=gu.current)){switch(t.tag){case 13:return null===vu?sc():null===t.alternate&&0===Ns&&(Ns=3),t.flags&=-257,t.flags|=65536,t.lanes=l,r===aa?t.flags|=16384:(null===(n=t.updateQueue)?t.updateQueue=new Set([r]):n.add(r),Nc(e,r,l)),!1;case 22:return t.flags|=65536,r===aa?t.flags|=16384:(null===(n=t.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},t.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([r]):t.add(r),Nc(e,r,l)),!1}throw Error(c(435,t.tag))}return Nc(e,r,l),sc(),!1}if(hl)return null!==(n=gu.current)?(!(65536&n.flags)&&(n.flags|=256),n.flags|=65536,n.lanes=l,r!==yl&&Cl(Mr(e=Error(c(422),{cause:r}),t))):(r!==yl&&Cl(Mr(n=Error(c(423),{cause:r}),t)),(e=e.current.alternate).flags|=65536,l&=-l,e.lanes|=l,r=Mr(r,t),ya(e,l=Ou(e.stateNode,r,l)),4!==Ns&&(Ns=2)),!1;var a=Error(c(520),{cause:r});if(a=Mr(a,t),null===Ms?Ms=[a]:Ms.push(a),4!==Ns&&(Ns=2),null===n)return!0;r=Mr(r,t),t=n;do{switch(t.tag){case 3:return t.flags|=65536,e=l&-l,t.lanes|=e,ya(t,e=Ou(t.stateNode,r,e)),!1;case 1:if(n=t.type,a=t.stateNode,!(128&t.flags||"function"!=typeof n.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==js&&js.has(a))))return t.flags|=65536,l&=-l,t.lanes|=l,Ru(l=Au(l),e,t,r),ya(t,l),!1}t=t.return}while(null!==t);return!1}var Uu=Error(c(461)),ju=!1;function Vu(e,n,t,r){n.child=null===e?hu(n,null,t,r):mu(n,e.child,t,r)}function Hu(e,n,t,r,l){t=t.render;var a=n.ref;if("ref"in r){var o={};for(var u in r)"ref"!==u&&(o[u]=r[u])}else o=r;return Ol(n),r=Ha(e,n,t,o,a,l),u=Wa(),null===e||ju?(hl&&u&&fl(n),n.flags|=1,Vu(e,n,r,l),n.child):(qa(e,n,l),ii(e,n,l))}function Qu(e,n,t,r,l){if(null===e){var a=t.type;return"function"!=typeof a||qr(a)||void 0!==a.defaultProps||null!==t.compare?((e=Xr(t.type,null,r,n,n.mode,l)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,$u(e,n,a,r,l))}if(a=e.child,!si(e,l)){var o=a.memoizedProps;if((t=null!==(t=t.compare)?t:or)(o,r)&&e.ref===n.ref)return ii(e,n,l)}return n.flags|=1,(e=Kr(a,r)).ref=n.ref,e.return=n,n.child=e}function $u(e,n,t,r,l){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===n.ref){if(ju=!1,n.pendingProps=r=a,!si(e,l))return n.lanes=e.lanes,ii(e,n,l);131072&e.flags&&(ju=!0)}}return Ku(e,n,t,r,l)}function Bu(e,n,t){var r=n.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&n.flags){if(r=null!==a?a.baseLanes|t:t,null!==e){for(l=n.child=e.child,a=0;null!==l;)a=a|l.lanes|l.childLanes,l=l.sibling;n.childLanes=a&~r}else n.childLanes=0,n.child=null;return Wu(e,n,r,t)}if(!(536870912&t))return n.lanes=n.childLanes=536870912,Wu(e,n,null!==a?a.baseLanes|t:t,t);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&ea(0,null!==a?a.cachePool:null),null!==a?za(n,a):Pa(),bu(n)}else null!==a?(ea(0,a.cachePool),za(n,a),ku(),n.memoizedState=null):(null!==e&&ea(0,null),Pa(),ku());return Vu(e,n,l,t),n.child}function Wu(e,n,t,r){var l=Jl();return l=null===l?null:{parent:Hl._currentValue,pool:l},n.memoizedState={baseLanes:t,cachePool:l},null!==e&&ea(0,null),Pa(),bu(n),null!==e&&Dl(e,n,r,!0),null}function qu(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=4194816);else{if("function"!=typeof t&&"object"!=typeof t)throw Error(c(284));null!==e&&e.ref===t||(n.flags|=4194816)}}function Ku(e,n,t,r,l){return Ol(n),t=Ha(e,n,t,r,void 0,l),r=Wa(),null===e||ju?(hl&&r&&fl(n),n.flags|=1,Vu(e,n,t,l),n.child):(qa(e,n,l),ii(e,n,l))}function Yu(e,n,t,r,l,a){return Ol(n),n.updateQueue=null,t=$a(n,r,t,l),Qa(e),r=Wa(),null===e||ju?(hl&&r&&fl(n),n.flags|=1,Vu(e,n,t,a),n.child):(qa(e,n,a),ii(e,n,a))}function Xu(e,n,t,r,l){if(Ol(n),null===n.stateNode){var a=$r,o=t.contextType;"object"==typeof o&&null!==o&&(a=Al(o)),a=new t(r,a),n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Cu,n.stateNode=a,a._reactInternals=n,(a=n.stateNode).props=r,a.state=n.memoizedState,a.refs={},pa(n),o=t.contextType,a.context="object"==typeof o&&null!==o?Al(o):$r,a.state=n.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(xu(n,t,o,r),a.state=n.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&Cu.enqueueReplaceState(a,a.state,null),wa(n,r,a,l),ka(),a.state=n.memoizedState),"function"==typeof a.componentDidMount&&(n.flags|=4194308),r=!0}else if(null===e){a=n.stateNode;var u=n.memoizedProps,i=Nu(t,u);a.props=i;var s=a.context,c=t.contextType;o=$r,"object"==typeof c&&null!==c&&(o=Al(c));var f=t.getDerivedStateFromProps;c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate,u=n.pendingProps!==u,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u||s!==o)&&Pu(n,a,r,o),da=!1;var d=n.memoizedState;a.state=d,wa(n,r,a,l),ka(),s=n.memoizedState,u||d!==s||da?("function"==typeof f&&(xu(n,t,f,r),s=n.memoizedState),(i=da||zu(n,t,i,r,d,s,o))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4194308)):("function"==typeof a.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=s),a.props=r,a.state=s,a.context=o,r=i):("function"==typeof a.componentDidMount&&(n.flags|=4194308),r=!1)}else{a=n.stateNode,ma(e,n),c=Nu(t,o=n.memoizedProps),a.props=c,f=n.pendingProps,d=a.context,s=t.contextType,i=$r,"object"==typeof s&&null!==s&&(i=Al(s)),(s="function"==typeof(u=t.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==f||d!==i)&&Pu(n,a,r,i),da=!1,d=n.memoizedState,a.state=d,wa(n,r,a,l),ka();var p=n.memoizedState;o!==f||d!==p||da||null!==e&&null!==e.dependencies&&Ml(e.dependencies)?("function"==typeof u&&(xu(n,t,u,r),p=n.memoizedState),(c=da||zu(n,t,c,r,d,p,i)||null!==e&&null!==e.dependencies&&Ml(e.dependencies))?(s||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,i),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,i)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=p),a.props=r,a.state=p,a.context=i,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),r=!1)}return a=r,qu(e,n),r=!!(128&n.flags),a||r?(a=n.stateNode,t=r&&"function"!=typeof t.getDerivedStateFromError?null:a.render(),n.flags|=1,null!==e&&r?(n.child=mu(n,e.child,null,l),n.child=mu(n,null,t,l)):Vu(e,n,t,l),n.memoizedState=a.state,e=n.child):e=ii(e,n,l),e}function Gu(e,n,t,r){return El(),n.flags|=256,Vu(e,n,t,r),n.child}var Zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ju(e){return{baseLanes:e,cachePool:na()}}function ei(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=Fs),e}function ni(e,n,t){var r,l=n.pendingProps,a=!1,o=!!(128&n.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&Su.current)),r&&(a=!0,n.flags&=-129),r=!!(32&n.flags),n.flags&=-33,null===e){if(hl){if(a?yu(n):ku(),hl){var u,i=ml;if(u=i){e:{for(u=i,i=vl;8!==u.nodeType;){if(!i){i=null;break e}if(null===(u=Vf(u.nextSibling))){i=null;break e}}i=u}null!==i?(n.memoizedState={dehydrated:i,treeContext:null!==ol?{id:ul,overflow:il}:null,retryLane:536870912,hydrationErrors:null},(u=Wr(18,null,null,0)).stateNode=i,u.return=n,n.child=u,pl=n,ml=null,u=!0):u=!1}u||bl(n)}if(null!==(i=n.memoizedState)&&null!==(i=i.dehydrated))return Uf(i)?n.lanes=32:n.lanes=536870912,null;wu(n)}return i=l.children,l=l.fallback,a?(ku(),i=ri({mode:"hidden",children:i},a=n.mode),l=Gr(l,a,t,null),i.return=n,l.return=n,i.sibling=l,n.child=i,(a=n.child).memoizedState=Ju(t),a.childLanes=ei(e,r,t),n.memoizedState=Zu,l):(yu(n),ti(n,i))}if(null!==(u=e.memoizedState)&&null!==(i=u.dehydrated)){if(o)256&n.flags?(yu(n),n.flags&=-257,n=li(e,n,t)):null!==n.memoizedState?(ku(),n.child=e.child,n.flags|=128,n=null):(ku(),a=l.fallback,i=n.mode,l=ri({mode:"visible",children:l.children},i),(a=Gr(a,i,t,null)).flags|=2,l.return=n,a.return=n,l.sibling=a,n.child=l,mu(n,e.child,null,t),(l=n.child).memoizedState=Ju(t),l.childLanes=ei(e,r,t),n.memoizedState=Zu,n=a);else if(yu(n),Uf(i)){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;r=s,(l=Error(c(419))).stack="",l.digest=r,Cl({value:l,source:null,stack:null}),n=li(e,n,t)}else if(ju||Dl(e,n,t,!1),r=0!==(t&e.childLanes),ju||r){if(null!==(r=bs)&&(0!==(l=0!==((l=42&(l=t&-t)?1:Me(l))&(r.suspendedLanes|t))?0:l)&&l!==u.retryLane))throw u.retryLane=l,Vr(e,l),Zs(r,e,l),Uu;"$?"===i.data||sc(),n=li(e,n,t)}else"$?"===i.data?(n.flags|=192,n.child=e.child,n=null):(e=u.treeContext,ml=Vf(i.nextSibling),pl=n,hl=!0,gl=null,vl=!1,null!==e&&(ll[al++]=ul,ll[al++]=il,ll[al++]=ol,ul=e.id,il=e.overflow,ol=n),(n=ti(n,l.children)).flags|=4096);return n}return a?(ku(),a=l.fallback,i=n.mode,s=(u=e.child).sibling,(l=Kr(u,{mode:"hidden",children:l.children})).subtreeFlags=65011712&u.subtreeFlags,null!==s?a=Kr(s,a):(a=Gr(a,i,t,null)).flags|=2,a.return=n,l.return=n,l.sibling=a,n.child=l,l=a,a=n.child,null===(i=e.child.memoizedState)?i=Ju(t):(null!==(u=i.cachePool)?(s=Hl._currentValue,u=u.parent!==s?{parent:s,pool:s}:u):u=na(),i={baseLanes:i.baseLanes|t,cachePool:u}),a.memoizedState=i,a.childLanes=ei(e,r,t),n.memoizedState=Zu,l):(yu(n),e=(t=e.child).sibling,(t=Kr(t,{mode:"visible",children:l.children})).return=n,t.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=t,n.memoizedState=null,t)}function ti(e,n){return(n=ri({mode:"visible",children:n},e.mode)).return=e,e.child=n}function ri(e,n){return(e=Wr(22,e,null,n)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function li(e,n,t){return mu(n,e.child,null,t),(e=ti(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function ai(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),_l(e.return,n,t)}function oi(e,n,t,r,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=l)}function ui(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(Vu(e,n,r.children,t),2&(r=Su.current))r=1&r|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ai(e,t,n);else if(19===e.tag)ai(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(W(Su,r),l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===Eu(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),oi(n,!1,l,t,a);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===Eu(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}oi(n,!0,t,null,a);break;case"together":oi(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ii(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ls|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(Dl(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error(c(153));if(null!==n.child){for(t=Kr(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Kr(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function si(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!Ml(e))}function ci(e,n,t){switch(n.tag){case 3:G(n,n.stateNode.containerInfo),Ll(0,Hl,e.memoizedState.cache),El();break;case 27:case 5:J(n);break;case 4:G(n,n.stateNode.containerInfo);break;case 10:Ll(0,n.type,n.memoizedProps.value);break;case 13:var r=n.memoizedState;if(null!==r)return null!==r.dehydrated?(yu(n),n.flags|=128,null):0!==(t&n.child.childLanes)?ni(e,n,t):(yu(n),null!==(e=ii(e,n,t))?e.sibling:null);yu(n);break;case 19:var l=!!(128&e.flags);if((r=0!==(t&n.childLanes))||(Dl(e,n,t,!1),r=0!==(t&n.childLanes)),l){if(r)return ui(e,n,t);n.flags|=128}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),W(Su,Su.current),r)break;return null;case 22:case 23:return n.lanes=0,Bu(e,n,t);case 24:Ll(0,Hl,e.memoizedState.cache)}return ii(e,n,t)}function fi(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)ju=!0;else{if(!(si(e,t)||128&n.flags))return ju=!1,ci(e,n,t);ju=!!(131072&e.flags)}else ju=!1,hl&&1048576&n.flags&&cl(n,rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var r=n.elementType,l=r._init;if(r=l(r._payload),n.type=r,"function"!=typeof r){if(null!=r){if((l=r.$$typeof)===P){n.tag=11,n=Hu(null,n,r,e,t);break e}if(l===T){n.tag=14,n=Qu(null,n,r,e,t);break e}}throw n=R(r)||r,Error(c(306,n,""))}qr(r)?(e=Nu(r,e),n.tag=1,n=Xu(null,n,r,e,t)):(n.tag=0,n=Ku(null,n,r,e,t))}return n;case 0:return Ku(e,n,n.type,n.pendingProps,t);case 1:return Xu(e,n,r=n.type,l=Nu(r,n.pendingProps),t);case 3:e:{if(G(n,n.stateNode.containerInfo),null===e)throw Error(c(387));r=n.pendingProps;var a=n.memoizedState;l=a.element,ma(e,n),wa(n,r,null,t);var o=n.memoizedState;if(r=o.cache,Ll(0,Hl,r),r!==a.cache&&Fl(n,[Hl],t,!0),ka(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},n.updateQueue.baseState=a,n.memoizedState=a,256&n.flags){n=Gu(e,n,r,t);break e}if(r!==l){Cl(l=Mr(Error(c(424)),n)),n=Gu(e,n,r,t);break e}if(9===(e=n.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ml=Vf(e.firstChild),pl=n,hl=!0,gl=null,vl=!0,t=hu(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(El(),r===l){n=ii(e,n,t);break e}Vu(e,n,r,t)}n=n.child}return n;case 26:return qu(e,n),null===e?(t=Zf(n.type,null,n.pendingProps,null))?n.memoizedState=t:hl||(t=n.type,e=n.pendingProps,(r=Ef(Y.current).createElement(t))[Ue]=n,r[je]=e,bf(r,t,e),Ze(r),n.stateNode=r):n.memoizedState=Zf(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return J(n),null===e&&hl&&(r=n.stateNode=$f(n.type,n.pendingProps,Y.current),pl=n,vl=!0,l=ml,Mf(n.type)?(Hf=l,ml=Vf(r.firstChild)):ml=l),Vu(e,n,n.pendingProps.children,t),qu(e,n),null===e&&(n.flags|=4194304),n.child;case 5:return null===e&&hl&&((l=r=ml)&&(null!==(r=Rf(r,n.type,n.pendingProps,vl))?(n.stateNode=r,pl=n,ml=Vf(r.firstChild),vl=!1,l=!0):l=!1),l||bl(n)),J(n),l=n.type,a=n.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,zf(l,a)?r=null:null!==o&&zf(l,o)&&(n.flags|=32),null!==n.memoizedState&&(l=Ha(e,n,Ba,null,null,t),wd._currentValue=l),qu(e,n),Vu(e,n,r,t),n.child;case 6:return null===e&&hl&&((e=t=ml)&&(null!==(t=If(t,n.pendingProps,vl))?(n.stateNode=t,pl=n,ml=null,e=!0):e=!1),e||bl(n)),null;case 13:return ni(e,n,t);case 4:return G(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=mu(n,null,r,t):Vu(e,n,r,t),n.child;case 11:return Hu(e,n,n.type,n.pendingProps,t);case 7:return Vu(e,n,n.pendingProps,t),n.child;case 8:case 12:return Vu(e,n,n.pendingProps.children,t),n.child;case 10:return r=n.pendingProps,Ll(0,n.type,r.value),Vu(e,n,r.children,t),n.child;case 9:return l=n.type._context,r=n.pendingProps.children,Ol(n),r=r(l=Al(l)),n.flags|=1,Vu(e,n,r,t),n.child;case 14:return Qu(e,n,n.type,n.pendingProps,t);case 15:return $u(e,n,n.type,n.pendingProps,t);case 19:return ui(e,n,t);case 31:return r=n.pendingProps,t=n.mode,r={mode:r.mode,children:r.children},null===e?((t=ri(r,t)).ref=n.ref,n.child=t,t.return=n,n=t):((t=Kr(e.child,r)).ref=n.ref,n.child=t,t.return=n,n=t),n;case 22:return Bu(e,n,t);case 24:return Ol(n),r=Al(Hl),null===e?(null===(l=Jl())&&(l=bs,a=Ql(),l.pooledCache=a,a.refCount++,null!==a&&(l.pooledCacheLanes|=t),l=a),n.memoizedState={parent:r,cache:l},pa(n),Ll(0,Hl,l)):(0!==(e.lanes&t)&&(ma(e,n),wa(n,null,null,t),ka()),l=e.memoizedState,a=n.memoizedState,l.parent!==r?(l={parent:r,cache:r},n.memoizedState=l,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=l),Ll(0,Hl,r)):(r=a.cache,Ll(0,Hl,r),r!==l.cache&&Fl(n,[Hl],t,!0))),Vu(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error(c(156,n.tag))}function di(e){e.flags|=4}function pi(e,n){if("stylesheet"!==n.type||4&n.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!dd(n)){if(null!==(n=gu.current)&&((4194048&ws)===ws?null!==vu:(62914560&ws)!==ws&&!(536870912&ws)||n!==vu))throw sa=aa,ra;e.flags|=8192}}function mi(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?Ne():536870912,e.lanes|=n,Ds|=n)}function hi(e,n){if(!hl)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gi(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=65011712&l.subtreeFlags,r|=65011712&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function vi(e,n,t){var r=n.pendingProps;switch(dl(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return gi(n),null;case 3:return t=n.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Tl(Hl),Z(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),null!==e&&null!==e.child||(Sl(n)?di(n):null===e||e.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,xl())),gi(n),null;case 26:return t=n.memoizedState,null===e?(di(n),null!==t?(gi(n),pi(n,t)):(gi(n),n.flags&=-16777217)):t?t!==e.memoizedState?(di(n),gi(n),pi(n,t)):(gi(n),n.flags&=-16777217):(e.memoizedProps!==r&&di(n),gi(n),n.flags&=-16777217),null;case 27:ee(n),t=Y.current;var l=n.type;if(null!==e&&null!=n.stateNode)e.memoizedProps!==r&&di(n);else{if(!r){if(null===n.stateNode)throw Error(c(166));return gi(n),null}e=q.current,Sl(n)?kl(n):(e=$f(l,r,t),n.stateNode=e,di(n))}return gi(n),null;case 5:if(ee(n),t=n.type,null!==e&&null!=n.stateNode)e.memoizedProps!==r&&di(n);else{if(!r){if(null===n.stateNode)throw Error(c(166));return gi(n),null}if(e=q.current,Sl(n))kl(n);else{switch(l=Ef(Y.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":(e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?l.createElement("select",{is:r.is}):l.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?l.createElement(t,{is:r.is}):l.createElement(t)}}e[Ue]=n,e[je]=r;e:for(l=n.child;null!==l;){if(5===l.tag||6===l.tag)e.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;null===l.sibling;){if(null===l.return||l.return===n)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}n.stateNode=e;e:switch(bf(e,t,r),t){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&di(n)}}return gi(n),n.flags&=-16777217,null;case 6:if(e&&null!=n.stateNode)e.memoizedProps!==r&&di(n);else{if("string"!=typeof r&&null===n.stateNode)throw Error(c(166));if(e=Y.current,Sl(n)){if(e=n.stateNode,t=n.memoizedProps,r=null,null!==(l=pl))switch(l.tag){case 27:case 5:r=l.memoizedProps}e[Ue]=n,(e=!!(e.nodeValue===t||null!==r&&!0===r.suppressHydrationWarning||hf(e.nodeValue,t)))||bl(n)}else(e=Ef(e).createTextNode(r))[Ue]=n,n.stateNode=e}return gi(n),null;case 13:if(r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(l=Sl(n),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(c(318));if(!(l=null!==(l=n.memoizedState)?l.dehydrated:null))throw Error(c(317));l[Ue]=n}else El(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;gi(n),l=!1}else l=xl(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return 256&n.flags?(wu(n),n):(wu(n),null)}if(wu(n),128&n.flags)return n.lanes=t,n;if(t=null!==r,e=null!==e&&null!==e.memoizedState,t){l=null,null!==(r=n.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(l=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==l&&(r.flags|=2048)}return t!==e&&t&&(n.child.flags|=8192),mi(n,n.updateQueue),gi(n),null;case 4:return Z(),null===e&&lf(n.stateNode.containerInfo),gi(n),null;case 10:return Tl(n.type),gi(n),null;case 19:if(B(Su),null===(l=n.memoizedState))return gi(n),null;if(r=!!(128&n.flags),null===(a=l.rendering))if(r)hi(l,!1);else{if(0!==Ns||null!==e&&128&e.flags)for(e=n.child;null!==e;){if(null!==(a=Eu(e))){for(n.flags|=128,hi(l,!1),e=a.updateQueue,n.updateQueue=e,mi(n,e),n.subtreeFlags=0,e=t,t=n.child;null!==t;)Yr(t,e),t=t.sibling;return W(Su,1&Su.current|2),n.child}e=e.sibling}null!==l.tail&&oe()>Is&&(n.flags|=128,r=!0,hi(l,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=Eu(a))){if(n.flags|=128,r=!0,e=e.updateQueue,n.updateQueue=e,mi(n,e),hi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!a.alternate&&!hl)return gi(n),null}else 2*oe()-l.renderingStartTime>Is&&536870912!==t&&(n.flags|=128,r=!0,hi(l,!1),n.lanes=4194304);l.isBackwards?(a.sibling=n.child,n.child=a):(null!==(e=l.last)?e.sibling=a:n.child=a,l.last=a)}return null!==l.tail?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=oe(),n.sibling=null,e=Su.current,W(Su,r?1&e|2:1&e),n):(gi(n),null);case 22:case 23:return wu(n),Na(),r=null!==n.memoizedState,null!==e?null!==e.memoizedState!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?!!(536870912&t)&&!(128&n.flags)&&(gi(n),6&n.subtreeFlags&&(n.flags|=8192)):gi(n),null!==(t=n.updateQueue)&&mi(n,t.retryQueue),t=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),r=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(r=n.memoizedState.cachePool.pool),r!==t&&(n.flags|=2048),null!==e&&B(Zl),null;case 24:return t=null,null!==e&&(t=e.memoizedState.cache),n.memoizedState.cache!==t&&(n.flags|=2048),Tl(Hl),gi(n),null;case 25:case 30:return null}throw Error(c(156,n.tag))}function yi(e,n){switch(dl(n),n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Tl(Hl),Z(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return ee(n),null;case 13:if(wu(n),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(c(340));El()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return B(Su),null;case 4:return Z(),null;case 10:return Tl(n.type),null;case 22:case 23:return wu(n),Na(),null!==e&&B(Zl),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return Tl(Hl),null;default:return null}}function bi(e,n){switch(dl(n),n.tag){case 3:Tl(Hl),Z();break;case 26:case 27:case 5:ee(n);break;case 4:Z();break;case 13:wu(n);break;case 19:B(Su);break;case 10:Tl(n.type);break;case 22:case 23:wu(n),Na(),null!==e&&B(Zl);break;case 24:Tl(Hl)}}function ki(e,n){try{var t=n.updateQueue,r=null!==t?t.lastEffect:null;if(null!==r){var l=r.next;t=l;do{if((t.tag&e)===e){r=void 0;var a=t.create,o=t.inst;r=a(),o.destroy=r}t=t.next}while(t!==l)}}catch(e){Pc(n,n.return,e)}}function wi(e,n,t){try{var r=n.updateQueue,l=null!==r?r.lastEffect:null;if(null!==l){var a=l.next;r=a;do{if((r.tag&e)===e){var o=r.inst,u=o.destroy;if(void 0!==u){o.destroy=void 0,l=n;var i=t,s=u;try{s()}catch(e){Pc(l,i,e)}}}r=r.next}while(r!==a)}}catch(e){Pc(n,n.return,e)}}function Si(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{Ea(n,t)}catch(n){Pc(e,e.return,n)}}}function Ei(e,n,t){t.props=Nu(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(t){Pc(e,n,t)}}function xi(e,n){try{var t=e.ref;if(null!==t){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof t?e.refCleanup=t(r):t.current=r}}catch(t){Pc(e,n,t)}}function Ci(e,n){var t=e.ref,r=e.refCleanup;if(null!==t)if("function"==typeof r)try{r()}catch(t){Pc(e,n,t)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof t)try{t(null)}catch(t){Pc(e,n,t)}else t.current=null}function zi(e){var n=e.type,t=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":t.autoFocus&&r.focus();break e;case"img":t.src?r.src=t.src:t.srcSet&&(r.srcset=t.srcSet)}}catch(n){Pc(e,e.return,n)}}function Pi(e,n,t){try{var r=e.stateNode;kf(r,e.type,t,n),r[je]=n}catch(n){Pc(e,e.return,n)}}function Ni(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Mf(e.type)||4===e.tag}function Li(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ni(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Mf(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ti(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?(9===t.nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t).insertBefore(e,n):((n=9===t.nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t).appendChild(e),null!=(t=t._reactRootContainer)||null!==n.onclick||(n.onclick=gf));else if(4!==r&&(27===r&&Mf(e.type)&&(t=e.stateNode,n=null),null!==(e=e.child)))for(Ti(e,n,t),e=e.sibling;null!==e;)Ti(e,n,t),e=e.sibling}function _i(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&(27===r&&Mf(e.type)&&(t=e.stateNode),null!==(e=e.child)))for(_i(e,n,t),e=e.sibling;null!==e;)_i(e,n,t),e=e.sibling}function Fi(e){var n=e.stateNode,t=e.memoizedProps;try{for(var r=e.type,l=n.attributes;l.length;)n.removeAttributeNode(l[0]);bf(n,r,t),n[Ue]=e,n[je]=t}catch(n){Pc(e,e.return,n)}}var Di=!1,Mi=!1,Oi=!1,Ai="function"==typeof WeakSet?WeakSet:Set,Ri=null;function Ii(e,n){if(e=e.containerInfo,wf=Ld,fr(e=cr(e))){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{t.nodeType,a.nodeType}catch(e){t=null;break e}var o=0,u=-1,i=-1,s=0,f=0,d=e,p=null;n:for(;;){for(var m;d!==t||0!==l&&3!==d.nodeType||(u=o+l),d!==a||0!==r&&3!==d.nodeType||(i=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(m=d.firstChild);)p=d,d=m;for(;;){if(d===e)break n;if(p===t&&++s===l&&(u=o),p===a&&++f===r&&(i=o),null!==(m=d.nextSibling))break;p=(d=p).parentNode}d=m}t=-1===u||-1===i?null:{start:u,end:i}}else t=null}t=t||{start:0,end:0}}else t=null;for(Sf={focusedElem:e,selectionRange:t},Ld=!1,Ri=n;null!==Ri;)if(e=(n=Ri).child,1024&n.subtreeFlags&&null!==e)e.return=n,Ri=e;else for(;null!==Ri;){switch(a=(n=Ri).alternate,e=n.flags,n.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,t=n,l=a.memoizedProps,a=a.memoizedState,r=t.stateNode;try{var h=Nu(t.type,l,(t.elementType,t.type));e=r.getSnapshotBeforeUpdate(h,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Pc(t,t.return,e)}}break;case 3:if(1024&e)if(9===(t=(e=n.stateNode.containerInfo).nodeType))Af(e);else if(1===t)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Af(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(c(163))}if(null!==(e=n.sibling)){e.return=n.return,Ri=e;break}Ri=n.return}}function Ui(e,n,t){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ji(e,t),4&r&&ki(5,t);break;case 1:if(Ji(e,t),4&r)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(e){Pc(t,t.return,e)}else{var l=Nu(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(l,n,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Pc(t,t.return,e)}}64&r&&Si(t),512&r&&xi(t,t.return);break;case 3:if(Ji(e,t),64&r&&null!==(e=t.updateQueue)){if(n=null,null!==t.child)switch(t.child.tag){case 27:case 5:case 1:n=t.child.stateNode}try{Ea(e,n)}catch(e){Pc(t,t.return,e)}}break;case 27:null===n&&4&r&&Fi(t);case 26:case 5:Ji(e,t),null===n&&4&r&&zi(t),512&r&&xi(t,t.return);break;case 12:Ji(e,t);break;case 13:Ji(e,t),4&r&&Bi(e,t),64&r&&(null!==(e=t.memoizedState)&&(null!==(e=e.dehydrated)&&jf(e,t=_c.bind(null,t))));break;case 22:if(!(r=null!==t.memoizedState||Di)){n=null!==n&&null!==n.memoizedState||Mi,l=Di;var a=Mi;Di=r,(Mi=n)&&!a?ns(e,t,!!(8772&t.subtreeFlags)):Ji(e,t),Di=l,Mi=a}break;case 30:break;default:Ji(e,t)}}function ji(e){var n=e.alternate;null!==n&&(e.alternate=null,ji(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&qe(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vi=null,Hi=!1;function Qi(e,n,t){for(t=t.child;null!==t;)$i(e,n,t),t=t.sibling}function $i(e,n,t){if(ge&&"function"==typeof ge.onCommitFiberUnmount)try{ge.onCommitFiberUnmount(he,t)}catch(e){}switch(t.tag){case 26:Mi||Ci(t,n),Qi(e,n,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode).parentNode.removeChild(t);break;case 27:Mi||Ci(t,n);var r=Vi,l=Hi;Mf(t.type)&&(Vi=t.stateNode,Hi=!1),Qi(e,n,t),Bf(t.stateNode),Vi=r,Hi=l;break;case 5:Mi||Ci(t,n);case 6:if(r=Vi,l=Hi,Vi=null,Qi(e,n,t),Hi=l,null!==(Vi=r))if(Hi)try{(9===Vi.nodeType?Vi.body:"HTML"===Vi.nodeName?Vi.ownerDocument.body:Vi).removeChild(t.stateNode)}catch(e){Pc(t,n,e)}else try{Vi.removeChild(t.stateNode)}catch(e){Pc(t,n,e)}break;case 18:null!==Vi&&(Hi?(Of(9===(e=Vi).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,t.stateNode),np(e)):Of(Vi,t.stateNode));break;case 4:r=Vi,l=Hi,Vi=t.stateNode.containerInfo,Hi=!0,Qi(e,n,t),Vi=r,Hi=l;break;case 0:case 11:case 14:case 15:Mi||wi(2,t,n),Mi||wi(4,t,n),Qi(e,n,t);break;case 1:Mi||(Ci(t,n),"function"==typeof(r=t.stateNode).componentWillUnmount&&Ei(t,n,r)),Qi(e,n,t);break;case 21:Qi(e,n,t);break;case 22:Mi=(r=Mi)||null!==t.memoizedState,Qi(e,n,t),Mi=r;break;default:Qi(e,n,t)}}function Bi(e,n){if(null===n.memoizedState&&(null!==(e=n.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{np(e)}catch(e){Pc(n,n.return,e)}}function Wi(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new Ai),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new Ai),n;default:throw Error(c(435,e.tag))}}function qi(e,n){var t=Wi(e);n.forEach(function(n){var r=Fc.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}function Ki(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var l=t[r],a=e,o=n,u=o;e:for(;null!==u;){switch(u.tag){case 27:if(Mf(u.type)){Vi=u.stateNode,Hi=!1;break e}break;case 5:Vi=u.stateNode,Hi=!1;break e;case 3:case 4:Vi=u.stateNode.containerInfo,Hi=!0;break e}u=u.return}if(null===Vi)throw Error(c(160));$i(a,o,l),Vi=null,Hi=!1,null!==(a=l.alternate)&&(a.return=null),l.return=null}if(13878&n.subtreeFlags)for(n=n.child;null!==n;)Xi(n,e),n=n.sibling}var Yi=null;function Xi(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ki(n,e),Gi(e),4&r&&(wi(3,e,e.return),ki(3,e),wi(5,e,e.return));break;case 1:Ki(n,e),Gi(e),512&r&&(Mi||null===t||Ci(t,t.return)),64&r&&Di&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(t=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===t?r:t.concat(r))));break;case 26:var l=Yi;if(Ki(n,e),Gi(e),512&r&&(Mi||null===t||Ci(t,t.return)),4&r){var a=null!==t?t.memoizedState:null;if(r=e.memoizedState,null===t)if(null===r)if(null===e.stateNode){e:{r=e.type,t=e.memoizedProps,l=l.ownerDocument||l;n:switch(r){case"title":(!(a=l.getElementsByTagName("title")[0])||a[We]||a[Ue]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=l.createElement(r),l.head.insertBefore(a,l.querySelector("head > title"))),bf(a,r,t),a[Ue]=e,Ze(a),r=a;break e;case"link":var o=sd("link","href",l).get(r+(t.href||""));if(o)for(var u=0;u<o.length;u++)if((a=o[u]).getAttribute("href")===(null==t.href||""===t.href?null:t.href)&&a.getAttribute("rel")===(null==t.rel?null:t.rel)&&a.getAttribute("title")===(null==t.title?null:t.title)&&a.getAttribute("crossorigin")===(null==t.crossOrigin?null:t.crossOrigin)){o.splice(u,1);break n}bf(a=l.createElement(r),r,t),l.head.appendChild(a);break;case"meta":if(o=sd("meta","content",l).get(r+(t.content||"")))for(u=0;u<o.length;u++)if((a=o[u]).getAttribute("content")===(null==t.content?null:""+t.content)&&a.getAttribute("name")===(null==t.name?null:t.name)&&a.getAttribute("property")===(null==t.property?null:t.property)&&a.getAttribute("http-equiv")===(null==t.httpEquiv?null:t.httpEquiv)&&a.getAttribute("charset")===(null==t.charSet?null:t.charSet)){o.splice(u,1);break n}bf(a=l.createElement(r),r,t),l.head.appendChild(a);break;default:throw Error(c(468,r))}a[Ue]=e,Ze(a),r=a}e.stateNode=r}else cd(l,e.type,e.stateNode);else e.stateNode=ld(l,r,e.memoizedProps);else a!==r?(null===a?null!==t.stateNode&&(t=t.stateNode).parentNode.removeChild(t):a.count--,null===r?cd(l,e.type,e.stateNode):ld(l,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Pi(e,e.memoizedProps,t.memoizedProps)}break;case 27:Ki(n,e),Gi(e),512&r&&(Mi||null===t||Ci(t,t.return)),null!==t&&4&r&&Pi(e,e.memoizedProps,t.memoizedProps);break;case 5:if(Ki(n,e),Gi(e),512&r&&(Mi||null===t||Ci(t,t.return)),32&e.flags){l=e.stateNode;try{_n(l,"")}catch(n){Pc(e,e.return,n)}}4&r&&null!=e.stateNode&&Pi(e,l=e.memoizedProps,null!==t?t.memoizedProps:l),1024&r&&(Oi=!0);break;case 6:if(Ki(n,e),Gi(e),4&r){if(null===e.stateNode)throw Error(c(162));r=e.memoizedProps,t=e.stateNode;try{t.nodeValue=r}catch(n){Pc(e,e.return,n)}}break;case 3:if(id=null,l=Yi,Yi=Kf(n.containerInfo),Ki(n,e),Yi=l,Gi(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{np(n.containerInfo)}catch(n){Pc(e,e.return,n)}Oi&&(Oi=!1,Zi(e));break;case 4:r=Yi,Yi=Kf(e.stateNode.containerInfo),Ki(n,e),Gi(e),Yi=r;break;case 12:default:Ki(n,e),Gi(e);break;case 13:Ki(n,e),Gi(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==t&&null!==t.memoizedState)&&(Rs=oe()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,qi(e,r)));break;case 22:l=null!==e.memoizedState;var i=null!==t&&null!==t.memoizedState,s=Di,f=Mi;if(Di=s||l,Mi=f||i,Ki(n,e),Mi=f,Di=s,Gi(e),8192&r)e:for(n=e.stateNode,n._visibility=l?-2&n._visibility:1|n._visibility,l&&(null===t||i||Di||Mi||es(e)),t=null,n=e;;){if(5===n.tag||26===n.tag){if(null===t){i=t=n;try{if(a=i.stateNode,l)"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{u=i.stateNode;var d=i.memoizedProps.style,p=null!=d&&d.hasOwnProperty("display")?d.display:null;u.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){Pc(i,i.return,e)}}}else if(6===n.tag){if(null===t){i=n;try{i.stateNode.nodeValue=l?"":i.memoizedProps}catch(e){Pc(i,i.return,e)}}}else if((22!==n.tag&&23!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;null===n.sibling;){if(null===n.return||n.return===e)break e;t===n&&(t=null),n=n.return}t===n&&(t=null),n.sibling.return=n.return,n=n.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(t=r.retryQueue)&&(r.retryQueue=null,qi(e,t))));break;case 19:Ki(n,e),Gi(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,qi(e,r)));case 30:case 21:}}function Gi(e){var n=e.flags;if(2&n){try{for(var t,r=e.return;null!==r;){if(Ni(r)){t=r;break}r=r.return}if(null==t)throw Error(c(160));switch(t.tag){case 27:var l=t.stateNode;_i(e,Li(e),l);break;case 5:var a=t.stateNode;32&t.flags&&(_n(a,""),t.flags&=-33),_i(e,Li(e),a);break;case 3:case 4:var o=t.stateNode.containerInfo;Ti(e,Li(e),o);break;default:throw Error(c(161))}}catch(n){Pc(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function Zi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var n=e;Zi(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)Ui(e,n.alternate,n),n=n.sibling}function es(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wi(4,n,n.return),es(n);break;case 1:Ci(n,n.return);var t=n.stateNode;"function"==typeof t.componentWillUnmount&&Ei(n,n.return,t),es(n);break;case 27:Bf(n.stateNode);case 26:case 5:Ci(n,n.return),es(n);break;case 22:null===n.memoizedState&&es(n);break;default:es(n)}e=e.sibling}}function ns(e,n,t){for(t=t&&!!(8772&n.subtreeFlags),n=n.child;null!==n;){var r=n.alternate,l=e,a=n,o=a.flags;switch(a.tag){case 0:case 11:case 15:ns(l,a,t),ki(4,a);break;case 1:if(ns(l,a,t),"function"==typeof(l=(r=a).stateNode).componentDidMount)try{l.componentDidMount()}catch(e){Pc(r,r.return,e)}if(null!==(l=(r=a).updateQueue)){var u=r.stateNode;try{var i=l.shared.hiddenCallbacks;if(null!==i)for(l.shared.hiddenCallbacks=null,l=0;l<i.length;l++)Sa(i[l],u)}catch(e){Pc(r,r.return,e)}}t&&64&o&&Si(a),xi(a,a.return);break;case 27:Fi(a);case 26:case 5:ns(l,a,t),t&&null===r&&4&o&&zi(a),xi(a,a.return);break;case 12:ns(l,a,t);break;case 13:ns(l,a,t),t&&4&o&&Bi(l,a);break;case 22:null===a.memoizedState&&ns(l,a,t),xi(a,a.return);break;case 30:break;default:ns(l,a,t)}n=n.sibling}}function ts(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&$l(t))}function rs(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&$l(e))}function ls(e,n,t,r){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)as(e,n,t,r),n=n.sibling}function as(e,n,t,r){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ls(e,n,t,r),2048&l&&ki(9,n);break;case 1:case 13:default:ls(e,n,t,r);break;case 3:ls(e,n,t,r),2048&l&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&$l(e)));break;case 12:if(2048&l){ls(e,n,t,r),e=n.stateNode;try{var a=n.memoizedProps,o=a.id,u=a.onPostCommit;"function"==typeof u&&u(o,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){Pc(n,n.return,e)}}else ls(e,n,t,r);break;case 23:break;case 22:a=n.stateNode,o=n.alternate,null!==n.memoizedState?2&a._visibility?ls(e,n,t,r):us(e,n):2&a._visibility?ls(e,n,t,r):(a._visibility|=2,os(e,n,t,r,!!(10256&n.subtreeFlags))),2048&l&&ts(o,n);break;case 24:ls(e,n,t,r),2048&l&&rs(n.alternate,n)}}function os(e,n,t,r,l){for(l=l&&!!(10256&n.subtreeFlags),n=n.child;null!==n;){var a=e,o=n,u=t,i=r,s=o.flags;switch(o.tag){case 0:case 11:case 15:os(a,o,u,i,l),ki(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?os(a,o,u,i,l):us(a,o):(c._visibility|=2,os(a,o,u,i,l)),l&&2048&s&&ts(o.alternate,o);break;case 24:os(a,o,u,i,l),l&&2048&s&&rs(o.alternate,o);break;default:os(a,o,u,i,l)}n=n.sibling}}function us(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,r=n,l=r.flags;switch(r.tag){case 22:us(t,r),2048&l&&ts(r.alternate,r);break;case 24:us(t,r),2048&l&&rs(r.alternate,r);break;default:us(t,r)}n=n.sibling}}var is=8192;function ss(e){if(e.subtreeFlags&is)for(e=e.child;null!==e;)cs(e),e=e.sibling}function cs(e){switch(e.tag){case 26:ss(e),e.flags&is&&null!==e.memoizedState&&hd(Yi,e.memoizedState,e.memoizedProps);break;case 5:default:ss(e);break;case 3:case 4:var n=Yi;Yi=Kf(e.stateNode.containerInfo),ss(e),Yi=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=is,is=16777216,ss(e),is=n):ss(e))}}function fs(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function ds(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];Ri=r,hs(r,e)}fs(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ps(e),e=e.sibling}function ps(e){switch(e.tag){case 0:case 11:case 15:ds(e),2048&e.flags&&wi(9,e,e.return);break;case 3:case 12:default:ds(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&2&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-3,ms(e)):ds(e)}}function ms(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];Ri=r,hs(r,e)}fs(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:wi(8,n,n.return),ms(n);break;case 22:2&(t=n.stateNode)._visibility&&(t._visibility&=-3,ms(n));break;default:ms(n)}e=e.sibling}}function hs(e,n){for(;null!==Ri;){var t=Ri;switch(t.tag){case 0:case 11:case 15:wi(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var r=t.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:$l(t.memoizedState.cache)}if(null!==(r=t.child))r.return=t,Ri=r;else e:for(t=e;null!==Ri;){var l=(r=Ri).sibling,a=r.return;if(ji(r),r===t){Ri=null;break e}if(null!==l){l.return=a,Ri=l;break e}Ri=a}}}var gs={getCacheForType:function(e){var n=Al(Hl),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t}},vs="function"==typeof WeakMap?WeakMap:Map,ys=0,bs=null,ks=null,ws=0,Ss=0,Es=null,xs=!1,Cs=!1,zs=!1,Ps=0,Ns=0,Ls=0,Ts=0,_s=0,Fs=0,Ds=0,Ms=null,Os=null,As=!1,Rs=0,Is=1/0,Us=null,js=null,Vs=0,Hs=null,Qs=null,$s=0,Bs=0,Ws=null,qs=null,Ks=0,Ys=null;function Xs(){if(2&ys&&0!==ws)return ws&-ws;if(null!==U.T){return 0!==ql?ql:Wc()}return Ae()}function Gs(){0===Fs&&(Fs=536870912&ws&&!hl?536870912:Pe());var e=gu.current;return null!==e&&(e.flags|=32),Fs}function Zs(e,n,t){(e!==bs||2!==Ss&&9!==Ss)&&null===e.cancelPendingCommit||(ac(e,0),tc(e,ws,Fs,!1)),Te(e,t),2&ys&&e===bs||(e===bs&&(!(2&ys)&&(Ts|=t),4===Ns&&tc(e,ws,Fs,!1)),Uc(e))}function Js(e,n,t){if(6&ys)throw Error(c(327));for(var r=!t&&!(124&n)&&0===(n&e.expiredLanes)||Ce(e,n),l=r?dc(e,n):cc(e,n,!0),a=r;;){if(0===l){Cs&&!r&&tc(e,n,0,!1);break}if(t=e.current.alternate,!a||nc(t)){if(2===l){if(a=n,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){n=o;e:{var u=e;l=Ms;var i=u.current.memoizedState.isDehydrated;if(i&&(ac(u,o).flags|=256),2!==(o=cc(u,o,!1))){if(zs&&!i){u.errorRecoveryDisabledLanes|=a,Ts|=a,l=4;break e}a=Os,Os=l,null!==a&&(null===Os?Os=a:Os.push.apply(Os,a))}l=o}if(a=!1,2!==l)continue}}if(1===l){ac(e,0),tc(e,n,0,!0);break}e:{switch(r=e,a=l){case 0:case 1:throw Error(c(345));case 4:if((4194048&n)!==n)break;case 6:tc(r,n,Fs,!xs);break e;case 2:Os=null;break;case 3:case 5:break;default:throw Error(c(329))}if((62914560&n)===n&&10<(l=Rs+300-oe())){if(tc(r,n,Fs,!xs),0!==xe(r,0,!0))break e;r.timeoutHandle=Lf(ec.bind(null,r,t,Os,Us,As,n,Fs,Ts,Ds,xs,a,2,-0,0),l)}else ec(r,t,Os,Us,As,n,Fs,Ts,Ds,xs,a,0,-0,0)}break}l=cc(e,n,!1),a=!1}Uc(e)}function ec(e,n,t,r,l,a,o,u,i,s,c,f,d,p){if(e.timeoutHandle=-1,(8192&(f=n.subtreeFlags)||!(16785408&~f))&&(pd={stylesheets:null,count:0,unsuspend:md},cs(n),null!==(f=gd())))return e.cancelPendingCommit=f(bc.bind(null,e,n,a,t,r,l,o,u,i,c,1,d,p)),void tc(e,a,o,!s);bc(e,n,a,t,r,l,o,u,i)}function nc(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var r=0;r<t.length;r++){var l=t[r],a=l.getSnapshot;l=l.value;try{if(!ar(a(),l))return!1}catch(e){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tc(e,n,t,r){n&=~_s,n&=~Ts,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var l=n;0<l;){var a=31-ye(l),o=1<<a;r[a]=-1,l&=~o}0!==t&&Fe(e,t,n)}function rc(){return!!(6&ys)||(jc(0,!1),!1)}function lc(){if(null!==ks){if(0===Ss)var e=ks.return;else Nl=Pl=null,Ka(e=ks),uu=null,iu=0,e=ks;for(;null!==e;)bi(e.alternate,e),e=e.return;ks=null}}function ac(e,n){var t=e.timeoutHandle;-1!==t&&(e.timeoutHandle=-1,Tf(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),lc(),bs=e,ks=t=Kr(e.current,null),ws=n,Ss=0,Es=null,xs=!1,Cs=Ce(e,n),zs=!1,Ds=Fs=_s=Ts=Ls=Ns=0,Os=Ms=null,As=!1,8&n&&(n|=32&n);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=n;0<r;){var l=31-ye(r),a=1<<l;n|=e[l],r&=~a}return Ps=n,Ir(),t}function oc(e,n){Ta=null,U.H=ru,n===ta||n===la?(n=ca(),Ss=3):n===ra?(n=ca(),Ss=4):Ss=n===Uu?8:null!==n&&"object"==typeof n&&"function"==typeof n.then?6:1,Es=n,null===ks&&(Ns=1,Du(e,Mr(n,e.current)))}function uc(){var e=U.H;return U.H=ru,null===e?ru:e}function ic(){var e=U.A;return U.A=gs,e}function sc(){Ns=4,xs||(4194048&ws)!==ws&&null!==gu.current||(Cs=!0),!(134217727&Ls)&&!(134217727&Ts)||null===bs||tc(bs,ws,Fs,!1)}function cc(e,n,t){var r=ys;ys|=2;var l=uc(),a=ic();bs===e&&ws===n||(Us=null,ac(e,n)),n=!1;var o=Ns;e:for(;;)try{if(0!==Ss&&null!==ks){var u=ks,i=Es;switch(Ss){case 8:lc(),o=6;break e;case 3:case 2:case 9:case 6:null===gu.current&&(n=!0);var s=Ss;if(Ss=0,Es=null,gc(e,u,i,s),t&&Cs){o=0;break e}break;default:s=Ss,Ss=0,Es=null,gc(e,u,i,s)}}fc(),o=Ns;break}catch(n){oc(e,n)}return n&&e.shellSuspendCounter++,Nl=Pl=null,ys=r,U.H=l,U.A=a,null===ks&&(bs=null,ws=0,Ir()),o}function fc(){for(;null!==ks;)mc(ks)}function dc(e,n){var t=ys;ys|=2;var r=uc(),l=ic();bs!==e||ws!==n?(Us=null,Is=oe()+500,ac(e,n)):Cs=Ce(e,n);e:for(;;)try{if(0!==Ss&&null!==ks){n=ks;var a=Es;n:switch(Ss){case 1:Ss=0,Es=null,gc(e,n,a,1);break;case 2:case 9:if(oa(a)){Ss=0,Es=null,hc(n);break}n=function(){2!==Ss&&9!==Ss||bs!==e||(Ss=7),Uc(e)},a.then(n,n);break e;case 3:Ss=7;break e;case 4:Ss=5;break e;case 7:oa(a)?(Ss=0,Es=null,hc(n)):(Ss=0,Es=null,gc(e,n,a,7));break;case 5:var o=null;switch(ks.tag){case 26:o=ks.memoizedState;case 5:case 27:var u=ks;if(!o||dd(o)){Ss=0,Es=null;var i=u.sibling;if(null!==i)ks=i;else{var s=u.return;null!==s?(ks=s,vc(s)):ks=null}break n}}Ss=0,Es=null,gc(e,n,a,5);break;case 6:Ss=0,Es=null,gc(e,n,a,6);break;case 8:lc(),Ns=6;break e;default:throw Error(c(462))}}pc();break}catch(n){oc(e,n)}return Nl=Pl=null,U.H=r,U.A=l,ys=t,null!==ks?0:(bs=null,ws=0,Ir(),Ns)}function pc(){for(;null!==ks&&!le();)mc(ks)}function mc(e){var n=fi(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===n?vc(e):ks=n}function hc(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=Yu(t,n,n.pendingProps,n.type,void 0,ws);break;case 11:n=Yu(t,n,n.pendingProps,n.type.render,n.ref,ws);break;case 5:Ka(n);default:bi(t,n),n=fi(t,n=ks=Yr(n,Ps),Ps)}e.memoizedProps=e.pendingProps,null===n?vc(e):ks=n}function gc(e,n,t,r){Nl=Pl=null,Ka(n),uu=null,iu=0;var l=n.return;try{if(Iu(e,l,n,t,ws))return Ns=1,Du(e,Mr(t,e.current)),void(ks=null)}catch(n){if(null!==l)throw ks=l,n;return Ns=1,Du(e,Mr(t,e.current)),void(ks=null)}32768&n.flags?(hl||1===r?e=!0:Cs||536870912&ws?e=!1:(xs=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=gu.current)&&13===r.tag&&(r.flags|=16384))),yc(n,e)):vc(n)}function vc(e){var n=e;do{if(32768&n.flags)return void yc(n,xs);e=n.return;var t=vi(n.alternate,n,Ps);if(null!==t)return void(ks=t);if(null!==(n=n.sibling))return void(ks=n);ks=n=e}while(null!==n);0===Ns&&(Ns=5)}function yc(e,n){do{var t=yi(e.alternate,e);if(null!==t)return t.flags&=32767,void(ks=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(ks=e);ks=e=t}while(null!==e);Ns=6,ks=null}function bc(e,n,t,r,l,a,o,u,i){e.cancelPendingCommit=null;do{xc()}while(0!==Vs);if(6&ys)throw Error(c(327));if(null!==n){if(n===e.current)throw Error(c(177));if(a=n.lanes|n.childLanes,_e(e,t,a|=Rr,o,u,i),e===bs&&(ks=bs=null,ws=0),Qs=n,Hs=e,$s=t,Bs=a,Ws=l,qs=r,10256&n.subtreeFlags||10256&n.flags?(e.callbackNode=null,e.callbackPriority=0,te(ce,function(){return Cc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&n.flags),13878&n.subtreeFlags||r){r=U.T,U.T=null,l=j.p,j.p=2,o=ys,ys|=4;try{Ii(e,n)}finally{ys=o,j.p=l,U.T=r}}Vs=1,kc(),wc(),Sc()}}function kc(){if(1===Vs){Vs=0;var e=Hs,n=Qs,t=!!(13878&n.flags);if(13878&n.subtreeFlags||t){t=U.T,U.T=null;var r=j.p;j.p=2;var l=ys;ys|=4;try{Xi(n,e);var a=Sf,o=cr(e.containerInfo),u=a.focusedElem,i=a.selectionRange;if(o!==u&&u&&u.ownerDocument&&sr(u.ownerDocument.documentElement,u)){if(null!==i&&fr(u)){var s=i.start,c=i.end;if(void 0===c&&(c=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(c,u.value.length);else{var f=u.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),m=u.textContent.length,h=Math.min(i.start,m),g=void 0===i.end?h:Math.min(i.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var v=ir(u,h),y=ir(u,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=f.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),h>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(f=[],p=u;p=p.parentNode;)1===p.nodeType&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof u.focus&&u.focus(),u=0;u<f.length;u++){var k=f[u];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Ld=!!wf,Sf=wf=null}finally{ys=l,j.p=r,U.T=t}}e.current=n,Vs=2}}function wc(){if(2===Vs){Vs=0;var e=Hs,n=Qs,t=!!(8772&n.flags);if(8772&n.subtreeFlags||t){t=U.T,U.T=null;var r=j.p;j.p=2;var l=ys;ys|=4;try{Ui(e,n.alternate,n)}finally{ys=l,j.p=r,U.T=t}}Vs=3}}function Sc(){if(4===Vs||3===Vs){Vs=0,ae();var e=Hs,n=Qs,t=$s,r=qs;10256&n.subtreeFlags||10256&n.flags?Vs=5:(Vs=0,Qs=Hs=null,Ec(e,e.pendingLanes));var l=e.pendingLanes;if(0===l&&(js=null),Oe(t),n=n.stateNode,ge&&"function"==typeof ge.onCommitFiberRoot)try{ge.onCommitFiberRoot(he,n,void 0,!(128&~n.current.flags))}catch(e){}if(null!==r){n=U.T,l=j.p,j.p=2,U.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var u=r[o];a(u.value,{componentStack:u.stack})}}finally{U.T=n,j.p=l}}3&$s&&xc(),Uc(e),l=e.pendingLanes,4194090&t&&42&l?e===Ys?Ks++:(Ks=0,Ys=e):Ks=0,jc(0,!1)}}function Ec(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,$l(n)))}function xc(e){return kc(),wc(),Sc(),Cc()}function Cc(){if(5!==Vs)return!1;var e=Hs,n=Bs;Bs=0;var t=Oe($s),r=U.T,l=j.p;try{j.p=32>t?32:t,U.T=null,t=Ws,Ws=null;var a=Hs,o=$s;if(Vs=0,Qs=Hs=null,$s=0,6&ys)throw Error(c(331));var u=ys;if(ys|=4,ps(a.current),as(a,a.current,o,t),ys=u,jc(0,!1),ge&&"function"==typeof ge.onPostCommitFiberRoot)try{ge.onPostCommitFiberRoot(he,a)}catch(e){}return!0}finally{j.p=l,U.T=r,Ec(e,n)}}function zc(e,n,t){n=Mr(t,n),null!==(e=ga(e,n=Ou(e.stateNode,n,2),2))&&(Te(e,2),Uc(e))}function Pc(e,n,t){if(3===e.tag)zc(e,e,t);else for(;null!==n;){if(3===n.tag){zc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===js||!js.has(r))){e=Mr(t,e),null!==(r=ga(n,t=Au(2),2))&&(Ru(t,r,n,e),Te(r,2),Uc(r));break}}n=n.return}}function Nc(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new vs;var l=new Set;r.set(n,l)}else void 0===(l=r.get(n))&&(l=new Set,r.set(n,l));l.has(t)||(zs=!0,l.add(t),e=Lc.bind(null,e,n,t),n.then(e,e))}function Lc(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),e.pingedLanes|=e.suspendedLanes&t,e.warmLanes&=~t,bs===e&&(ws&t)===t&&(4===Ns||3===Ns&&(62914560&ws)===ws&&300>oe()-Rs?!(2&ys)&&ac(e,0):_s|=t,Ds===ws&&(Ds=0)),Uc(e)}function Tc(e,n){0===n&&(n=Ne()),null!==(e=Vr(e,n))&&(Te(e,n),Uc(e))}function _c(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Tc(e,t)}function Fc(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;null!==l&&(t=l.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(c(314))}null!==r&&r.delete(n),Tc(e,t)}var Dc=null,Mc=null,Oc=!1,Ac=!1,Rc=!1,Ic=0;function Uc(e){e!==Mc&&null===e.next&&(null===Mc?Dc=Mc=e:Mc=Mc.next=e),Ac=!0,Oc||(Oc=!0,Ff(function(){6&ys?te(ie,Vc):Hc()}))}function jc(e,n){if(!Rc&&Ac){Rc=!0;do{for(var t=!1,r=Dc;null!==r;){if(!n)if(0!==e){var l=r.pendingLanes;if(0===l)var a=0;else{var o=r.suspendedLanes,u=r.pingedLanes;a=(1<<31-ye(42|e)+1)-1,a=201326741&(a&=l&~(o&~u))?201326741&a|1:a?2|a:0}0!==a&&(t=!0,Bc(r,a))}else a=ws,!(3&(a=xe(r,r===bs?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ce(r,a)||(t=!0,Bc(r,a));r=r.next}}while(t);Rc=!1}}function Vc(){Hc()}function Hc(){Ac=Oc=!1;var e=0;0!==Ic&&(Nf()&&(e=Ic),Ic=0);for(var n=oe(),t=null,r=Dc;null!==r;){var l=r.next,a=Qc(r,n);0===a?(r.next=null,null===t?Dc=l:t.next=l,null===l&&(Mc=t)):(t=r,(0!==e||3&a)&&(Ac=!0)),r=l}jc(e,!1)}function Qc(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-ye(a),u=1<<o,i=l[o];-1===i?0!==(u&t)&&0===(u&r)||(l[o]=ze(u,n)):i<=n&&(e.expiredLanes|=u),a&=~u}if(t=ws,t=xe(e,e===(n=bs)?t:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===t||e===n&&(2===Ss||9===Ss)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&re(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&t)||Ce(e,t)){if((n=t&-t)===e.callbackPriority)return n;switch(null!==r&&re(r),Oe(t)){case 2:case 8:t=se;break;case 32:default:t=ce;break;case 268435456:t=de}return r=$c.bind(null,e),t=te(t,r),e.callbackPriority=n,e.callbackNode=t,n}return null!==r&&null!==r&&re(r),e.callbackPriority=2,e.callbackNode=null,2}function $c(e,n){if(0!==Vs&&5!==Vs)return e.callbackNode=null,e.callbackPriority=0,null;var t=e.callbackNode;if(xc()&&e.callbackNode!==t)return null;var r=ws;return 0===(r=xe(e,e===bs?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Js(e,r,n),Qc(e,oe()),null!=e.callbackNode&&e.callbackNode===t?$c.bind(null,e):null)}function Bc(e,n){if(xc())return null;Js(e,n,!0)}function Wc(){return 0===Ic&&(Ic=Pe()),Ic}function qc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:In(""+e)}function Kc(e,n){var t=n.ownerDocument.createElement("input");return t.name=n.name,t.value=n.value,e.id&&t.setAttribute("form",e.id),n.parentNode.insertBefore(t,n),e=new FormData(e),t.parentNode.removeChild(t),e}function Yc(e,n,t,r,l){if("submit"===n&&t&&t.stateNode===l){var a=qc((l[je]||null).action),o=r.submitter;o&&(null!==(n=(n=o[je]||null)?qc(n.formAction):o.getAttribute("formAction"))&&(a=n,o=null));var u=new it("action","action",null,r,l);e.push({event:u,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ic){var e=o?Kc(l,o):new FormData(l);Qo(t,{pending:!0,data:e,method:l.method,action:a},null,e)}}else"function"==typeof a&&(u.preventDefault(),e=o?Kc(l,o):new FormData(l),Qo(t,{pending:!0,data:e,method:l.method,action:a},a,e))},currentTarget:l}]})}}for(var Xc=0;Xc<_r.length;Xc++){var Gc=_r[Xc];Fr(Gc.toLowerCase(),"on"+(Gc[0].toUpperCase()+Gc.slice(1)))}Fr(Er,"onAnimationEnd"),Fr(xr,"onAnimationIteration"),Fr(Cr,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(zr,"onTransitionRun"),Fr(Pr,"onTransitionStart"),Fr(Nr,"onTransitionCancel"),Fr(Lr,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function ef(e,n){n=!!(4&n);for(var t=0;t<e.length;t++){var r=e[t],l=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var o=r.length-1;0<=o;o--){var u=r[o],i=u.instance,s=u.currentTarget;if(u=u.listener,i!==a&&l.isPropagationStopped())break e;a=u,l.currentTarget=s;try{a(l)}catch(e){Lu(e)}l.currentTarget=null,a=i}else for(o=0;o<r.length;o++){if(i=(u=r[o]).instance,s=u.currentTarget,u=u.listener,i!==a&&l.isPropagationStopped())break e;a=u,l.currentTarget=s;try{a(l)}catch(e){Lu(e)}l.currentTarget=null,a=i}}}}function nf(e,n){var t=n[He];void 0===t&&(t=n[He]=new Set);var r=e+"__bubble";t.has(r)||(af(n,e,2,!1),t.add(r))}function tf(e,n,t){var r=0;n&&(r|=4),af(t,e,r,n)}var rf="_reactListening"+Math.random().toString(36).slice(2);function lf(e){if(!e[rf]){e[rf]=!0,Je.forEach(function(n){"selectionchange"!==n&&(Jc.has(n)||tf(n,!1,e),tf(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[rf]||(n[rf]=!0,tf("selectionchange",!1,n))}}function af(e,n,t,r){switch(Ad(n)){case 2:var l=Td;break;case 8:l=_d;break;default:l=Fd}t=l.bind(null,n,t,e),l=void 0,!Kn||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(l=!0),r?void 0!==l?e.addEventListener(n,t,{capture:!0,passive:l}):e.addEventListener(n,t,!0):void 0!==l?e.addEventListener(n,t,{passive:l}):e.addEventListener(n,t,!1)}function of(e,n,t,r,l){var a=r;if(!(1&n||2&n||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===l)break;if(4===o)for(o=r.return;null!==o;){var i=o.tag;if((3===i||4===i)&&o.stateNode.containerInfo===l)return;o=o.return}for(;null!==u;){if(null===(o=Ke(u)))return;if(5===(i=o.tag)||6===i||26===i||27===i){r=a=o;continue e}u=u.parentNode}}r=r.return}Bn(function(){var r=a,l=jn(t),o=[];e:{var u=Tr.get(e);if(void 0!==u){var i=it,s=e;switch(e){case"keypress":if(0===et(t))break e;case"keydown":case"keyup":i=Et;break;case"focusin":s="focus",i=mt;break;case"focusout":s="blur",i=mt;break;case"beforeblur":case"afterblur":i=mt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=dt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=pt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=Ct;break;case Er:case xr:case Cr:i=ht;break;case Lr:i=zt;break;case"scroll":case"scrollend":i=ct;break;case"wheel":i=Pt;break;case"copy":case"cut":case"paste":i=gt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=xt;break;case"toggle":case"beforetoggle":i=Nt}var c=!!(4&n),f=!c&&("scroll"===e||"scrollend"===e),p=c?null!==u?u+"Capture":null:u;c=[];for(var m,h=r;null!==h;){var g=h;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Wn(h,p))&&c.push(uf(h,g,m)),f)break;h=h.return}0<c.length&&(u=new i(u,s,null,t,l),o.push({event:u,listeners:c}))}}if(!(7&n)){if(i="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||t===Un||!(s=t.relatedTarget||t.fromElement)||!Ke(s)&&!s[Ve])&&(i||u)&&(u=l.window===l?l:(u=l.ownerDocument)?u.defaultView||u.parentWindow:window,i?(i=r,null!==(s=(s=t.relatedTarget||t.toElement)?Ke(s):null)&&(f=d(s),c=s.tag,s!==f||5!==c&&27!==c&&6!==c)&&(s=null)):(i=null,s=r),i!==s)){if(c=dt,g="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=xt,g="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==i?u:Xe(i),m=null==s?u:Xe(s),(u=new c(g,h+"leave",i,t,l)).target=f,u.relatedTarget=m,g=null,Ke(l)===r&&((c=new c(p,h+"enter",s,t,l)).target=m,c.relatedTarget=f,g=c),f=g,i&&s)e:{for(p=s,h=0,m=c=i;m;m=cf(m))h++;for(m=0,g=p;g;g=cf(g))m++;for(;0<h-m;)c=cf(c),h--;for(;0<m-h;)p=cf(p),m--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=cf(c),p=cf(p)}c=null}else c=null;null!==i&&ff(o,u,i,c,!1),null!==s&&null!==f&&ff(o,f,s,c,!0)}if("select"===(i=(u=r?Xe(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===i&&"file"===u.type)var v=Kt;else if(Ht(u))if(Yt)v=lr;else{v=tr;var y=nr}else!(i=u.nodeName)||"input"!==i.toLowerCase()||"checkbox"!==u.type&&"radio"!==u.type?r&&On(r.elementType)&&(v=Kt):v=rr;switch(v&&(v=v(e,r))?Qt(o,v,t,l):(y&&y(e,u,r),"focusout"===e&&r&&"number"===u.type&&null!=r.memoizedProps.value&&Pn(u,"number",u.value)),y=r?Xe(r):window,e){case"focusin":(Ht(y)||"true"===y.contentEditable)&&(pr=y,mr=r,hr=null);break;case"focusout":hr=mr=pr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,vr(o,t,l);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":vr(o,t,l)}var b;if(Tt)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else It?At(e,t)&&(k="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(k="onCompositionStart");k&&(Dt&&"ko"!==t.locale&&(It||"onCompositionStart"!==k?"onCompositionEnd"===k&&It&&(b=Jn()):(Gn="value"in(Xn=l)?Xn.value:Xn.textContent,It=!0)),0<(y=sf(r,k)).length&&(k=new vt(k,e,null,t,l),o.push({event:k,listeners:y}),b?k.data=b:null!==(b=Rt(t))&&(k.data=b))),(b=Ft?Ut(e,t):jt(e,t))&&(0<(k=sf(r,"onBeforeInput")).length&&(y=new vt("onBeforeInput","beforeinput",null,t,l),o.push({event:y,listeners:k}),y.data=b)),Yc(o,e,r,t,l)}ef(o,n)})}function uf(e,n,t){return{instance:e,listener:n,currentTarget:t}}function sf(e,n){for(var t=n+"Capture",r=[];null!==e;){var l=e,a=l.stateNode;if(5!==(l=l.tag)&&26!==l&&27!==l||null===a||(null!=(l=Wn(e,t))&&r.unshift(uf(e,l,a)),null!=(l=Wn(e,n))&&r.push(uf(e,l,a))),3===e.tag)return r;e=e.return}return[]}function cf(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ff(e,n,t,r,l){for(var a=n._reactName,o=[];null!==t&&t!==r;){var u=t,i=u.alternate,s=u.stateNode;if(u=u.tag,null!==i&&i===r)break;5!==u&&26!==u&&27!==u||null===s||(i=s,l?null!=(s=Wn(t,a))&&o.unshift(uf(t,s,i)):l||null!=(s=Wn(t,a))&&o.push(uf(t,s,i))),t=t.return}0!==o.length&&e.push({event:n,listeners:o})}var df=/\r\n?/g,pf=/\u0000|\uFFFD/g;function mf(e){return("string"==typeof e?e:""+e).replace(df,"\n").replace(pf,"")}function hf(e,n){return n=mf(n),mf(e)===n}function gf(){}function vf(e,n,t,r,l,a){switch(t){case"children":"string"==typeof r?"body"===n||"textarea"===n&&""===r||_n(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==n&&_n(e,""+r);break;case"className":cn(e,"class",r);break;case"tabIndex":cn(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(e,t,r);break;case"style":Mn(e,r,a);break;case"data":if("object"!==n){cn(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==n||"href"!==t)){e.removeAttribute(t);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(t);break}r=In(""+r),e.setAttribute(t,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===t?("input"!==n&&vf(e,n,"name",l.name,l,null),vf(e,n,"formEncType",l.formEncType,l,null),vf(e,n,"formMethod",l.formMethod,l,null),vf(e,n,"formTarget",l.formTarget,l,null)):(vf(e,n,"encType",l.encType,l,null),vf(e,n,"method",l.method,l,null),vf(e,n,"target",l.target,l,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(t);break}r=In(""+r),e.setAttribute(t,r);break;case"onClick":null!=r&&(e.onclick=gf);break;case"onScroll":null!=r&&nf("scroll",e);break;case"onScrollEnd":null!=r&&nf("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(c(61));if(null!=(t=r.__html)){if(null!=l.children)throw Error(c(60));e.innerHTML=t}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}t=In(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(t,""+r):e.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(t,""):e.removeAttribute(t);break;case"capture":case"download":!0===r?e.setAttribute(t,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(t,r):e.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(t,r):e.removeAttribute(t);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(t):e.setAttribute(t,r);break;case"popover":nf("beforetoggle",e),nf("toggle",e),sn(e,"popover",r);break;case"xlinkActuate":fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":sn(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&sn(e,t=An.get(t)||t,r)}}function yf(e,n,t,r,l,a){switch(t){case"style":Mn(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(c(61));if(null!=(t=r.__html)){if(null!=l.children)throw Error(c(60));e.innerHTML=t}}break;case"children":"string"==typeof r?_n(e,r):("number"==typeof r||"bigint"==typeof r)&&_n(e,""+r);break;case"onScroll":null!=r&&nf("scroll",e);break;case"onScrollEnd":null!=r&&nf("scrollend",e);break;case"onClick":null!=r&&(e.onclick=gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:en.hasOwnProperty(t)||("o"!==t[0]||"n"!==t[1]||(l=t.endsWith("Capture"),n=t.slice(2,l?t.length-7:void 0),"function"==typeof(a=null!=(a=e[je]||null)?a[t]:null)&&e.removeEventListener(n,a,l),"function"!=typeof r)?t in e?e[t]=r:!0===r?e.setAttribute(t,""):sn(e,t,r):("function"!=typeof a&&null!==a&&(t in e?e[t]=null:e.hasAttribute(t)&&e.removeAttribute(t)),e.addEventListener(n,r,l)))}}function bf(e,n,t){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nf("error",e),nf("load",e);var r,l=!1,a=!1;for(r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)switch(r){case"src":l=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:vf(e,n,r,o,t,null)}}return a&&vf(e,n,"srcSet",t.srcSet,t,null),void(l&&vf(e,n,"src",t.src,t,null));case"input":nf("invalid",e);var u=r=o=a=null,i=null,s=null;for(l in t)if(t.hasOwnProperty(l)){var f=t[l];if(null!=f)switch(l){case"name":a=f;break;case"type":o=f;break;case"checked":i=f;break;case"defaultChecked":s=f;break;case"value":r=f;break;case"defaultValue":u=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(c(137,n));break;default:vf(e,n,l,f,t,null)}}return zn(e,r,u,i,s,o,a,!1),void kn(e);case"select":for(a in nf("invalid",e),l=o=r=null,t)if(t.hasOwnProperty(a)&&null!=(u=t[a]))switch(a){case"value":r=u;break;case"defaultValue":o=u;break;case"multiple":l=u;default:vf(e,n,a,u,t,null)}return n=r,t=o,e.multiple=!!l,void(null!=n?Nn(e,!!l,n,!1):null!=t&&Nn(e,!!l,t,!0));case"textarea":for(o in nf("invalid",e),r=a=l=null,t)if(t.hasOwnProperty(o)&&null!=(u=t[o]))switch(o){case"value":l=u;break;case"defaultValue":a=u;break;case"children":r=u;break;case"dangerouslySetInnerHTML":if(null!=u)throw Error(c(91));break;default:vf(e,n,o,u,t,null)}return Tn(e,l,a,r),void kn(e);case"option":for(i in t)if(t.hasOwnProperty(i)&&null!=(l=t[i]))if("selected"===i)e.selected=l&&"function"!=typeof l&&"symbol"!=typeof l;else vf(e,n,i,l,t,null);return;case"dialog":nf("beforetoggle",e),nf("toggle",e),nf("cancel",e),nf("close",e);break;case"iframe":case"object":nf("load",e);break;case"video":case"audio":for(l=0;l<Zc.length;l++)nf(Zc[l],e);break;case"image":nf("error",e),nf("load",e);break;case"details":nf("toggle",e);break;case"embed":case"source":case"link":nf("error",e),nf("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(s in t)if(t.hasOwnProperty(s)&&null!=(l=t[s]))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:vf(e,n,s,l,t,null)}return;default:if(On(n)){for(f in t)t.hasOwnProperty(f)&&(void 0!==(l=t[f])&&yf(e,n,f,l,t,void 0));return}}for(u in t)t.hasOwnProperty(u)&&(null!=(l=t[u])&&vf(e,n,u,l,t,null))}function kf(e,n,t,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,a=null,o=null,u=null,i=null,s=null,f=null;for(m in t){var d=t[m];if(t.hasOwnProperty(m)&&null!=d)switch(m){case"checked":case"value":break;case"defaultValue":i=d;default:r.hasOwnProperty(m)||vf(e,n,m,null,r,d)}}for(var p in r){var m=r[p];if(d=t[p],r.hasOwnProperty(p)&&(null!=m||null!=d))switch(p){case"type":a=m;break;case"name":l=m;break;case"checked":s=m;break;case"defaultChecked":f=m;break;case"value":o=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(c(137,n));break;default:m!==d&&vf(e,n,p,m,r,d)}}return void Cn(e,o,u,i,s,f,a,l);case"select":for(a in m=o=u=p=null,t)if(i=t[a],t.hasOwnProperty(a)&&null!=i)switch(a){case"value":break;case"multiple":m=i;default:r.hasOwnProperty(a)||vf(e,n,a,null,r,i)}for(l in r)if(a=r[l],i=t[l],r.hasOwnProperty(l)&&(null!=a||null!=i))switch(l){case"value":p=a;break;case"defaultValue":u=a;break;case"multiple":o=a;default:a!==i&&vf(e,n,l,a,r,i)}return n=u,t=o,r=m,void(null!=p?Nn(e,!!t,p,!1):!!r!=!!t&&(null!=n?Nn(e,!!t,n,!0):Nn(e,!!t,t?[]:"",!1)));case"textarea":for(u in m=p=null,t)if(l=t[u],t.hasOwnProperty(u)&&null!=l&&!r.hasOwnProperty(u))switch(u){case"value":case"children":break;default:vf(e,n,u,null,r,l)}for(o in r)if(l=r[o],a=t[o],r.hasOwnProperty(o)&&(null!=l||null!=a))switch(o){case"value":p=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(c(91));break;default:l!==a&&vf(e,n,o,l,r,a)}return void Ln(e,p,m);case"option":for(var h in t)if(p=t[h],t.hasOwnProperty(h)&&null!=p&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else vf(e,n,h,null,r,p);for(i in r)if(p=r[i],m=t[i],r.hasOwnProperty(i)&&p!==m&&(null!=p||null!=m))if("selected"===i)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else vf(e,n,i,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in t)p=t[g],t.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&vf(e,n,g,null,r,p);for(s in r)if(p=r[s],m=t[s],r.hasOwnProperty(s)&&p!==m&&(null!=p||null!=m))switch(s){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(c(137,n));break;default:vf(e,n,s,p,r,m)}return;default:if(On(n)){for(var v in t)p=t[v],t.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&yf(e,n,v,void 0,r,p);for(f in r)p=r[f],m=t[f],!r.hasOwnProperty(f)||p===m||void 0===p&&void 0===m||yf(e,n,f,p,r,m);return}}for(var y in t)p=t[y],t.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&vf(e,n,y,null,r,p);for(d in r)p=r[d],m=t[d],!r.hasOwnProperty(d)||p===m||null==p&&null==m||vf(e,n,d,p,r,m)}var wf=null,Sf=null;function Ef(e){return 9===e.nodeType?e:e.ownerDocument}function xf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cf(e,n){if(0===e)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===n?0:e}function zf(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"bigint"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var Pf=null;function Nf(){var e=window.event;return e&&"popstate"===e.type?e!==Pf&&(Pf=e,!0):(Pf=null,!1)}var Lf="function"==typeof setTimeout?setTimeout:void 0,Tf="function"==typeof clearTimeout?clearTimeout:void 0,_f="function"==typeof Promise?Promise:void 0,Ff="function"==typeof queueMicrotask?queueMicrotask:void 0!==_f?function(e){return _f.resolve(null).then(e).catch(Df)}:Lf;function Df(e){setTimeout(function(){throw e})}function Mf(e){return"head"===e}function Of(e,n){var t=n,r=0,l=0;do{var a=t.nextSibling;if(e.removeChild(t),a&&8===a.nodeType)if("/$"===(t=a.data)){if(0<r&&8>r){t=r;var o=e.ownerDocument;if(1&t&&Bf(o.documentElement),2&t&&Bf(o.body),4&t)for(Bf(t=o.head),o=t.firstChild;o;){var u=o.nextSibling,i=o.nodeName;o[We]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===o.rel.toLowerCase()||t.removeChild(o),o=u}}if(0===l)return e.removeChild(a),void np(n);l--}else"$"===t||"$?"===t||"$!"===t?l++:r=t.charCodeAt(0)-48;else r=0;t=a}while(t);np(n)}function Af(e){var n=e.firstChild;for(n&&10===n.nodeType&&(n=n.nextSibling);n;){var t=n;switch(n=n.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Af(t),qe(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===t.rel.toLowerCase())continue}e.removeChild(t)}}function Rf(e,n,t,r){for(;1===e.nodeType;){var l=t;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==l.rel||e.getAttribute("href")!==(null==l.href||""===l.href?null:l.href)||e.getAttribute("crossorigin")!==(null==l.crossOrigin?null:l.crossOrigin)||e.getAttribute("title")!==(null==l.title?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==l.src?null:l.src)||e.getAttribute("type")!==(null==l.type?null:l.type)||e.getAttribute("crossorigin")!==(null==l.crossOrigin?null:l.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==n||"hidden"!==e.type)return e;var a=null==l.name?null:""+l.name;if("hidden"===l.type&&e.getAttribute("name")===a)return e}if(null===(e=Vf(e.nextSibling)))break}return null}function If(e,n,t){if(""===n)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Vf(e.nextSibling)))return null}return e}function Uf(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function jf(e,n){var t=e.ownerDocument;if("$?"!==e.data||"complete"===t.readyState)n();else{var r=function(){n(),t.removeEventListener("DOMContentLoaded",r)};t.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Vf(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n||"F!"===n||"F"===n)break;if("/$"===n)return null}}return e}var Hf=null;function Qf(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}function $f(e,n,t){switch(n=Ef(t),e){case"html":if(!(e=n.documentElement))throw Error(c(452));return e;case"head":if(!(e=n.head))throw Error(c(453));return e;case"body":if(!(e=n.body))throw Error(c(454));return e;default:throw Error(c(451))}}function Bf(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qe(e)}var Wf=new Map,qf=new Set;function Kf(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Yf=j.d;j.d={f:function(){var e=Yf.f(),n=rc();return e||n},r:function(e){var n=Ye(e);null!==n&&5===n.tag&&"form"===n.type?Bo(n):Yf.r(e)},D:function(e){Yf.D(e),Gf("dns-prefetch",e,null)},C:function(e,n){Yf.C(e,n),Gf("preconnect",e,n)},L:function(e,n,t){Yf.L(e,n,t);var r=Xf;if(r&&e&&n){var l='link[rel="preload"][as="'+xn(n)+'"]';"image"===n&&t&&t.imageSrcSet?(l+='[imagesrcset="'+xn(t.imageSrcSet)+'"]',"string"==typeof t.imageSizes&&(l+='[imagesizes="'+xn(t.imageSizes)+'"]')):l+='[href="'+xn(e)+'"]';var a=l;switch(n){case"style":a=Jf(e);break;case"script":a=td(e)}Wf.has(a)||(e=v({rel:"preload",href:"image"===n&&t&&t.imageSrcSet?void 0:e,as:n},t),Wf.set(a,e),null!==r.querySelector(l)||"style"===n&&r.querySelector(ed(a))||"script"===n&&r.querySelector(rd(a))||(bf(n=r.createElement("link"),"link",e),Ze(n),r.head.appendChild(n)))}},m:function(e,n){Yf.m(e,n);var t=Xf;if(t&&e){var r=n&&"string"==typeof n.as?n.as:"script",l='link[rel="modulepreload"][as="'+xn(r)+'"][href="'+xn(e)+'"]',a=l;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=td(e)}if(!Wf.has(a)&&(e=v({rel:"modulepreload",href:e},n),Wf.set(a,e),null===t.querySelector(l))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(rd(a)))return}bf(r=t.createElement("link"),"link",e),Ze(r),t.head.appendChild(r)}}},X:function(e,n){Yf.X(e,n);var t=Xf;if(t&&e){var r=Ge(t).hoistableScripts,l=td(e),a=r.get(l);a||((a=t.querySelector(rd(l)))||(e=v({src:e,async:!0},n),(n=Wf.get(l))&&ud(e,n),Ze(a=t.createElement("script")),bf(a,"link",e),t.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(l,a))}},S:function(e,n,t){Yf.S(e,n,t);var r=Xf;if(r&&e){var l=Ge(r).hoistableStyles,a=Jf(e);n=n||"default";var o=l.get(a);if(!o){var u={loading:0,preload:null};if(o=r.querySelector(ed(a)))u.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},t),(t=Wf.get(a))&&od(e,t);var i=o=r.createElement("link");Ze(i),bf(i,"link",e),i._p=new Promise(function(e,n){i.onload=e,i.onerror=n}),i.addEventListener("load",function(){u.loading|=1}),i.addEventListener("error",function(){u.loading|=2}),u.loading|=4,ad(o,n,r)}o={type:"stylesheet",instance:o,count:1,state:u},l.set(a,o)}}},M:function(e,n){Yf.M(e,n);var t=Xf;if(t&&e){var r=Ge(t).hoistableScripts,l=td(e),a=r.get(l);a||((a=t.querySelector(rd(l)))||(e=v({src:e,async:!0,type:"module"},n),(n=Wf.get(l))&&ud(e,n),Ze(a=t.createElement("script")),bf(a,"link",e),t.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(l,a))}}};var Xf="undefined"==typeof document?null:document;function Gf(e,n,t){var r=Xf;if(r&&"string"==typeof n&&n){var l=xn(n);l='link[rel="'+e+'"][href="'+l+'"]',"string"==typeof t&&(l+='[crossorigin="'+t+'"]'),qf.has(l)||(qf.add(l),e={rel:e,crossOrigin:t,href:n},null===r.querySelector(l)&&(bf(n=r.createElement("link"),"link",e),Ze(n),r.head.appendChild(n)))}}function Zf(e,n,t,r){var l,a,o,u,i=(i=Y.current)?Kf(i):null;if(!i)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof t.precedence&&"string"==typeof t.href?(n=Jf(t.href),(r=(t=Ge(i).hoistableStyles).get(n))||(r={type:"style",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===t.rel&&"string"==typeof t.href&&"string"==typeof t.precedence){e=Jf(t.href);var s=Ge(i).hoistableStyles,f=s.get(e);if(f||(i=i.ownerDocument||i,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,f),(s=i.querySelector(ed(e)))&&!s._p&&(f.instance=s,f.state.loading=5),Wf.has(e)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Wf.set(e,t),s||(l=i,a=e,o=t,u=f.state,l.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=l.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),bf(a,"link",o),Ze(a),l.head.appendChild(a))))),n&&null===r)throw Error(c(528,""));return f}if(n&&null!==r)throw Error(c(529,""));return null;case"script":return n=t.async,"string"==typeof(t=t.src)&&n&&"function"!=typeof n&&"symbol"!=typeof n?(n=td(t),(r=(t=Ge(i).hoistableScripts).get(n))||(r={type:"script",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Jf(e){return'href="'+xn(e)+'"'}function ed(e){return'link[rel="stylesheet"]['+e+"]"}function nd(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function td(e){return'[src="'+xn(e)+'"]'}function rd(e){return"script[async]"+e}function ld(e,n,t){if(n.count++,null===n.instance)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+xn(t.href)+'"]');if(r)return n.instance=r,Ze(r),r;var l=v({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return Ze(r=(e.ownerDocument||e).createElement("style")),bf(r,"style",l),ad(r,t.precedence,e),n.instance=r;case"stylesheet":l=Jf(t.href);var a=e.querySelector(ed(l));if(a)return n.state.loading|=4,n.instance=a,Ze(a),a;r=nd(t),(l=Wf.get(l))&&od(r,l),Ze(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,n){o.onload=e,o.onerror=n}),bf(a,"link",r),n.state.loading|=4,ad(a,t.precedence,e),n.instance=a;case"script":return a=td(t.src),(l=e.querySelector(rd(a)))?(n.instance=l,Ze(l),l):(r=t,(l=Wf.get(a))&&ud(r=v({},t),l),Ze(l=(e=e.ownerDocument||e).createElement("script")),bf(l,"link",r),e.head.appendChild(l),n.instance=l);case"void":return null;default:throw Error(c(443,n.type))}else"stylesheet"===n.type&&!(4&n.state.loading)&&(r=n.instance,n.state.loading|=4,ad(r,t.precedence,e));return n.instance}function ad(e,n,t){for(var r=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=r.length?r[r.length-1]:null,a=l,o=0;o<r.length;o++){var u=r[o];if(u.dataset.precedence===n)a=u;else if(a!==l)break}a?a.parentNode.insertBefore(e,a.nextSibling):(n=9===t.nodeType?t.head:t).insertBefore(e,n.firstChild)}function od(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.title&&(e.title=n.title)}function ud(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.integrity&&(e.integrity=n.integrity)}var id=null;function sd(e,n,t){if(null===id){var r=new Map,l=id=new Map;l.set(t,r)}else(r=(l=id).get(t))||(r=new Map,l.set(t,r));if(r.has(e))return r;for(r.set(e,null),t=t.getElementsByTagName(e),l=0;l<t.length;l++){var a=t[l];if(!(a[We]||a[Ue]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(n)||"";o=e+o;var u=r.get(o);u?u.push(a):r.set(o,[a])}}return r}function cd(e,n,t){(e=e.ownerDocument||e).head.insertBefore(t,"title"===n?e.querySelector("head > title"):null)}function fd(e,n,t){if(1===t||null!=n.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof n.precedence||"string"!=typeof n.href||""===n.href)break;return!0;case"link":if("string"!=typeof n.rel||"string"!=typeof n.href||""===n.href||n.onLoad||n.onError)break;return"stylesheet"!==n.rel||(e=n.disabled,"string"==typeof n.precedence&&null==e);case"script":if(n.async&&"function"!=typeof n.async&&"symbol"!=typeof n.async&&!n.onLoad&&!n.onError&&n.src&&"string"==typeof n.src)return!0}return!1}function dd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var pd=null;function md(){}function hd(e,n,t){if(null===pd)throw Error(c(475));var r=pd;if(!("stylesheet"!==n.type||"string"==typeof t.media&&!1===matchMedia(t.media).matches||4&n.state.loading)){if(null===n.instance){var l=Jf(t.href),a=e.querySelector(ed(l));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=vd.bind(r),e.then(r,r)),n.state.loading|=4,n.instance=a,void Ze(a);a=e.ownerDocument||e,t=nd(t),(l=Wf.get(l))&&od(t,l),Ze(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,n){o.onload=e,o.onerror=n}),bf(a,"link",t),n.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(n,e),(e=n.state.preload)&&!(3&n.state.loading)&&(r.count++,n=vd.bind(r),e.addEventListener("load",n),e.addEventListener("error",n))}}function gd(){if(null===pd)throw Error(c(475));var e=pd;return e.stylesheets&&0===e.count&&bd(e,e.stylesheets),0<e.count?function(n){var t=setTimeout(function(){if(e.stylesheets&&bd(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(t)}}:null}function vd(){if(this.count--,0===this.count)if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var yd=null;function bd(e,n){e.stylesheets=null,null!==e.unsuspend&&(e.count++,yd=new Map,n.forEach(kd,e),yd=null,vd.call(e))}function kd(e,n){if(!(4&n.state.loading)){var t=yd.get(e);if(t)var r=t.get(null);else{t=new Map,yd.set(e,t);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<l.length;a++){var o=l[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(t.set(o.dataset.precedence,o),r=o)}r&&t.set(null,r)}o=(l=n.instance).getAttribute("data-precedence"),(a=t.get(o)||r)===r&&t.set(null,l),t.set(o,l),this.count++,r=vd.bind(this),l.addEventListener("load",r),l.addEventListener("error",r),a?a.parentNode.insertBefore(l,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(l,e.firstChild),n.state.loading|=4}}var wd={$$typeof:z,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Sd(e,n,t,r,l,a,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=r,this.onUncaughtError=l,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Ed(e,n,t,r,l,a,o,u,i,s,c,f){return e=new Sd(e,n,t,o,u,i,s,f),n=1,!0===a&&(n|=24),a=Wr(3,null,null,n),e.current=a,a.stateNode=e,(n=Ql()).refCount++,e.pooledCache=n,n.refCount++,a.memoizedState={element:r,isDehydrated:t,cache:n},pa(a),e}function xd(e){return e?e=$r:$r}function Cd(e,n,t,r,l,a){l=xd(l),null===r.context?r.context=l:r.pendingContext=l,(r=ha(n)).payload={element:t},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(t=ga(e,r,n))&&(Zs(t,0,n),va(t,e,n))}function zd(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Pd(e,n){zd(e,n),(e=e.alternate)&&zd(e,n)}function Nd(e){if(13===e.tag){var n=Vr(e,67108864);null!==n&&Zs(n,0,67108864),Pd(e,67108864)}}var Ld=!0;function Td(e,n,t,r){var l=U.T;U.T=null;var a=j.p;try{j.p=2,Fd(e,n,t,r)}finally{j.p=a,U.T=l}}function _d(e,n,t,r){var l=U.T;U.T=null;var a=j.p;try{j.p=8,Fd(e,n,t,r)}finally{j.p=a,U.T=l}}function Fd(e,n,t,r){if(Ld){var l=Dd(r);if(null===l)of(e,n,r,Md,t),Bd(e,r);else if(qd(l,e,n,t,r))r.stopPropagation();else if(Bd(e,r),4&n&&-1<$d.indexOf(e)){for(;null!==l;){var a=Ye(l);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Ee(a.pendingLanes);if(0!==o){var u=a;for(u.pendingLanes|=2,u.entangledLanes|=2;o;){var i=1<<31-ye(o);u.entanglements[1]|=i,o&=~i}Uc(a),!(6&ys)&&(Is=oe()+500,jc(0,!1))}}break;case 13:null!==(u=Vr(a,2))&&Zs(u,0,2),rc(),Pd(a,2)}if(null===(a=Dd(r))&&of(e,n,r,Md,t),a===l)break;l=a}null!==l&&r.stopPropagation()}else of(e,n,r,null,t)}}function Dd(e){return Od(e=jn(e))}var Md=null;function Od(e){if(Md=null,null!==(e=Ke(e))){var n=d(e);if(null===n)e=null;else{var t=n.tag;if(13===t){if(null!==(e=p(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Md=e,null}function Ad(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ie:return 2;case se:return 8;case ce:case fe:return 32;case de:return 268435456;default:return 32}default:return 32}}var Rd=!1,Id=null,Ud=null,jd=null,Vd=new Map,Hd=new Map,Qd=[],$d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bd(e,n){switch(e){case"focusin":case"focusout":Id=null;break;case"dragenter":case"dragleave":Ud=null;break;case"mouseover":case"mouseout":jd=null;break;case"pointerover":case"pointerout":Vd.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hd.delete(n.pointerId)}}function Wd(e,n,t,r,l,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},null!==n&&(null!==(n=Ye(n))&&Nd(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==l&&-1===n.indexOf(l)&&n.push(l),e)}function qd(e,n,t,r,l){switch(n){case"focusin":return Id=Wd(Id,e,n,t,r,l),!0;case"dragenter":return Ud=Wd(Ud,e,n,t,r,l),!0;case"mouseover":return jd=Wd(jd,e,n,t,r,l),!0;case"pointerover":var a=l.pointerId;return Vd.set(a,Wd(Vd.get(a)||null,e,n,t,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Hd.set(a,Wd(Hd.get(a)||null,e,n,t,r,l)),!0}return!1}function Kd(e){var n=Ke(e.target);if(null!==n){var t=d(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=p(t)))return e.blockedOn=n,void Re(e.priority,function(){if(13===t.tag){var e=Xs();e=Me(e);var n=Vr(t,e);null!==n&&Zs(n,0,e),Pd(t,e)}})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Yd(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Dd(e.nativeEvent);if(null!==t)return null!==(n=Ye(t))&&Nd(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);Un=r,t.target.dispatchEvent(r),Un=null,n.shift()}return!0}function Xd(e,n,t){Yd(e)&&t.delete(n)}function Gd(){Rd=!1,null!==Id&&Yd(Id)&&(Id=null),null!==Ud&&Yd(Ud)&&(Ud=null),null!==jd&&Yd(jd)&&(jd=null),Vd.forEach(Xd),Hd.forEach(Xd)}function Zd(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Gd)))}var Jd=null;function ep(e){Jd!==e&&(Jd=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Jd===e&&(Jd=null);for(var n=0;n<e.length;n+=3){var t=e[n],r=e[n+1],l=e[n+2];if("function"!=typeof r){if(null===Od(r||t))continue;break}var a=Ye(t);null!==a&&(e.splice(n,3),n-=3,Qo(a,{pending:!0,data:l,method:t.method,action:r},r,l))}}))}function np(e){function n(n){return Zd(n,e)}null!==Id&&Zd(Id,e),null!==Ud&&Zd(Ud,e),null!==jd&&Zd(jd,e),Vd.forEach(n),Hd.forEach(n);for(var t=0;t<Qd.length;t++){var r=Qd[t];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qd.length&&null===(t=Qd[0]).blockedOn;)Kd(t),null===t.blockedOn&&Qd.shift();if(null!=(t=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<t.length;r+=3){var l=t[r],a=t[r+1],o=l[je]||null;if("function"==typeof a)o||ep(t);else if(o){var u=null;if(a&&a.hasAttribute("formAction")){if(l=a,o=a[je]||null)u=o.formAction;else if(null!==Od(l))continue}else u=o.action;"function"==typeof u?t[r+1]=u:(t.splice(r,3),r-=3),ep(t)}}}function tp(e){this._internalRoot=e}function rp(e){this._internalRoot=e}rp.prototype.render=tp.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(c(409));Cd(n.current,Xs(),e,n,null,null)},rp.prototype.unmount=tp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;Cd(e.current,2,null,e,null,null),rc(),n[Ve]=null}},rp.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ae();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Qd.length&&0!==n&&n<Qd[t].priority;t++);Qd.splice(t,0,e),0===t&&Kd(e)}};var lp=i.version;if("19.1.0"!==lp)throw Error(c(527,lp,"19.1.0"));j.findDOMNode=function(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(c(188));throw e=Object.keys(e).join(","),Error(c(268,e))}return e=null===(e=null!==(e=h(n))?g(e):null)?null:e.stateNode};var ap={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{he=op.inject(ap),ge=op}catch(e){}}a.createRoot=function(e,n){if(!f(e))throw Error(c(299));var t=!1,r="",l=Tu,a=_u,o=Fu;return null!=n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(a=n.onCaughtError),void 0!==n.onRecoverableError&&(o=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks),n=Ed(e,1,!1,null,0,t,r,l,a,o,0,null),e[Ve]=n.current,lf(e),new tp(n)},a.hydrateRoot=function(e,n,t){if(!f(e))throw Error(c(299));var r=!1,l="",a=Tu,o=_u,u=Fu,i=null;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(l=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(u=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks,void 0!==t.formState&&(i=t.formState)),(n=Ed(e,1,!0,n,0,r,l,a,o,u,0,i)).context=xd(null),t=n.current,(l=ha(r=Me(r=Xs()))).callback=null,ga(t,l,r),t=r,n.current.lanes=t,Te(n,t),Uc(n),e[Ve]=n.current,lf(e),new rp(n)},a.version="19.1.0"},33,[34,36,38]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},34,[35]);
__d(function(g,r,i,_a,m,e,d){
/**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function n(n,t){var a=n.length;n.push(t);e:for(;0<a;){var o=a-1>>>1,u=n[o];if(!(0<l(u,t)))break e;n[o]=t,n[a]=u,a=o}}function t(n){return 0===n.length?null:n[0]}function a(n){if(0===n.length)return null;var t=n[0],a=n.pop();if(a!==t){n[0]=a;e:for(var o=0,u=n.length,s=u>>>1;o<s;){var f=2*(o+1)-1,c=n[f],b=f+1,p=n[b];if(0>l(c,a))b<u&&0>l(p,c)?(n[o]=p,n[b]=a,o=b):(n[o]=c,n[f]=a,o=f);else{if(!(b<u&&0>l(p,a)))break e;n[o]=p,n[b]=a,o=b}}}return t}function l(n,t){var a=n.sortIndex-t.sortIndex;return 0!==a?a:n.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();e.unstable_now=function(){return u.now()-s}}var f=[],c=[],b=1,p=null,v=3,y=!1,_=!1,k=!1,w=!1,h="function"==typeof setTimeout?setTimeout:null,T="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function I(l){for(var o=t(c);null!==o;){if(null===o.callback)a(c);else{if(!(o.startTime<=l))break;a(c),o.sortIndex=o.expirationTime,n(f,o)}o=t(c)}}function P(n){if(k=!1,I(n),!_)if(null!==t(f))_=!0,L||(L=!0,C());else{var a=t(c);null!==a&&N(P,a.startTime-n)}}var C,L=!1,M=-1,j=5,F=-1;function R(){return!!w||!(e.unstable_now()-F<j)}function q(){if(w=!1,L){var n=e.unstable_now();F=n;var l=!0;try{e:{_=!1,k&&(k=!1,T(M),M=-1),y=!0;var o=v;try{n:{for(I(n),p=t(f);null!==p&&!(p.expirationTime>n&&R());){var u=p.callback;if("function"==typeof u){p.callback=null,v=p.priorityLevel;var s=u(p.expirationTime<=n);if(n=e.unstable_now(),"function"==typeof s){p.callback=s,I(n),l=!0;break n}p===t(f)&&a(f),I(n)}else a(f);p=t(f)}if(null!==p)l=!0;else{var b=t(c);null!==b&&N(P,b.startTime-n),l=!1}}break e}finally{p=null,v=o,y=!1}l=void 0}}finally{l?C():L=!1}}}if("function"==typeof x)C=function(){x(q)};else if("undefined"!=typeof MessageChannel){var B=new MessageChannel,D=B.port2;B.port1.onmessage=q,C=function(){D.postMessage(null)}}else C=function(){h(q,0)};function N(n,t){M=h(function(){n(e.unstable_now())},t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(n){n.callback=null},e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<n?Math.floor(1e3/n):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(n){switch(v){case 1:case 2:case 3:var t=3;break;default:t=v}var a=v;v=t;try{return n()}finally{v=a}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(n,t){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var a=v;v=n;try{return t()}finally{v=a}},e.unstable_scheduleCallback=function(a,l,o){var u=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?u+o:u:o=u,a){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return a={id:b++,callback:l,priorityLevel:a,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(a.sortIndex=o,n(c,a),null===t(f)&&a===t(c)&&(k?(T(M),M=-1):k=!0,N(P,o-u))):(a.sortIndex=s,n(f,a),_||y||(_=!0,L||(L=!0,C()))),a},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(n){var t=v;return function(){var a=v;v=t;try{return n.apply(this,arguments)}finally{v=a}}}},35,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},36,[37]);
__d(function(g,r,_i,a,m,e,d){
/**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),s=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),h=Symbol.iterator;var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function S(t,n,o){this.props=t,this.context=n,this.refs=b,this.updater=o||_}function E(){}function w(t,n,o){this.props=t,this.context=n,this.refs=b,this.updater=o||_}S.prototype.isReactComponent={},S.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")},S.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},E.prototype=S.prototype;var R=w.prototype=new E;R.constructor=w,v(R,S.prototype),R.isPureReactComponent=!0;var j=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function C(n,o,u,i,c,s){return u=s.ref,{$$typeof:t,type:n,key:o,ref:void 0!==u?u:null,props:s}}function $(n){return"object"==typeof n&&null!==n&&n.$$typeof===t}var T=/\/+/g;function O(t,n){return"object"==typeof t&&null!==t&&null!=t.key?(o=""+t.key,u={"=":"=0",":":"=2"},"$"+o.replace(/[=:]/g,function(t){return u[t]})):n.toString(36);var o,u}function x(){}function A(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(x,x):(t.status="pending",t.then(function(n){"pending"===t.status&&(t.status="fulfilled",t.value=n)},function(n){"pending"===t.status&&(t.status="rejected",t.reason=n)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function I(o,u,i,c,s){var f=typeof o;"undefined"!==f&&"boolean"!==f||(o=null);var l,p,_=!1;if(null===o)_=!0;else switch(f){case"bigint":case"string":case"number":_=!0;break;case"object":switch(o.$$typeof){case t:case n:_=!0;break;case y:return I((_=o._init)(o._payload),u,i,c,s)}}if(_)return s=s(o),_=""===c?"."+O(o,0):c,j(s)?(i="",null!=_&&(i=_.replace(T,"$&/")+"/"),I(s,u,i,"",function(t){return t})):null!=s&&($(s)&&(l=s,p=i+(null==s.key||o&&o.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+_,s=C(l.type,p,void 0,0,0,l.props)),u.push(s)),1;_=0;var v,b=""===c?".":c+":";if(j(o))for(var S=0;S<o.length;S++)_+=I(c=o[S],u,i,f=b+O(c,S),s);else if("function"==typeof(S=null===(v=o)||"object"!=typeof v?null:"function"==typeof(v=h&&v[h]||v["@@iterator"])?v:null))for(o=S.call(o),S=0;!(c=o.next()).done;)_+=I(c=c.value,u,i,f=b+O(c,S++),s);else if("object"===f){if("function"==typeof o.then)return I(A(o),u,i,c,s);throw u=String(o),Error("Objects are not valid as a React child (found: "+("[object Object]"===u?"object with keys {"+Object.keys(o).join(", ")+"}":u)+"). If you meant to render a collection of children, use an array instead.")}return _}function P(t,n,o){if(null==t)return t;var u=[],i=0;return I(t,u,"","",function(t){return n.call(o,t,i++)}),u}function U(t){if(-1===t._status){var n=t._result;(n=n()).then(function(n){0!==t._status&&-1!==t._status||(t._status=1,t._result=n)},function(n){0!==t._status&&-1!==t._status||(t._status=2,t._result=n)}),-1===t._status&&(t._status=0,t._result=n)}if(1===t._status)return t._result.default;throw t._result}var N="function"==typeof reportError?reportError:function(t){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof t&&null!==t&&"string"==typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function M(){}e.Children={map:P,forEach:function(t,n,o){P(t,function(){n.apply(this,arguments)},o)},count:function(t){var n=0;return P(t,function(){n++}),n},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!$(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=S,e.Fragment=o,e.Profiler=i,e.PureComponent=w,e.StrictMode=u,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,e.__COMPILER_RUNTIME={__proto__:null,c:function(t){return H.H.useMemoCache(t)}},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,n,o){if(null==t)throw Error("The argument must be a React element, but you passed "+t+".");var u=v({},t.props),i=t.key;if(null!=n)for(c in void 0!==n.ref&&void 0,void 0!==n.key&&(i=""+n.key),n)!k.call(n,c)||"key"===c||"__self"===c||"__source"===c||"ref"===c&&void 0===n.ref||(u[c]=n[c]);var c=arguments.length-2;if(1===c)u.children=o;else if(1<c){for(var s=Array(c),f=0;f<c;f++)s[f]=arguments[f+2];u.children=s}return C(t.type,i,void 0,0,0,u)},e.createContext=function(t){return(t={$$typeof:s,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:c,_context:t},t},e.createElement=function(t,n,o){var u,i={},c=null;if(null!=n)for(u in void 0!==n.key&&(c=""+n.key),n)k.call(n,u)&&"key"!==u&&"__self"!==u&&"__source"!==u&&(i[u]=n[u]);var s=arguments.length-2;if(1===s)i.children=o;else if(1<s){for(var f=Array(s),l=0;l<s;l++)f[l]=arguments[l+2];i.children=f}if(t&&t.defaultProps)for(u in s=t.defaultProps)void 0===i[u]&&(i[u]=s[u]);return C(t,c,void 0,0,0,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=$,e.lazy=function(t){return{$$typeof:y,_payload:{_status:-1,_result:t},_init:U}},e.memo=function(t,n){return{$$typeof:p,type:t,compare:void 0===n?null:n}},e.startTransition=function(t){var n=H.T,o={};H.T=o;try{var u=t(),i=H.S;null!==i&&i(o,u),"object"==typeof u&&null!==u&&"function"==typeof u.then&&u.then(M,N)}catch(t){N(t)}finally{H.T=n}},e.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},e.use=function(t){return H.H.use(t)},e.useActionState=function(t,n,o){return H.H.useActionState(t,n,o)},e.useCallback=function(t,n){return H.H.useCallback(t,n)},e.useContext=function(t){return H.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,n){return H.H.useDeferredValue(t,n)},e.useEffect=function(t,n,o){var u=H.H;if("function"==typeof o)throw Error("useEffect CRUD overload is not enabled in this build of React.");return u.useEffect(t,n)},e.useId=function(){return H.H.useId()},e.useImperativeHandle=function(t,n,o){return H.H.useImperativeHandle(t,n,o)},e.useInsertionEffect=function(t,n){return H.H.useInsertionEffect(t,n)},e.useLayoutEffect=function(t,n){return H.H.useLayoutEffect(t,n)},e.useMemo=function(t,n){return H.H.useMemo(t,n)},e.useOptimistic=function(t,n){return H.H.useOptimistic(t,n)},e.useReducer=function(t,n,o){return H.H.useReducer(t,n,o)},e.useRef=function(t){return H.H.useRef(t)},e.useState=function(t){return H.H.useState(t)},e.useSyncExternalStore=function(t,n,o){return H.H.useSyncExternalStore(t,n,o)},e.useTransition=function(){return H.H.useTransition()},e.version="19.1.0"},37,[]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function _(){if('undefined'!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&'function'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(_){console.error(_)}})(),m.exports=r(d[0])},38,[39]);
__d(function(g,r,_i,_a,m,e,d){
/**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=r(d[0]);function i(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)i+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(i(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function f(t,i,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==o?null:""+o,children:t,containerInfo:i,implementation:n}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(t,i){return"font"===t?"":"string"==typeof i?"use-credentials"===i?i:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,e.createPortal=function(t,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(i(299));return f(t,n,null,o)},e.flushSync=function(t){var i=c.T,n=o.p;try{if(c.T=null,o.p=2,t)return t()}finally{c.T=i,o.p=n,o.d.f()}},e.preconnect=function(t,i){"string"==typeof t&&(i?i="string"==typeof(i=i.crossOrigin)?"use-credentials"===i?i:"":void 0:i=null,o.d.C(t,i))},e.prefetchDNS=function(t){"string"==typeof t&&o.d.D(t)},e.preinit=function(t,i){if("string"==typeof t&&i&&"string"==typeof i.as){var n=i.as,s=y(n,i.crossOrigin),f="string"==typeof i.integrity?i.integrity:void 0,c="string"==typeof i.fetchPriority?i.fetchPriority:void 0;"style"===n?o.d.S(t,"string"==typeof i.precedence?i.precedence:void 0,{crossOrigin:s,integrity:f,fetchPriority:c}):"script"===n&&o.d.X(t,{crossOrigin:s,integrity:f,fetchPriority:c,nonce:"string"==typeof i.nonce?i.nonce:void 0})}},e.preinitModule=function(t,i){if("string"==typeof t)if("object"==typeof i&&null!==i){if(null==i.as||"script"===i.as){var n=y(i.as,i.crossOrigin);o.d.M(t,{crossOrigin:n,integrity:"string"==typeof i.integrity?i.integrity:void 0,nonce:"string"==typeof i.nonce?i.nonce:void 0})}}else null==i&&o.d.M(t)},e.preload=function(t,i){if("string"==typeof t&&"object"==typeof i&&null!==i&&"string"==typeof i.as){var n=i.as,s=y(n,i.crossOrigin);o.d.L(t,n,{crossOrigin:s,integrity:"string"==typeof i.integrity?i.integrity:void 0,nonce:"string"==typeof i.nonce?i.nonce:void 0,type:"string"==typeof i.type?i.type:void 0,fetchPriority:"string"==typeof i.fetchPriority?i.fetchPriority:void 0,referrerPolicy:"string"==typeof i.referrerPolicy?i.referrerPolicy:void 0,imageSrcSet:"string"==typeof i.imageSrcSet?i.imageSrcSet:void 0,imageSizes:"string"==typeof i.imageSizes?i.imageSizes:void 0,media:"string"==typeof i.media?i.media:void 0})}},e.preloadModule=function(t,i){if("string"==typeof t)if(i){var n=y(i.as,i.crossOrigin);o.d.m(t,{as:"string"==typeof i.as&&"script"!==i.as?i.as:void 0,crossOrigin:n,integrity:"string"==typeof i.integrity?i.integrity:void 0})}else o.d.m(t)},e.requestFormReset=function(t){o.d.r(t)},e.unstable_batchedUpdates=function(t,i){return t(i)},e.useFormState=function(t,i,n){return c.H.useFormState(t,i,n)},e.useFormStatus=function(){return c.H.useHostTransitionStatus()},e.version="19.1.0"},39,[36]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.createSheet=function(e,f){void 0===f&&(f=s);var h;if(t.default){var b=null!=e?e.getRootNode():document;if(0===l.length)h=(0,u.default)((0,n.default)(f)),c.forEach(e=>{h.insert(e,0)}),o.set(b,l.length),l.push(h);else{var p=o.get(b);if(null==p){var v=l[0],k=null!=v?v.getTextContent():'';h=(0,u.default)((0,n.default)(f,b,k)),o.set(b,l.length),l.push(h)}else h=l[p]}}else 0===l.length?(h=(0,u.default)((0,n.default)(f)),c.forEach(e=>{h.insert(e,0)}),l.push(h)):h=l[0];return{getTextContent:()=>h.getTextContent(),id:f,insert(e,t){l.forEach(n=>{n.insert(e,t)})}}};var t=e(r(d[0])),n=e(r(d[1])),u=e(r(d[2])),s='react-native-stylesheet',o=new WeakMap,l=[],c=['html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}','body{margin:0;}','button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}','input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}']},40,[41,42,43]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var n=!('undefined'==typeof window||!window.document||!window.document.createElement)},41,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e};function u(e,t,u){if(n.default){var l=null!=t?t:document,o=l.getElementById(e);if(null==o)if((o=document.createElement('style')).setAttribute('id',e),'string'==typeof u&&o.appendChild(document.createTextNode(u)),l instanceof ShadowRoot)l.insertBefore(o,l.firstChild);else{var f=l.head;f&&f.insertBefore(o,f.firstChild)}return o.sheet}return null}},42,[41]);
__d(function(g,r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}});var t=Array.prototype.slice;function e(e){var u,a={},c={};null!=e&&t.call(e.cssRules).forEach((t,e)=>{var n=t.cssText;if(n.indexOf('stylesheet-group')>-1)u=l(t),a[u]={start:e,rules:[n]};else{var s=i(n);null!=s&&(c[s]=!0,a[u].rules.push(n))}});function f(t,e,n){var u=s(a),l=u.indexOf(e)+1,i=u[l],c=null!=i&&null!=a[i].start?a[i].start:t.cssRules.length,f=o(t,n,c);if(f){null==a[e].start&&(a[e].start=c);for(var v=l;v<u.length;v+=1){var p=u[v],h=a[p].start||0;a[p].start=h+1}}return f}var v={getTextContent:()=>s(a).map(t=>{var e=a[t].rules,n=e.shift();return e.sort(),e.unshift(n),e.join('\n')}).join('\n'),insert(t,u){var l=Number(u);if(null==a[l]){var s=n(l);a[l]={start:null,rules:[s]},null!=e&&f(e,l,s)}var o=i(t);null!=o&&null==c[o]&&(c[o]=!0,a[l].rules.push(t),null!=e&&(f(e,l,t)||a[l].rules.pop()))}};return v}function n(t){return"[stylesheet-group=\""+t+"\"]{}"}var u=/["']/g;function l(t){return Number(t.selectorText.split(u)[1])}function s(t){return Object.keys(t).map(Number).sort((t,e)=>t>e?1:-1)}var a=/\s*([,])\s*/g;function i(t){var e=t.split('{')[0].trim();return''!==e?e.replace(a,'$1'):null}function o(t,e,n){try{return t.insertRule(e,n),!0}catch(t){return!1}}},43,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var e=t(r(d[0])),n=t(r(d[1])),i=r(d[2]),o=r(d[3]),l=r(d[4]),u=r(d[5]),c=r(d[6]),f=(r(d[7]),t(r(d[8]))),s=["writingDirection"],_=new WeakMap,v=(0,o.createSheet)(),O={shadow:!0,textShadow:!0};function w(t,i){void 0===i&&(i={});var o=i,f=o.writingDirection,v=(0,n.default)(o,s),w='rtl'===f;return c.styleq.factory({transform(t){var n=_.get(t);return null!=n?(0,l.localizeStyle)(n,w):(0,u.preprocess)(t,(0,e.default)((0,e.default)({},O),v))}})(t)}function h(t){t.forEach(t=>{var e=t[0],n=t[1];null!=v&&e.forEach(t=>{v.insert(t,n)})})}function p(t,e){var n=(0,i.classic)(t,e),o=n[0];return h(n[1]),o}var b={position:'absolute',left:0,right:0,top:0,bottom:0},y=A({x:(0,e.default)({},b)}).x;function A(t){return Object.keys(t).forEach(e=>{var n,o,l,c,f=t[e];null!=f&&!0!==f.$$css&&(e.indexOf('$raw')>-1?n=p(f,e.split('$raw')[0]):(o=f,l=(0,i.atomic)((0,u.preprocess)(o,O)),c=l[0],h(l[1]),n=c),_.set(f,n))}),t}function E(t,e){void 0===e&&(e={});var n='rtl'===e.writingDirection,o=w(t,e);return Array.isArray(o)&&null!=o[1]&&(o[1]=(0,i.inline)(o[1],n)),o}E.absoluteFill=y,E.absoluteFillObject=b,E.create=A,E.compose=function(t,e){return[t,e]},E.flatten=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=e.flat(1/0),o={},l=0;l<i.length;l++){var u=i[l];null!=u&&'object'==typeof u&&Object.assign(o,u)}return o},E.getSheet=function(){return{id:v.id,textContent:v.getTextContent()}},E.hairlineWidth=1,f.default&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=E.flatten);var S=E},44,[21,45,46,40,86,88,90,91,41]);
__d(function(g,_r,i,a,m,_e,d){"use strict";function e(e,n){if(null==e)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==n.indexOf(t))continue;r[t]=e[t]}return r}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}})},45,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function n(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.atomic=function(n){var e={$$css:!0},t=[];function i(n,e,i){var o,l=J(i,e),s=e+l,u=p.get(s);if(null!=u)o=u[0],t.push(u[1]);else{o=T('r',n,n!==e?s:l);var f=v[n]||h,c=[K(o,e,i),f];t.push(c),p.set(s,[o,c])}return o}return Object.keys(n).sort().forEach(t=>{var o=n[t];if(null!=o){var l;if(P.indexOf(t)>-1){var s=i(t,t,'left'),u=i(t,t,'right');'start'===o?l=[s,u]:'end'===o&&(l=[u,s])}var f=N[t];if(null!=f){var p=i(t,f,o),c=i(t,_[f],o);l=[p,c]}if('transitionProperty'===t){for(var b=Array.isArray(o)?o:[o],h=[],v=0;v<b.length;v++){var y=b[v];'string'==typeof y&&null!=N[y]&&h.push(v)}if(h.length>0){var S=[...b],E=[...b];h.forEach(n=>{var e=S[n];if('string'==typeof e){var o=N[e],s=_[o];S[n]=o,E[n]=s;var u=i(t,t,S),f=i(t,t,E);l=[u,f]}})}}null==l?l=i(t,t,o):e.$$css$localize=!0,e[t]=l}}),[e,t]},_e.classic=function(n,i){var o,l={$$css:!0},s=[],u=n.animationKeyframes,p=(0,t.default)(n,f),c=T('css',i,JSON.stringify(n)),h="."+c;if(null!=u){var v=V(u),y=v[0],S=v[1];o=y.join(','),s.push(...S)}var E=M((0,e.default)((0,e.default)({},p),{},{animationName:o}));return s.push(""+h+E),l[c]=c,[l,[[s,b]]]},_e.inline=function(n,e){var t=n||c,o={},l={},s=function(){var n=t[u],i=u,s=n;if(!Object.prototype.hasOwnProperty.call(t,u)||null==n)return"continue";P.indexOf(u)>-1&&('start'===n?s=e?'right':'left':'end'===n&&(s=e?'left':'right'));var f=N[u];if(null!=f&&(i=e?_[f]:f),'transitionProperty'===u){var p=Array.isArray(n)?n:[n];p.forEach((n,t)=>{if('string'==typeof n){var i=N[n];null!=i&&(p[t]=e?_[i]:i,s=p.join(' '))}})}o[i]||(l[i]=s),i===u&&(o[i]=!0)};for(var u in t)s();return(0,i.default)(l,!0)},_e.stringifyValueWithProperty=J;var e=n(r(d[0])),t=n(r(d[1])),i=n(r(d[2])),o=n(r(d[3])),l=n(r(d[4])),s=n(r(d[5])),u=n(r(d[6])),f=["animationKeyframes"],p=new Map,c={},b=1,h=3,v={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},y='borderTopLeftRadius',S='borderTopRightRadius',E='borderBottomLeftRadius',I='borderBottomRightRadius',k='borderLeftColor',R='borderLeftStyle',B='borderLeftWidth',W='borderRightColor',j='borderRightStyle',C='borderRightWidth',O='right',w='marginLeft',A='marginRight',x='paddingLeft',L='paddingRight',$='left',_={[y]:S,[S]:y,[E]:I,[I]:E,[k]:W,[R]:j,[B]:C,[W]:k,[j]:R,[C]:B,[$]:O,[w]:A,[A]:w,[x]:L,[L]:x,[O]:$},N={borderStartStartRadius:y,borderStartEndRadius:S,borderEndStartRadius:E,borderEndEndRadius:I,borderInlineStartColor:k,borderInlineStartStyle:R,borderInlineStartWidth:B,borderInlineEndColor:W,borderInlineEndStyle:j,borderInlineEndWidth:C,insetInlineEnd:O,insetInlineStart:$,marginInlineStart:w,marginInlineEnd:A,paddingInlineStart:x,paddingInlineEnd:L},P=['clear','float','textAlign'];function J(n,e){var t=(0,s.default)(n,e);return'string'!=typeof t?JSON.stringify(t||''):t}function K(n,e,t){var i=[],o="."+n;switch(e){case'animationKeyframes':var l=V(t),s=l[0],u=l[1],f=M({animationName:s.join(',')});i.push(""+o+f,...u);break;case'placeholderTextColor':var p=M({color:t,opacity:1});i.push(o+"::-webkit-input-placeholder"+p,o+"::-moz-placeholder"+p,o+":-ms-input-placeholder"+p,o+"::placeholder"+p);break;case'pointerEvents':var c=t;if('auto'===t)c='auto!important';else if('none'===t){c='none!important';var b=M({pointerEvents:'none'});i.push(o+">* "+b)}else if('box-none'===t){c='none!important';var h=M({pointerEvents:'auto'});i.push(o+">* "+h)}else if('box-only'===t){c='auto!important';var v=M({pointerEvents:'none'});i.push(o+">* "+v)}var y=M({pointerEvents:c});i.push(""+o+y);break;case'scrollbarWidth':'none'===t&&i.push(o+"::-webkit-scrollbar{display:none}");var S=M({scrollbarWidth:t});i.push(""+o+S);break;default:var E=M({[e]:t});i.push(""+o+E)}return i}function M(n){var e=(0,u.default)((0,i.default)(n));return"{"+Object.keys(e).map(n=>{var t=e[n],i=(0,l.default)(n);return Array.isArray(t)?t.map(n=>i+":"+n).join(';'):i+":"+t}).sort().join(';')+";}"}function T(n,e,t){return n+"-"+(0,o.default)(e+t)}function z(n){var e=T('r','animation',JSON.stringify(n)),t='{'+Object.keys(n).map(e=>""+e+M(n[e])).join('')+'}',i=['-webkit-',''].map(n=>"@"+n+"keyframes "+e+t);return[e,i]}function V(n){if('number'==typeof n)throw new Error("Invalid CSS keyframes type: "+typeof n);var e=[],t=[];return(Array.isArray(n)?n:[n]).forEach(n=>{if('string'==typeof n)e.push(n);else{var i=z(n),o=i[0],l=i[1];e.push(o),t.push(...l)}}),[e,t]}},46,[21,45,47,54,55,48,56]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function o(o){return o&&o.__esModule?o:{default:o}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var e=o(r(d[0])),t=o(r(d[1])),i={},n=!t.default||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports('text-decoration-line','none')||window.CSS.supports('-webkit-text-decoration-line','none')),l='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',b={borderColor:['borderTopColor','borderRightColor','borderBottomColor','borderLeftColor'],borderBlockColor:['borderTopColor','borderBottomColor'],borderInlineColor:['borderRightColor','borderLeftColor'],borderRadius:['borderTopLeftRadius','borderTopRightRadius','borderBottomRightRadius','borderBottomLeftRadius'],borderStyle:['borderTopStyle','borderRightStyle','borderBottomStyle','borderLeftStyle'],borderBlockStyle:['borderTopStyle','borderBottomStyle'],borderInlineStyle:['borderRightStyle','borderLeftStyle'],borderWidth:['borderTopWidth','borderRightWidth','borderBottomWidth','borderLeftWidth'],borderBlockWidth:['borderTopWidth','borderBottomWidth'],borderInlineWidth:['borderRightWidth','borderLeftWidth'],insetBlock:['top','bottom'],insetInline:['left','right'],marginBlock:['marginTop','marginBottom'],marginInline:['marginRight','marginLeft'],paddingBlock:['paddingTop','paddingBottom'],paddingInline:['paddingRight','paddingLeft'],overflow:['overflowX','overflowY'],overscrollBehavior:['overscrollBehaviorX','overscrollBehaviorY'],borderBlockStartColor:['borderTopColor'],borderBlockStartStyle:['borderTopStyle'],borderBlockStartWidth:['borderTopWidth'],borderBlockEndColor:['borderBottomColor'],borderBlockEndStyle:['borderBottomStyle'],borderBlockEndWidth:['borderBottomWidth'],borderEndStartRadius:['borderBottomLeftRadius'],borderEndEndRadius:['borderBottomRightRadius'],borderStartStartRadius:['borderTopLeftRadius'],borderStartEndRadius:['borderTopRightRadius'],insetBlockEnd:['bottom'],insetBlockStart:['top'],marginBlockStart:['marginTop'],marginBlockEnd:['marginBottom'],paddingBlockStart:['paddingTop'],paddingBlockEnd:['paddingBottom']},p=(o,t)=>{if(!o)return i;var p={},s=function(){var i=o[f];if(null==i)return"continue";if('backgroundClip'===f)'text'===i&&(p.backgroundClip=i,p.WebkitBackgroundClip=i);else if('flex'===f)-1===i?(p.flexGrow=0,p.flexShrink=1,p.flexBasis='auto'):p.flex=i;else if('font'===f)p[f]=i.replace('System',l);else if('fontFamily'===f)if(i.indexOf('System')>-1){var s=i.split(/,\s*/);s[s.indexOf('System')]=l,p[f]=s.join(',')}else p[f]='monospace'===i?"monospace,monospace":i;else if('textDecorationLine'===f)n?p.textDecorationLine=i:p.textDecoration=i;else if('writingDirection'===f)p.direction=i;else{var c=(0,e.default)(o[f],f),u=b[f];t&&'inset'===f?(null==o.insetInline&&(p.left=c,p.right=c),null==o.insetBlock&&(p.top=c,p.bottom=c)):t&&'margin'===f?(null==o.marginInline&&(p.marginLeft=c,p.marginRight=c),null==o.marginBlock&&(p.marginTop=c,p.marginBottom=c)):t&&'padding'===f?(null==o.paddingInline&&(p.paddingLeft=c,p.paddingRight=c),null==o.paddingBlock&&(p.paddingTop=c,p.paddingBottom=c)):u?u.forEach((e,t)=>{null==o[e]&&(p[e]=c)}):p[f]=c}};for(var f in o)s();return p}},47,[48,41]);
__d(function(g,r,i,a,m,_e,d){"use strict";function o(o){return o&&o.__esModule?o:{default:o}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e=o(r(d[0])),t=o(r(d[1])),l={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function u(o,u){var n=o;return null!=u&&e.default[u]||'number'!=typeof o?null!=u&&l[u]&&(n=(0,t.default)(o)):n=o+"px",n}},48,[49,50]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},o=['ms','Moz','O','Webkit'],l=(t,o)=>t+o.charAt(0).toUpperCase()+o.substring(1);Object.keys(t).forEach(n=>{o.forEach(o=>{t[l(o,n)]=t[n]})});var n=t},49,[]);
__d(function(_g,_r,i,_a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(_r(d[0])),u=e(_r(d[1])),n=function(e,n){if(void 0===n&&(n=1),null!=e){if('string'==typeof e&&(0,t.default)(e))return e;var r=(0,u.default)(e);if(null!=r)return"rgba("+(r>>16&255)+","+(r>>8&255)+","+(255&r)+","+((r>>24&255)/255*n).toFixed(2)+")"}}},50,[51,52]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=t=>'currentcolor'===t||'currentColor'===t||'inherit'===t||0===t.indexOf('var(')},51,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e},n=e=>{if(null==e)return e;var t=(0,u.default)(e);return null!=t?t=(t<<24|t>>>8)>>>0:void 0}},52,[53]);
__d(function(_g,_r,i,a,m,e,d){'use strict';function r(r,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?r+6*(n-r)*t:t<.5?n:t<.6666666666666666?r+(n-r)*(.6666666666666666-t)*6:r}function n(n,t,s){const u=s<.5?s*(1+t):s+t-s*t,c=2*s-u,l=r(c,u,n+.3333333333333333),o=r(c,u,n),g=r(c,u,n-.3333333333333333);return Math.round(255*l)<<24|Math.round(255*o)<<16|Math.round(255*g)<<8}function t(n,t,s){if(t+s>=1){const r=Math.round(255*t/(t+s));return r<<24|r<<16|r<<8}const u=r(0,1,n+.3333333333333333)*(1-t-s)+t,c=r(0,1,n)*(1-t-s)+t,l=r(0,1,n-.3333333333333333)*(1-t-s)+t;return Math.round(255*u)<<24|Math.round(255*c)<<16|Math.round(255*l)<<8}const s='[-+]?\\d*\\.?\\d+',u="[-+]?\\d*\\.?\\d+%";function c(...r){return'\\(\\s*('+r.join(')\\s*,?\\s*(')+')\\s*\\)'}function l(...r){return'\\(\\s*('+r.slice(0,r.length-1).join(')\\s*,?\\s*(')+')\\s*/\\s*('+r[r.length-1]+')\\s*\\)'}function o(...r){return'\\(\\s*('+r.join(')\\s*,\\s*(')+')\\s*\\)'}let g;function h(){return void 0===g&&(g={rgb:new RegExp('rgb'+c(s,s,s)),rgba:new RegExp('rgba('+o(s,s,s,s)+'|'+l(s,s,s,s)+')'),hsl:new RegExp('hsl'+c(s,u,u)),hsla:new RegExp('hsla('+o(s,u,u,s)+'|'+l(s,u,u,s)+')'),hwb:new RegExp('hwb'+c(s,u,u)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),g}function b(r){const n=parseInt(r,10);return n<0?0:n>255?255:n}function p(r){return(parseFloat(r)%360+360)%360/360}function f(r){const n=parseFloat(r);return n<0?0:n>1?255:Math.round(255*n)}function y(r){const n=parseFloat(r);return n<0?0:n>100?1:n/100}function k(r){switch(r){case'transparent':return 0;case'aliceblue':return 4042850303;case'antiquewhite':return 4209760255;case'aqua':case'cyan':return 16777215;case'aquamarine':return 2147472639;case'azure':return 4043309055;case'beige':return 4126530815;case'bisque':return 4293182719;case'black':return 255;case'blanchedalmond':return 4293643775;case'blue':return 65535;case'blueviolet':return 2318131967;case'brown':return 2771004159;case'burlywood':return 3736635391;case'burntsienna':return 3934150143;case'cadetblue':return 1604231423;case'chartreuse':return 2147418367;case'chocolate':return 3530104575;case'coral':return 4286533887;case'cornflowerblue':return 1687547391;case'cornsilk':return 4294499583;case'crimson':return 3692313855;case'darkblue':return 35839;case'darkcyan':return 9145343;case'darkgoldenrod':return 3095792639;case'darkgray':case'darkgrey':return 2846468607;case'darkgreen':return 6553855;case'darkkhaki':return 3182914559;case'darkmagenta':return 2332068863;case'darkolivegreen':return 1433087999;case'darkorange':return 4287365375;case'darkorchid':return 2570243327;case'darkred':return 2332033279;case'darksalmon':return 3918953215;case'darkseagreen':return 2411499519;case'darkslateblue':return 1211993087;case'darkslategray':case'darkslategrey':return 793726975;case'darkturquoise':return 13554175;case'darkviolet':return 2483082239;case'deeppink':return 4279538687;case'deepskyblue':return 12582911;case'dimgray':case'dimgrey':return 1768516095;case'dodgerblue':return 512819199;case'firebrick':return 2988581631;case'floralwhite':return 4294635775;case'forestgreen':return 579543807;case'fuchsia':case'magenta':return 4278255615;case'gainsboro':return 3705462015;case'ghostwhite':return 4177068031;case'gold':return 4292280575;case'goldenrod':return 3668254975;case'gray':case'grey':return 2155905279;case'green':return 8388863;case'greenyellow':return 2919182335;case'honeydew':return 4043305215;case'hotpink':return 4285117695;case'indianred':return 3445382399;case'indigo':return 1258324735;case'ivory':return 4294963455;case'khaki':return 4041641215;case'lavender':return 3873897215;case'lavenderblush':return 4293981695;case'lawngreen':return 2096890111;case'lemonchiffon':return 4294626815;case'lightblue':return 2916673279;case'lightcoral':return 4034953471;case'lightcyan':return 3774873599;case'lightgoldenrodyellow':return 4210742015;case'lightgray':case'lightgrey':return 3553874943;case'lightgreen':return 2431553791;case'lightpink':return 4290167295;case'lightsalmon':return 4288707327;case'lightseagreen':return 548580095;case'lightskyblue':return 2278488831;case'lightslategray':case'lightslategrey':return 2005441023;case'lightsteelblue':return 2965692159;case'lightyellow':return 4294959359;case'lime':return 16711935;case'limegreen':return 852308735;case'linen':return 4210091775;case'maroon':return 2147483903;case'mediumaquamarine':return 1724754687;case'mediumblue':return 52735;case'mediumorchid':return 3126187007;case'mediumpurple':return 2473647103;case'mediumseagreen':return 1018393087;case'mediumslateblue':return 2070474495;case'mediumspringgreen':return 16423679;case'mediumturquoise':return 1221709055;case'mediumvioletred':return 3340076543;case'midnightblue':return 421097727;case'mintcream':return 4127193855;case'mistyrose':return 4293190143;case'moccasin':return 4293178879;case'navajowhite':return 4292783615;case'navy':return 33023;case'oldlace':return 4260751103;case'olive':return 2155872511;case'olivedrab':return 1804477439;case'orange':return 4289003775;case'orangered':return 4282712319;case'orchid':return 3664828159;case'palegoldenrod':return 4008225535;case'palegreen':return 2566625535;case'paleturquoise':return 2951671551;case'palevioletred':return 3681588223;case'papayawhip':return 4293907967;case'peachpuff':return 4292524543;case'peru':return 3448061951;case'pink':return 4290825215;case'plum':return 3718307327;case'powderblue':return 2967529215;case'purple':return 2147516671;case'rebeccapurple':return 1714657791;case'red':return 4278190335;case'rosybrown':return 3163525119;case'royalblue':return 1097458175;case'saddlebrown':return 2336560127;case'salmon':return 4202722047;case'sandybrown':return 4104413439;case'seagreen':return 780883967;case'seashell':return 4294307583;case'sienna':return 2689740287;case'silver':return 3233857791;case'skyblue':return 2278484991;case'slateblue':return 1784335871;case'slategray':case'slategrey':return 1887473919;case'snow':return 4294638335;case'springgreen':return 16744447;case'steelblue':return 1182971135;case'tan':return 3535047935;case'teal':return 8421631;case'thistle':return 3636451583;case'tomato':return 4284696575;case'turquoise':return 1088475391;case'violet':return 4001558271;case'wheat':return 4125012991;case'white':return 4294967295;case'whitesmoke':return 4126537215;case'yellow':return 4294902015;case'yellowgreen':return 2597139199}return null}m.exports=function(r){if('number'==typeof r)return r>>>0===r&&r>=0&&r<=4294967295?r:null;if('string'!=typeof r)return null;const s=h();let u;if(u=s.hex6.exec(r))return parseInt(u[1]+'ff',16)>>>0;const c=k(r);return null!=c?c:(u=s.rgb.exec(r))?(b(u[1])<<24|b(u[2])<<16|b(u[3])<<8|255)>>>0:(u=s.rgba.exec(r))?void 0!==u[6]?(b(u[6])<<24|b(u[7])<<16|b(u[8])<<8|f(u[9]))>>>0:(b(u[2])<<24|b(u[3])<<16|b(u[4])<<8|f(u[5]))>>>0:(u=s.hex3.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+'ff',16)>>>0:(u=s.hex8.exec(r))?parseInt(u[1],16)>>>0:(u=s.hex4.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+u[4]+u[4],16)>>>0:(u=s.hsl.exec(r))?(255|n(p(u[1]),y(u[2]),y(u[3])))>>>0:(u=s.hsla.exec(r))?void 0!==u[6]?(n(p(u[6]),y(u[7]),y(u[8]))|f(u[9]))>>>0:(n(p(u[2]),y(u[3]),y(u[4]))|f(u[5]))>>>0:(u=s.hwb.exec(r))?(255|t(p(u[1]),y(u[2]),y(u[3])))>>>0:null}},53,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t,c){for(var o,n=t.length,u=c^n,h=0;n>=4;)o=1540483477*(65535&(o=255&t.charCodeAt(h)|(255&t.charCodeAt(++h))<<8|(255&t.charCodeAt(++h))<<16|(255&t.charCodeAt(++h))<<24))+((1540483477*(o>>>16)&65535)<<16),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),n-=4,++h;switch(n){case 3:u^=(255&t.charCodeAt(h+2))<<16;case 2:u^=(255&t.charCodeAt(h+1))<<8;case 1:u=1540483477*(65535&(u^=255&t.charCodeAt(h)))+((1540483477*(u>>>16)&65535)<<16)}return u=1540483477*(65535&(u^=u>>>13))+((1540483477*(u>>>16)&65535)<<16),(u^=u>>>15)>>>0}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return c}});var c=c=>t(c,1).toString(36)},54,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return c}});var t=/[A-Z]/g,n=/^ms-/,u={};function o(t){return'-'+t.toLowerCase()}var c=function(c){if(c in u)return u[c];var f=c.replace(t,o);return u[c]=n.test(f)?'-'+f:f}},55,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1])),n=(0,t.default)(u.default)},56,[57,63]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){var i=l.prefixMap,o=l.plugins;return function l(s){for(var v in s){var c=s[v];if((0,n.default)(c))s[v]=l(c);else if(Array.isArray(c)){for(var _=[],p=0,y=c.length;p<y;++p){var M=(0,u.default)(o,v,c[p],s,i);(0,f.default)(_,M||c[p])}_.length>0&&(s[v]=_)}else{var h=(0,u.default)(o,v,c,s,i);h&&(s[v]=h),s=(0,t.default)(i,v,s)}}return s}};var t=l(r(d[0])),u=l(r(d[1])),f=l(r(d[2])),n=l(r(d[3]));function l(t){return t&&t.__esModule?t:{default:t}}},57,[58,60,61,62]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u,n){var l=t[u];if(l&&n.hasOwnProperty(u))for(var o=(0,f.default)(u),_=0;_<l.length;++_){var i=l[_]+o;n[i]||(n[i]=n[u])}return n};var t,u=r(d[0]),f=(t=u)&&t.__esModule?t:{default:t}},58,[59]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},59,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,u,f,i){for(var o=0,c=t.length;o<c;++o){var l=t[o](n,u,f,i);if(l)return l}}},60,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function n(n,t){-1===n.indexOf(t)&&n.push(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,f){if(Array.isArray(f))for(var i=0,u=f.length;i<u;++i)n(t,f[i]);else n(t,f)}},61,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t instanceof Object&&!Array.isArray(t)}},62,[]);
__d(function(g,r,i,a,_m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return k}});var t=e(r(d[0])),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),m=e(r(d[5])),u=['Webkit'],c=['Webkit','ms'],k={plugins:[t.default,o.default,n.default,l.default,s.default,m.default],prefixMap:{appearance:['Webkit','Moz','ms'],userSelect:['Webkit','Moz'],textEmphasisPosition:c,textEmphasis:c,textEmphasisStyle:c,textEmphasisColor:c,boxDecorationBreak:c,clipPath:u,maskImage:c,maskMode:c,maskRepeat:c,maskPosition:c,maskClip:c,maskOrigin:c,maskSize:c,maskComposite:c,mask:c,maskBorderSource:c,maskBorderMode:c,maskBorderSlice:c,maskBorderWidth:c,maskBorderOutset:c,maskBorderRepeat:c,maskBorder:c,maskType:c,textDecorationStyle:u,textDecorationSkip:u,textDecorationLine:u,textDecorationColor:u,filter:u,breakAfter:u,breakBefore:u,breakInside:u,columnCount:u,columnFill:u,columnGap:u,columnRule:u,columnRuleColor:u,columnRuleStyle:u,columnRuleWidth:u,columns:u,columnSpan:u,columnWidth:u,backdropFilter:u,hyphens:u,flowInto:u,flowFrom:u,regionFragment:u,textOrientation:u,tabSize:['Moz'],fontKerning:u,textSizeAdjust:u}}},63,[64,79,81,82,83,84]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,u){if('string'==typeof u&&!(0,t.isPrefixedValue)(u)&&-1!==u.indexOf('cross-fade('))return n.map(function(t){return u.replace(f,t+'cross-fade(')})};var t=r(d[0]),f=/cross-fade\(/g,n=['-webkit-','']},64,[65]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"assignStyle",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(_e,"camelCaseProperty",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(_e,"cssifyDeclaration",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(_e,"cssifyObject",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(_e,"hyphenateProperty",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"isPrefixedProperty",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(_e,"isPrefixedValue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(_e,"isUnitlessProperty",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(_e,"normalizeProperty",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(_e,"resolveArrayValue",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(_e,"unprefixProperty",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(_e,"unprefixValue",{enumerable:!0,get:function(){return s.default}});var t=e(r(d[0])),n=e(r(d[1])),u=e(r(d[2])),f=e(r(d[3])),o=e(r(d[4])),l=e(r(d[5])),c=e(r(d[6])),b=e(r(d[7])),y=e(r(d[8])),p=e(r(d[9])),P=e(r(d[10])),s=e(r(d[11]))},65,[66,67,68,71,69,72,73,74,75,77,76,78]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t){return f(t)||u(t)||i(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function u(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return c(t)}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,i=new Array(n);o<n;o++)i[o]=t[o];return i}function y(t){return t.filter(function(n,o){return t.lastIndexOf(n)===o})}function l(o){for(var i=0,u=arguments.length<=1?0:arguments.length-1;i<u;++i){var f=i+1<1||arguments.length<=i+1?void 0:arguments[i+1];for(var c in f){var b=f[c],s=o[c];if(s&&b){if(Array.isArray(s)){o[c]=y(s.concat(b));continue}if(Array.isArray(b)){o[c]=y([s].concat(n(b)));continue}if('object'===t(b)){o[c]=l({},s,b);continue}}o[c]=b}}return o}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return l}})},66,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=/-([a-z])/g,n=/^Ms/g,u={};function c(t){return t[1].toUpperCase()}function o(o){if(u.hasOwnProperty(o))return u[o];var f=o.replace(t,c).replace(n,'ms');return u[o]=f,f}},67,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e,t){return(0,u.default)(e)+':'+t}},68,[69]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e){return(0,u.default)(e)}},69,[70]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return c}});var t=/[A-Z]/g,n=/^ms-/,u={};function o(t){return'-'+t.toLowerCase()}var c=function(c){if(u.hasOwnProperty(c))return u[c];var f=c.replace(t,o);return u[c]=n.test(f)?'-'+f:f}},70,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e};function u(e){var t='';for(var u in e){var f=e[u];'string'!=typeof f&&'number'!=typeof f||(t&&(t+=';'),t+=(0,n.default)(u,f))}return t}},71,[68]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/^(Webkit|Moz|O|ms)/;function n(n){return t.test(n)}},72,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/-webkit-|-moz-|-ms-/;function n(n){return'string'==typeof n&&t.test(n)}},73,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}});var e,t=r(d[0]),o=(e=t)&&e.__esModule?e:{default:e},i={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n=['animationIterationCount','boxFlex','boxFlexGroup','boxOrdinalGroup','columnCount','flex','flexGrow','flexPositive','flexShrink','flexNegative','flexOrder','gridColumn','gridColumnEnd','gridColumnStart','gridRow','gridRowEnd','gridRowStart','lineClamp','order'],l=['Webkit','ms','Moz','O'];function u(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}for(var f=0,s=n.length;f<s;++f){var c=n[f];i[c]=!0;for(var p=0,h=l.length;p<h;++p)i[u(l[p],c)]=!0}for(var x in i)i[(0,o.default)(x)]=!0;function b(e){return i.hasOwnProperty(e)}},74,[69]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1]));function n(e){return(0,u.default)((0,t.default)(e))}},75,[67,76]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/^(ms|Webkit|Moz|O)/;function n(n){var u=n.replace(t,'');return u.charAt(0).toLowerCase()+u.slice(1)}},76,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e,t){return t.join(';'+(0,u.default)(e)+':')}},77,[69]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=/(-ms-|-webkit-|-moz-|-o-)/g;function n(n){return'string'==typeof n?n.replace(t,''):n}},78,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){if('string'==typeof u&&!(0,n.default)(u)&&u.indexOf('image-set(')>-1)return f.map(function(t){return u.replace(/image-set\(/g,t+'image-set(')})};var t,u=r(d[0]),n=(t=u)&&t.__esModule?t:{default:t};var f=['-webkit-','']},79,[80]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return'string'==typeof n&&t.test(n)};var t=/-webkit-|-moz-|-ms-/},80,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,n,i){if(Object.prototype.hasOwnProperty.call(t,o))for(var l=t[o],b=0,B=l.length;b<B;++b)i[l[b]]=n};var t={marginBlockStart:['WebkitMarginBefore'],marginBlockEnd:['WebkitMarginAfter'],marginInlineStart:['WebkitMarginStart','MozMarginStart'],marginInlineEnd:['WebkitMarginEnd','MozMarginEnd'],paddingBlockStart:['WebkitPaddingBefore'],paddingBlockEnd:['WebkitPaddingAfter'],paddingInlineStart:['WebkitPaddingStart','MozPaddingStart'],paddingInlineEnd:['WebkitPaddingEnd','MozPaddingEnd'],borderBlockStart:['WebkitBorderBefore'],borderBlockStartColor:['WebkitBorderBeforeColor'],borderBlockStartStyle:['WebkitBorderBeforeStyle'],borderBlockStartWidth:['WebkitBorderBeforeWidth'],borderBlockEnd:['WebkitBorderAfter'],borderBlockEndColor:['WebkitBorderAfterColor'],borderBlockEndStyle:['WebkitBorderAfterStyle'],borderBlockEndWidth:['WebkitBorderAfterWidth'],borderInlineStart:['WebkitBorderStart','MozBorderStart'],borderInlineStartColor:['WebkitBorderStartColor','MozBorderStartColor'],borderInlineStartStyle:['WebkitBorderStartStyle','MozBorderStartStyle'],borderInlineStartWidth:['WebkitBorderStartWidth','MozBorderStartWidth'],borderInlineEnd:['WebkitBorderEnd','MozBorderEnd'],borderInlineEndColor:['WebkitBorderEndColor','MozBorderEndColor'],borderInlineEndStyle:['WebkitBorderEndStyle','MozBorderEndStyle'],borderInlineEndWidth:['WebkitBorderEndWidth','MozBorderEndWidth']}},81,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,c){if('position'===t&&'sticky'===c)return['-webkit-sticky','sticky']}},82,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,h){if(n.hasOwnProperty(c)&&o.hasOwnProperty(h))return t.map(function(t){return t+h})};var t=['-webkit-','-moz-',''],n={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={'min-content':!0,'max-content':!0,'fill-available':!0,'fit-content':!0,'contain-floats':!0}},83,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,i,o,u){if('string'==typeof i&&f.hasOwnProperty(t)){var l=s(i,u),p=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-moz-|-ms-/.test(t)}).join(',');if(t.indexOf('Webkit')>-1)return p;var v=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-webkit-|-ms-/.test(t)}).join(',');return t.indexOf('Moz')>-1?v:(o['Webkit'+(0,n.default)(t)]=p,o['Moz'+(0,n.default)(t)]=v,l)}};var t=o(r(d[0])),i=o(r(d[1])),n=o(r(d[2]));function o(t){return t&&t.__esModule?t:{default:t}}var f={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:'-webkit-',Moz:'-moz-',ms:'-ms-'};function s(n,o){if((0,i.default)(n))return n;for(var f=n.split(/,(?![^()]*(?:\([^()]*\))?\))/g),s=0,l=f.length;s<l;++s){var p=f[s],v=[p];for(var c in o){var b=(0,t.default)(c);if(p.indexOf(b)>-1&&'order'!==b)for(var k=o[c],z=0,M=k.length;z<M;++z)v.unshift(p.replace(b,u[k[z]]+b))}f[s]=v.join(',')}return f.join(',')}},84,[85,80,59]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,f.default)(t)};var t,u=r(d[0]),f=(t=u)&&t.__esModule?t:{default:t}},85,[70]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},86,[87]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.localizeStyle=function(l,s){if(null!=l[t]){var c=s?1:0;if(n.has(l)){var f=n.get(l),o=f[c];return null==o&&(o=u(l,s),f[c]=o,n.set(l,f)),o}var v=u(l,s),y=new Array(2);return y[c]=v,n.set(l,y),v}return l};var n=new WeakMap,t='$$css$localize';function u(n,u){var l={};for(var s in n)if(s!==t){var c=n[s];Array.isArray(c)?l[s]=u?c[1]:c[0]:l[s]=c}return l}},87,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return O}}),Object.defineProperty(_e,"createBoxShadowValue",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,"createTextShadowValue",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,"createBoxShadowArrayValue",{enumerable:!0,get:function(){return S}}),Object.defineProperty(_e,"createTransformValue",{enumerable:!0,get:function(){return b}}),Object.defineProperty(_e,"createTransformOriginValue",{enumerable:!0,get:function(){return w}}),Object.defineProperty(_e,"preprocess",{enumerable:!0,get:function(){return x}});var t=e(r(d[0])),n=e(r(d[1])),o=r(d[2]),l={},u={height:0,width:0},s=e=>{var o=e.shadowColor,l=e.shadowOffset,s=e.shadowOpacity,f=e.shadowRadius,h=l||u,S=h.height,c=h.width,b=(0,n.default)(c),w=(0,n.default)(S),p=(0,n.default)(f||0),y=(0,t.default)(o||'black',s);if(null!=y&&null!=b&&null!=w&&null!=p)return b+" "+w+" "+p+" "+y},f=e=>{var t=e.textShadowColor,o=e.textShadowOffset,l=e.textShadowRadius,s=o||u,f=s.height,h=s.width,S=l||0,c=(0,n.default)(h),b=(0,n.default)(f),w=(0,n.default)(S),p=(0,n.default)(t,'textShadowColor');if(p&&(0!==f||0!==h||0!==S)&&null!=c&&null!=b&&null!=w)return c+" "+b+" "+w+" "+p},h=e=>{if('string'==typeof e)return e;var o=(0,n.default)(e.offsetX)||0,l=(0,n.default)(e.offsetY)||0,u=(0,n.default)(e.blurRadius)||0,s=(0,n.default)(e.spreadDistance)||0,f=(0,t.default)(e.color)||'black';return""+(e.inset?'inset ':'')+o+" "+l+" "+u+" "+s+" "+f},S=e=>e.map(h).join(', '),c=e=>{var t=Object.keys(e)[0],o=e[t];return'matrix'===t||'matrix3d'===t?t+"("+o.join(',')+")":t+"("+(0,n.default)(o,t)+")"},b=e=>e.map(c).join(' '),w=e=>e.map(e=>(0,n.default)(e)).join(' '),p={borderBottomEndRadius:'borderEndEndRadius',borderBottomStartRadius:'borderEndStartRadius',borderTopEndRadius:'borderStartEndRadius',borderTopStartRadius:'borderStartStartRadius',borderEndColor:'borderInlineEndColor',borderEndStyle:'borderInlineEndStyle',borderEndWidth:'borderInlineEndWidth',borderStartColor:'borderInlineStartColor',borderStartStyle:'borderInlineStartStyle',borderStartWidth:'borderInlineStartWidth',end:'insetInlineEnd',marginEnd:'marginInlineEnd',marginHorizontal:'marginInline',marginStart:'marginInlineStart',marginVertical:'marginBlock',paddingEnd:'paddingInlineEnd',paddingHorizontal:'paddingInline',paddingStart:'paddingInlineStart',paddingVertical:'paddingBlock',start:'insetInlineStart'},y={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},x=function(e,t){void 0===t&&(t={});var n=e||l,u={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,o.warnOnce)('shadowStyles',"\"shadow*\" style props are deprecated. Use \"boxShadow\".");var h=s(n);null!=h&&(u.boxShadow=h)}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,o.warnOnce)('textShadowStyles',"\"textShadow*\" style props are deprecated. Use \"textShadow\".");var c=f(n);if(null!=c&&null==u.textShadow){var x=n.textShadow,O=x?x+", "+c:c;u.textShadow=O}}for(var v in n)if(null==y[v]&&'shadowColor'!==v&&'shadowOffset'!==v&&'shadowOpacity'!==v&&'shadowRadius'!==v&&'textShadowColor'!==v&&'textShadowOffset'!==v&&'textShadowRadius'!==v){var E=n[v],R=p[v]||v,j=E;if(Object.prototype.hasOwnProperty.call(n,v)&&(R===v||null==n[R]))if('aspectRatio'===R&&'number'==typeof j)u[R]=j.toString();else if('boxShadow'===R){Array.isArray(j)&&(j=S(j));var I=u.boxShadow;u.boxShadow=I?j+", "+I:j}else'fontVariant'===R?(Array.isArray(j)&&j.length>0&&(j=j.join(' ')),u[R]=j):'textAlignVertical'===R?null==n.verticalAlign&&(u.verticalAlign='center'===j?'middle':j):'transform'===R?(Array.isArray(j)&&(j=b(j)),u.transform=j):'transformOrigin'===R?(Array.isArray(j)&&(j=w(j)),u.transformOrigin=j):u[R]=j}return u},O=x},88,[50,48,89]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.warnOnce=function(n,t){}},89,[]);
__d(function(g,r,_i2,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.styleq=void 0;var l=new WeakMap;function n(n){var s,u,t;return null!=n&&(s=!0===n.disableCache,u=!0===n.disableMix,t=n.transform),function(){for(var n=[],i='',o=null,f=s?null:l,v=new Array(arguments.length),c=0;c<arguments.length;c++)v[c]=arguments[c];for(;v.length>0;){var p=v.pop();if(null!=p&&!1!==p)if(Array.isArray(p))for(var y=0;y<p.length;y++)v.push(p[y]);else{var h=null!=t?t(p):p;if(h.$$css){var b='';if(null!=f&&f.has(h)){var M=f.get(h);null!=M&&(b=M[0],n.push.apply(n,M[1]),f=M[2])}else{var $=[];for(var _ in h){var j=h[_];"$$css"!==_&&('string'==typeof j||null===j?n.includes(_)||(n.push(_),null!=f&&$.push(_),'string'==typeof j&&(b+=b?' '+j:j)):console.error("styleq: ".concat(_," typeof ").concat(String(j)," is not \"string\" or \"null\".")))}if(null!=f){var q=new WeakMap;f.set(h,[b,$,q]),f=q}}b&&(i=i?b+' '+i:b)}else if(u)null==o&&(o={}),o=Object.assign({},h,o);else{var w=null;for(var A in h){var O=h[A];void 0!==O&&(n.includes(A)||(null!=O&&(null==o&&(o={}),null==w&&(w={}),w[A]=O),n.push(A),f=null))}null!=w&&(o=Object.assign(w,o))}}}return[i,o]}}var s=n();e.styleq=s,s.factory=n},90,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.validate=function(e){for(var n in e){var u=n.trim(),c=e[u],f=!1;if(null!==c){if('string'==typeof c&&c.indexOf('!important')>-1)s("Invalid style declaration \""+u+":"+c+"\". Values cannot include \"!important\""),f=!0;else{var p='';'animation'===u||'animationName'===u?(p='Did you mean "animationKeyframes"?',f=!0):'direction'===u?(p='Did you mean "writingDirection"?',f=!0):t[u]?(p='Please use long-form properties.',f=!0):l[u]&&'string'==typeof c&&(0,o.default)(c).nodes.length>1&&(p="Value is \""+c+"\" but only single values are supported.",f=!0),''!==p&&s("Invalid style property of \""+u+"\". "+p)}f&&delete e[n]}}};var e,n=r(d[0]),o=(e=n)&&e.__esModule?e:{default:e},t={background:!0,borderBottom:!0,borderLeft:!0,borderRight:!0,borderTop:!0,font:!0,grid:!0,outline:!0,textDecoration:!0},l={flex:!0,margin:!0,padding:!0,borderColor:!0,borderRadius:!0,borderStyle:!0,borderWidth:!0,inset:!0,insetBlock:!0,insetInline:!0,marginBlock:!0,marginInline:!0,marginHorizontal:!0,marginVertical:!0,paddingBlock:!0,paddingInline:!0,paddingHorizontal:!0,paddingVertical:!0,overflow:!0,overscrollBehavior:!0,backgroundPosition:!0};function s(e){console.error(e)}},91,[92]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=r(d[2]);function s(n){return this instanceof s?(this.nodes=t(n),this):new s(n)}s.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},s.prototype.walk=function(t,o){return n(this.nodes,t,o),this},s.unit=r(d[3]),s.walk=n,s.stringify=o,m.exports=s},92,[93,94,95,96]);
__d(function(g,r,i,a,m,e,d){var o="(".charCodeAt(0),n=")".charCodeAt(0),c="'".charCodeAt(0),t='"'.charCodeAt(0),s="\\".charCodeAt(0),u="/".charCodeAt(0),l=",".charCodeAt(0),h=":".charCodeAt(0),f="*".charCodeAt(0),p="u".charCodeAt(0),x="U".charCodeAt(0),A="+".charCodeAt(0),C=/^[a-f0-9?-]+$/i;m.exports=function(I){for(var v,E,y,w,O,b,_,q,U,$=[],j=I,k=0,z=j.charCodeAt(k),B=j.length,D=[{nodes:$}],F=0,G="",H="",J="";k<B;)if(z<=32){v=k;do{v+=1,z=j.charCodeAt(v)}while(z<=32);w=j.slice(k,v),y=$[$.length-1],z===n&&F?J=w:y&&"div"===y.type?(y.after=w,y.sourceEndIndex+=w.length):z===l||z===h||z===u&&j.charCodeAt(v+1)!==f&&(!U||U&&"function"===U.type&&"calc"!==U.value)?H=w:$.push({type:"space",sourceIndex:k,sourceEndIndex:v,value:w}),k=v}else if(z===c||z===t){v=k,w={type:"string",sourceIndex:k,quote:E=z===c?"'":'"'};do{if(O=!1,~(v=j.indexOf(E,v+1)))for(b=v;j.charCodeAt(b-1)===s;)b-=1,O=!O;else v=(j+=E).length-1,w.unclosed=!0}while(O);w.value=j.slice(k+1,v),w.sourceEndIndex=w.unclosed?v:v+1,$.push(w),k=v+1,z=j.charCodeAt(k)}else if(z===u&&j.charCodeAt(k+1)===f)w={type:"comment",sourceIndex:k,sourceEndIndex:(v=j.indexOf("*/",k))+2},-1===v&&(w.unclosed=!0,v=j.length,w.sourceEndIndex=v),w.value=j.slice(k+2,v),$.push(w),k=v+2,z=j.charCodeAt(k);else if(z!==u&&z!==f||!U||"function"!==U.type||"calc"!==U.value)if(z===u||z===l||z===h)w=j[k],$.push({type:"div",sourceIndex:k-H.length,sourceEndIndex:k+w.length,value:w,before:H,after:""}),H="",k+=1,z=j.charCodeAt(k);else if(o===z){v=k;do{v+=1,z=j.charCodeAt(v)}while(z<=32);if(q=k,w={type:"function",sourceIndex:k-G.length,value:G,before:j.slice(q+1,v)},k=v,"url"===G&&z!==c&&z!==t){v-=1;do{if(O=!1,~(v=j.indexOf(")",v+1)))for(b=v;j.charCodeAt(b-1)===s;)b-=1,O=!O;else v=(j+=")").length-1,w.unclosed=!0}while(O);_=v;do{_-=1,z=j.charCodeAt(_)}while(z<=32);q<_?(w.nodes=k!==_+1?[{type:"word",sourceIndex:k,sourceEndIndex:_+1,value:j.slice(k,_+1)}]:[],w.unclosed&&_+1!==v?(w.after="",w.nodes.push({type:"space",sourceIndex:_+1,sourceEndIndex:v,value:j.slice(_+1,v)})):(w.after=j.slice(_+1,v),w.sourceEndIndex=v)):(w.after="",w.nodes=[]),k=v+1,w.sourceEndIndex=w.unclosed?v:k,z=j.charCodeAt(k),$.push(w)}else F+=1,w.after="",w.sourceEndIndex=k+1,$.push(w),D.push(w),$=w.nodes=[],U=w;G=""}else if(n===z&&F)k+=1,z=j.charCodeAt(k),U.after=J,U.sourceEndIndex+=J.length,J="",F-=1,D[D.length-1].sourceEndIndex=k,D.pop(),$=(U=D[F]).nodes;else{v=k;do{z===s&&(v+=1),v+=1,z=j.charCodeAt(v)}while(v<B&&!(z<=32||z===c||z===t||z===l||z===h||z===u||z===o||z===f&&U&&"function"===U.type&&"calc"===U.value||z===u&&"function"===U.type&&"calc"===U.value||z===n&&F));w=j.slice(k,v),o===z?G=w:p!==w.charCodeAt(0)&&x!==w.charCodeAt(0)||A!==w.charCodeAt(1)||!C.test(w.slice(2))?$.push({type:"word",sourceIndex:k,sourceEndIndex:v,value:w}):$.push({type:"unicode-range",sourceIndex:k,sourceEndIndex:v,value:w}),k=v}else w=j[k],$.push({type:"word",sourceIndex:k-H.length,sourceEndIndex:k+w.length,value:w}),k+=1,z=j.charCodeAt(k);for(k=D.length-1;k;k-=1)D[k].unclosed=!0,D[k].sourceEndIndex=j.length;return D[0].nodes}},93,[]);
__d(function(g,r,_i,a,m,e,d){m.exports=function n(o,t,f){var i,s,c,u;for(i=0,s=o.length;i<s;i+=1)c=o[i],f||(u=t(c,i,o)),!1!==u&&"function"===c.type&&Array.isArray(c.nodes)&&n(c.nodes,t,f),f&&t(c,i,o)}},94,[]);
__d(function(g,r,_i,a,m,e,d){function n(n,t){var u,f,i=n.type,s=n.value;return t&&void 0!==(f=t(n))?f:"word"===i||"space"===i?s:"string"===i?(u=n.quote||"")+s+(n.unclosed?"":u):"comment"===i?"/*"+s+(n.unclosed?"":"*/"):"div"===i?(n.before||"")+s+(n.after||""):Array.isArray(n.nodes)?(u=o(n.nodes,t),"function"!==i?u:s+"("+(n.before||"")+u+(n.after||"")+(n.unclosed?"":")")):s}function o(o,t){var u,f;if(Array.isArray(o)){for(u="",f=o.length-1;~f;f-=1)u=n(o[f],t)+u;return u}return n(o,t)}m.exports=o},95,[]);
__d(function(g,r,i,a,m,e,d){var t="-".charCodeAt(0),o="+".charCodeAt(0),c=".".charCodeAt(0),h="e".charCodeAt(0),A="E".charCodeAt(0);function C(h){var A,C=h.charCodeAt(0);if(C===o||C===t){if((A=h.charCodeAt(1))>=48&&A<=57)return!0;var n=h.charCodeAt(2);return A===c&&n>=48&&n<=57}return C===c?(A=h.charCodeAt(1))>=48&&A<=57:C>=48&&C<=57}m.exports=function(n){var f,u,v,l=0,s=n.length;if(0===s||!C(n))return!1;for((f=n.charCodeAt(l))!==o&&f!==t||l++;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;if(f=n.charCodeAt(l),u=n.charCodeAt(l+1),f===c&&u>=48&&u<=57)for(l+=2;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;if(f=n.charCodeAt(l),u=n.charCodeAt(l+1),v=n.charCodeAt(l+2),(f===h||f===A)&&(u>=48&&u<=57||(u===o||u===t)&&v>=48&&v<=57))for(l+=u===o||u===t?3:2;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;return{number:n.slice(0,l),unit:n.slice(l)}}},96,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t={OS:'web',select:t=>'web'in t?t.web:t.default,get isTesting(){return!1},get Version(){return'0.0.0'}}},97,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isRunningInExpoGo=function(){return!1},e.getExpoGoProjectConfig=function(){return null}},98,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"EventEmitter",{enumerable:!0,get:function(){return t.EventEmitter}}),Object.defineProperty(_e,"NativeModule",{enumerable:!0,get:function(){return n.NativeModule}}),Object.defineProperty(_e,"SharedObject",{enumerable:!0,get:function(){return o.SharedObject}}),Object.defineProperty(_e,"SharedRef",{enumerable:!0,get:function(){return u.SharedRef}}),Object.defineProperty(_e,"Platform",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(_e,"uuid",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(_e,"requireNativeViewManager",{enumerable:!0,get:function(){return b.requireNativeViewManager}}),Object.defineProperty(_e,"CodedError",{enumerable:!0,get:function(){return h.CodedError}}),Object.defineProperty(_e,"UnavailabilityError",{enumerable:!0,get:function(){return E.UnavailabilityError}}),Object.defineProperty(_e,"LegacyEventEmitter",{enumerable:!0,get:function(){return w.LegacyEventEmitter}}),Object.defineProperty(_e,"NativeModulesProxy",{enumerable:!0,get:function(){return k.default}}),r(d[0]),r(d[1]);var t=r(d[2]),n=r(d[3]),o=r(d[4]),u=r(d[5]),c=e(r(d[6])),f=e(r(d[7])),b=r(d[8]),l=r(d[9]);Object.keys(l).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return l[e]}})});var y=r(d[10]);Object.keys(y).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return y[e]}})});var O=r(d[11]);Object.keys(O).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return O[e]}})});var p=r(d[12]);Object.keys(p).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return p[e]}})});var j=r(d[13]);Object.keys(j).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return j[e]}})});var P=r(d[14]);Object.keys(P).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return P[e]}})});var s=r(d[15]);Object.keys(s).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return s[e]}})});var v=r(d[16]);Object.keys(v).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return v[e]}})});var h=r(d[17]),E=r(d[18]),w=r(d[19]),k=e(r(d[20]))},99,[100,101,114,116,117,118,119,104,121,124,125,126,127,128,130,131,132,123,122,133,139]);
__d(function(g,r,i,a,m,e,d){},100,[]);
__d(function(g,r,i,a,m,e,d){"use strict";(0,r(d[0]).installExpoGlobalPolyfill)()},101,[102]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.installExpoGlobalPolyfill=function(){if(globalThis.expo)return;globalThis.expo={EventEmitter:o.EventEmitter,NativeModule:o.NativeModule,SharedObject:o.SharedObject,SharedRef:o.SharedRef,modules:globalThis.ExpoDomWebView?.expoModulesProxy??{},uuidv4:l.default.v4,uuidv5:l.default.v5,getViewConfig:()=>{throw new Error('Method not implemented.')},reloadAppAsync:async()=>{window.location.reload()},expoModulesCoreVersion:void 0,cacheDir:void 0,documentsDir:void 0}};var e,o=r(d[0]),t=r(d[1]),l=(e=t)&&e.__esModule?e:{default:e},n=r(d[2]);Object.keys(n).forEach(function(e){'default'===e||Object.prototype.hasOwnProperty.call(_e,e)||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return n[e]}})})},102,[103,104,109]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"EventEmitter",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"NativeModule",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"SharedObject",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"SharedRef",{enumerable:!0,get:function(){return o}});class t{addListener(t,s){this.listeners||(this.listeners=new Map),this.listeners?.has(t)||this.listeners?.set(t,new Set);const n=this.listenerCount(t);return this.listeners?.get(t)?.add(s),0===n&&1===this.listenerCount(t)&&this.startObserving(t),{remove:()=>{this.removeListener(t,s)}}}removeListener(t,s){const n=this.listeners?.get(t)?.delete(s);0===this.listenerCount(t)&&n&&this.stopObserving(t)}removeAllListeners(t){const s=this.listenerCount(t);this.listeners?.get(t)?.clear(),s>0&&this.stopObserving(t)}emit(t,...s){new Set(this.listeners?.get(t)).forEach(t=>{try{t(...s)}catch(t){console.error(t)}})}listenerCount(t){return this.listeners?.get(t)?.size??0}startObserving(t){}stopObserving(t){}}class s extends t{}class n extends t{release(){}}class o extends n{nativeRefType='unknown'}},103,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function _interopDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return _default}});var _libSha=r(d[0]),sha1=_interopDefault(_libSha),_libV=r(d[1]),v35=_interopDefault(_libV),_uuidTypes=r(d[2]);function uuidv4(){return'undefined'==typeof crypto&&'undefined'==typeof window?eval('require')('node:crypto').randomUUID():crypto.randomUUID()}const uuid={v4:uuidv4,v5:(0,v35.default)('v5',80,sha1.default),namespace:_uuidTypes.Uuidv5Namespace};var _default=uuid},104,[105,106,108]);
__d(function(g,r,_i,_a,m,_e,_d){'use strict';function e(e,t,n,o){switch(e){case 0:return t&n^~t&o;case 1:case 3:return t^n^o;case 2:return t&n^t&o^n&o;default:return 0}}function t(e,t){return e<<t|e>>>32-t}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var n=function(n){const o=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof n){const e=unescape(encodeURIComponent(n));n=new Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t)}n.push(128);const l=n.length/4+2,f=Math.ceil(l/16),u=new Array(f);for(let e=0;e<f;e++){u[e]=new Array(16);for(let t=0;t<16;t++)u[e][t]=n[64*e+4*t]<<24|n[64*e+4*t+1]<<16|n[64*e+4*t+2]<<8|n[64*e+4*t+3]}u[f-1][14]=8*(n.length-1)/Math.pow(2,32),u[f-1][14]=Math.floor(u[f-1][14]),u[f-1][15]=8*(n.length-1)&4294967295;for(let n=0;n<f;n++){const l=new Array(80);for(let e=0;e<16;e++)l[e]=u[n][e];for(let e=16;e<80;e++)l[e]=t(l[e-3]^l[e-8]^l[e-14]^l[e-16],1);let f=c[0],a=c[1],s=c[2],h=c[3],i=c[4];for(let n=0;n<80;n++){const c=Math.floor(n/20),u=t(f,5)+e(c,a,s,h)+i+o[c]+l[n]>>>0;i=h,h=s,s=t(a,30)>>>0,a=f,f=u}c[0]=c[0]+f>>>0,c[1]=c[1]+a>>>0,c[2]=c[2]+s>>>0,c[3]=c[3]+h>>>0,c[4]=c[4]+i>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]}},105,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e};function o(e){const t=[];return e.replace(/[a-fA-F0-9]{2}/g,e=>(t.push(parseInt(e,16)),'')),t}function c(e){e=unescape(encodeURIComponent(e));const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function u(e,t,u){const f=function(e,f,s,i){const y=s&&i||0;if('string'==typeof e&&(e=c(e)),'string'==typeof f&&(f=o(f)),!Array.isArray(e))throw TypeError('value must be an array of bytes');if(!Array.isArray(f)||16!==f.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');const l=u(f.concat(e));if(l[6]=15&l[6]|t,l[8]=63&l[8]|128,s)for(let e=0;e<16;++e)s[y+e]=l[e];return(0,n.default)(l)};try{f.name=e}catch{}return f.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',f.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',f}},106,[107]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});const t=[];for(let n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var n=function(n,o){let u=o||0;const c=t;return[c[n[u++]],c[n[u++]],c[n[u++]],c[n[u++]],'-',c[n[u++]],c[n[u++]],'-',c[n[u++]],c[n[u++]],'-',c[n[u++]],c[n[u++]],'-',c[n[u++]],c[n[u++]],c[n[u++]],c[n[u++]],c[n[u++]],c[n[u++]]].join('')}},107,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"Uuidv5Namespace",{enumerable:!0,get:function(){return b}});let b=(function(b){return b.dns="6ba7b810-9dad-11d1-80b4-00c04fd430c8",b.url="6ba7b811-9dad-11d1-80b4-00c04fd430c8",b.oid="6ba7b812-9dad-11d1-80b4-00c04fd430c8",b.x500="6ba7b814-9dad-11d1-80b4-00c04fd430c8",b})({})},108,[]);
__d(function(g,r,i,a,m,e,d){"use strict";r(d[0]),r(d[1]),r(d[2]),r(d[3])},109,[110,111,112,113]);
__d(function(g,r,i,a,m,e,d){},110,[]);
__d(function(g,r,i,a,m,e,d){},111,[]);
__d(function(g,r,i,a,m,e,d){},112,[]);
__d(function(g,r,i,a,m,e,d){},113,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"EventEmitter",{enumerable:!0,get:function(){return t}}),(0,r(d[0]).ensureNativeModulesAreInstalled)();const t=globalThis.expo.EventEmitter},114,[115]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.ensureNativeModulesAreInstalled=function(){},r(d[0])},115,[101]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"NativeModule",{enumerable:!0,get:function(){return t}}),(0,r(d[0]).ensureNativeModulesAreInstalled)();const t=globalThis.expo.NativeModule},116,[115]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"SharedObject",{enumerable:!0,get:function(){return t}}),(0,r(d[0]).ensureNativeModulesAreInstalled)();const t=globalThis.expo.SharedObject},117,[115]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"SharedRef",{enumerable:!0,get:function(){return t}}),(0,r(d[0]).ensureNativeModulesAreInstalled)();const t=globalThis.expo.SharedRef},118,[115]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,n=r(d[0]),t=(e=n)&&e.__esModule?e:{default:e},s=r(d[1]);var u={OS:"web",select:'undefined'!=typeof window?t.default.select:function(e){return e.hasOwnProperty("web")?e.web:e.hasOwnProperty('default')?e.default:void 0},isDOMAvailable:s.isDOMAvailable,canUseEventListeners:s.canUseEventListeners,canUseViewport:s.canUseViewport,isAsyncDebugging:s.isAsyncDebugging}},119,[97,120]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"isDOMAvailable",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"canUseEventListeners",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"canUseViewport",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"isAsyncDebugging",{enumerable:!0,get:function(){return c}});const n='undefined'!=typeof window&&!!window.document?.createElement,t=n&&!(!window.addEventListener&&!window.attachEvent),o=n&&!!window.screen,c=!1},120,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.requireNativeViewManager=function(n,o){throw new t.UnavailabilityError('expo-modules-core','requireNativeViewManager')};var t=r(d[0])},121,[122]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"UnavailabilityError",{enumerable:!0,get:function(){return o}});var t=r(d[0]);r(d[1]);class o extends t.CodedError{constructor(t,o){super('ERR_UNAVAILABLE',`The method or property ${t}.${o} is not available on web, are you sure you've linked all the native dependencies properly?`)}}},122,[123,119]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"CodedError",{enumerable:!0,get:function(){return t}});class t extends Error{constructor(t,o){super(o),this.code=t}}},123,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function o(o){return'object'==typeof globalThis.ExpoDomWebView&&null!=globalThis?.expo?.modules?globalThis.expo?.modules?.[o]??null:null}Object.defineProperty(e,'__esModule',{value:!0}),e.requireNativeModule=function(n){const l=o(n);if(null!=l)return l;if('undefined'==typeof window)return{};throw new Error(`Cannot find native module '${n}'`)},e.requireOptionalNativeModule=o},124,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.registerWebModule=function(s,l){if((0,o.ensureNativeModulesAreInstalled)(),!(l=l??s.name))throw new Error('Web module implementation is missing a name - it is either not a class or has been minified. Pass the name as a second argument to the `registerWebModule` function.');globalThis?.expo?.modules||(globalThis.expo.modules={});if(globalThis.expo.modules[l])return globalThis.expo.modules[l];return globalThis.expo.modules[l]=new s,globalThis.expo.modules[l]};var o=r(d[0])},125,[115]);
__d(function(g,r,i,a,m,e,d){},126,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"PermissionStatus",{enumerable:!0,get:function(){return t}});let t=(function(t){return t.GRANTED="granted",t.UNDETERMINED="undetermined",t.DENIED="denied",t})({})},127,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";const e=["get","request"];Object.defineProperty(_e,'__esModule',{value:!0}),_e.createPermissionHook=function(e){return t=>c(e,t)};var t,u=r(d[0]),n=(t=u)&&t.__esModule?t:{default:t},s=r(d[1]);function c(t,u){const c=(0,s.useRef)(!0),[o,l]=(0,s.useState)(null),f=u||{},{get:h=!0,request:M=!1}=f,_=(0,n.default)(f,e),b=(0,s.useCallback)(async()=>{let e;return e=Object.keys(_).length>0?await t.getMethod(_):await t.getMethod(),c.current&&l(e),e},[t.getMethod]),k=(0,s.useCallback)(async()=>{let e;return e=Object.keys(_).length>0?await t.requestMethod(_):await t.requestMethod(),c.current&&l(e),e},[t.requestMethod]);return(0,s.useEffect)(function(){M&&k(),!M&&h&&b()},[h,M,k,b]),(0,s.useEffect)(function(){return c.current=!0,()=>{c.current=!1}},[]),[o,k,b]}},128,[129,36]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(r,e){if(null==r)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(-1!==e.indexOf(t))continue;n[t]=r[t]}return n},m.exports.__esModule=!0,m.exports.default=m.exports},129,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.createSnapshotFriendlyRef=function(){return(0,t.createRef)()};var t=r(d[0])},130,[36]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.useReleasingSharedObject=function(u,n){const c=(0,t.useRef)(null),s=(0,t.useRef)(!1),l=(0,t.useRef)(n);null==c.current&&(c.current=u());const o=(0,t.useMemo)(()=>{let t=c.current;const s=l.current?.length===n.length&&n.every((t,u)=>t===l.current[u]);return t&&s||(c.current?.release(),t=u(),c.current=t,l.current=n),t},n);return(0,t.useMemo)(()=>{s.current=!0},[]),(0,t.useEffect)(()=>(s.current=!1,()=>{!s.current&&c.current&&c.current.release()}),[]),o};var t=r(d[0])},131,[36]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.reloadAppAsync=async function(o="Reloaded from JS call"){await(globalThis.expo?.reloadAppAsync(o))}},132,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"LegacyEventEmitter",{enumerable:!0,get:function(){return o}});var t=e(r(d[0])),n=e(r(d[1]));r(d[2]);const s='@@nativeEmitterSubscription@@';class o{_listenerCount=0;constructor(e){if(e.__expo_module_name__)return e;this._nativeModule=e,this._eventEmitter=new n.default(e)}addListener(e,t){!this._listenerCount&&this._nativeModule.startObserving&&this._nativeModule.startObserving(),this._listenerCount++;const n=this._eventEmitter.addListener(e,t),o={[s]:n,remove:()=>{this.removeSubscription(o)}};return o}removeAllListeners(e){const n=this._eventEmitter.listenerCount?this._eventEmitter.listenerCount(e):this._eventEmitter.listeners(e).length;this._eventEmitter.removeAllListeners(e),this._listenerCount-=n,(0,t.default)(this._listenerCount>=0,"EventEmitter must have a non-negative number of listeners"),!this._listenerCount&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving()}removeSubscription(e){const t=e,n=t[s];n&&('remove'in n&&n.remove?.(),this._listenerCount--,delete t[s],e.remove=()=>{},!this._listenerCount&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving())}emit(e,...t){this._eventEmitter.emit(e,...t)}}},133,[134,135,97]);
__d(function(g,r,i,_a,m,_e,_d){'use strict';m.exports=function(e,n,o,t,a,f,s,d){if(!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,t,a,f,s,d],l=0;(u=new Error(n.replace(/%s/g,function(){return c[l++]}))).name='Invariant Violation'}throw u.framesToPop=1,u}}},134,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},135,[136]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}}),r(d[0]);var t=e(r(d[1])),n=e(r(d[2]));class l{constructor(e){}addListener(e,n,l){var u;null==(u=this._nativeModule)||u.addListener(e);var s=t.default.addListener(e,n,l);return{remove:()=>{var e;null!=s&&(null==(e=this._nativeModule)||e.removeListeners(1),s.remove(),s=null)}}}removeListener(e,n){var l;null==(l=this._nativeModule)||l.removeListeners(1),t.default.removeListener(e,n)}emit(e){for(var n=arguments.length,l=new Array(n>1?n-1:0),u=1;u<n;u++)l[u-1]=arguments[u];t.default.emit(e,...l)}removeAllListeners(e){var l;(0,n.default)(null!=e,'`NativeEventEmitter.removeAllListener()` requires a non-null argument.'),null==(l=this._nativeModule)||l.removeListeners(this.listenerCount(e)),t.default.removeAllListeners(e)}listenerCount(e){return t.default.listenerCount(e)}}},136,[97,137,26]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=new((e=t)&&e.__esModule?e:{default:e}).default},137,[138]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});class t{constructor(){this._registry={}}addListener(t,s,l){var u=n(this._registry,t),o={context:l,listener:s,remove(){u.delete(o)}};return u.add(o),o}emit(t){var n=this._registry[t];if(null!=n){for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];for(var o=0,c=[...n];o<c.length;o++){var v=c[o];v.listener.apply(v.context,l)}}}removeAllListeners(t){null==t?this._registry={}:delete this._registry[t]}listenerCount(t){var n=this._registry[t];return null==n?0:n.size}}function n(t,n){var s=t[n];return null==s&&(s=new Set,t[n]=s),s}},138,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t={}},139,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.useEvent=function(u,s,c=null){const[o,f]=(0,t.useState)(c);return n(u,s,t=>f(t)),o},e.useEventListener=n;var t=r(d[0]);function n(n,u,s){const c=(0,t.useRef)(s);c.current=s,(0,t.useEffect)(()=>{const t=n.addListener(u,(...t)=>c.current(...t));return()=>t.remove()},[n,u,c])}},140,[36]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return S}});var t=r(d[0]),n=e(t),o=e(r(d[1])),s=e(r(d[2])),l=e(r(d[3])),c=e(r(d[4])),u=e(r(d[5])),f=r(d[6]),h=r(d[7]),E=r(d[8]),p=r(d[9]),x=e(r(d[10])),j=e(r(d[11])),y=e(r(d[12])),b=r(d[13]);class w extends n.default.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?(0,b.jsxs)(o.default,{style:{flex:1,backgroundColor:'red',justifyContent:'center',alignItems:'center',padding:20},children:[(0,b.jsx)(u.default,{style:{color:'white',fontSize:20,fontWeight:'bold'},children:"Something went wrong."}),(0,b.jsx)(u.default,{style:{color:'white',marginTop:10},children:this.state.error?.message})]}):this.props.children}}const R=console.warn;console.warn=(...e)=>{'string'==typeof e[0]&&(e[0].includes('THREE.WARNING: Multiple instances')||e[0].includes('THREE.THREE.Clock: This module has been deprecated'))||R(...e)};const T=console.log;function S(){const e=(0,h.useJournalStore)(e=>e.currentRoute);(0,t.useEffect)(()=>{(async()=>{await(0,p.initVault)(),await(0,E.initAudio)(),(0,E.playBackgroundMusic)()})()},[]);return(0,b.jsx)(f.SafeAreaProvider,{children:(0,b.jsxs)(o.default,{style:C.container,children:[(0,b.jsx)(s.default,{barStyle:"light-content",translucent:!0,backgroundColor:"transparent"}),(0,b.jsx)(w,{children:(()=>{switch(e.name){case'Home':default:return(0,b.jsx)(x.default,{});case'Editor':return(0,b.jsx)(j.default,{});case'Review':return(0,b.jsx)(y.default,{})}})()})]})})}console.log=(...e)=>{'string'==typeof e[0]&&e[0].includes('EXGL: gl.pixelStorei()')||T(...e)},c.default.ignoreLogs(['THREE.WARNING: Multiple instances','THREE.THREE.Clock: This module has been deprecated','EXGL: gl.pixelStorei()']);const C=l.default.create({container:{flex:1,backgroundColor:'#121212'}})},141,[36,142,172,44,173,174,175,182,193,194,201,371,372,208]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var o={};return e&&Object.keys(e).forEach(function(n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(o,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}),o.default=e,o}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return M}});var n=e(r(_d[0])),t=o(r(_d[1])),d=e(r(_d[2])),l=o(r(_d[3])),s=e(r(_d[4])),u=e(r(_d[5])),p=e(r(_d[6])),S=e(r(_d[7])),R=e(r(_d[8])),c=e(r(_d[9])),h=e(r(_d[10])),f=r(_d[11]),v=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],C=Object.assign({},l.defaultProps,l.accessibilityProps,l.clickProps,l.focusProps,l.keyboardProps,l.mouseProps,l.touchProps,l.styleProps,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),y=e=>(0,s.default)(e,C),b=t.forwardRef((e,o)=>{var l=e.hrefAttrs,s=e.onLayout,c=e.onMoveShouldSetResponder,C=e.onMoveShouldSetResponderCapture,b=e.onResponderEnd,M=e.onResponderGrant,P=e.onResponderMove,w=e.onResponderReject,_=e.onResponderRelease,j=e.onResponderStart,O=e.onResponderTerminate,k=e.onResponderTerminationRequest,T=e.onScrollShouldSetResponder,D=e.onScrollShouldSetResponderCapture,E=e.onSelectionChangeShouldSetResponder,L=e.onSelectionChangeShouldSetResponderCapture,q=e.onStartShouldSetResponder,A=e.onStartShouldSetResponderCapture,G=(0,n.default)(e,v),z=t.useContext(h.default),I=t.useRef(null),W=(0,f.useLocaleContext)().direction;(0,u.default)(I,s),(0,R.default)(I,{onMoveShouldSetResponder:c,onMoveShouldSetResponderCapture:C,onResponderEnd:b,onResponderGrant:M,onResponderMove:P,onResponderReject:w,onResponderRelease:_,onResponderStart:j,onResponderTerminate:O,onResponderTerminationRequest:k,onScrollShouldSetResponder:T,onScrollShouldSetResponderCapture:D,onSelectionChangeShouldSetResponder:E,onSelectionChangeShouldSetResponderCapture:L,onStartShouldSetResponder:q,onStartShouldSetResponderCapture:A});var $='div',B=null!=e.lang?(0,f.getLocaleDirection)(e.lang):null,H=e.dir||B,N=H||W,V=y(G);if(V.dir=H,V.style=[x.view$raw,z&&x.inline,e.style],null!=e.href&&($='a',null!=l)){var F=l.download,J=l.rel,K=l.target;null!=F&&(V.download=F),null!=J&&(V.rel=J),'string'==typeof K&&(V.target='_'!==K.charAt(0)?'_'+K:K)}var Q=(0,S.default)(V),U=(0,p.default)(I,Q,o);return V.ref=U,(0,d.default)($,V,{writingDirection:N})});b.displayName='View';var x=c.default.create({view$raw:{alignContent:'flex-start',alignItems:'stretch',backgroundColor:'transparent',border:'0 solid black',boxSizing:'border-box',display:'flex',flexBasis:'auto',flexDirection:'column',flexShrink:0,listStyle:'none',margin:0,minHeight:0,minWidth:0,padding:0,position:'relative',textDecoration:'none',zIndex:0},inline:{display:'inline-flex'}}),M=b},142,[45,36,143,151,152,153,160,162,164,44,171,149]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t=e(r(d[0])),n=e(r(d[1])),l=e(r(d[2])),u=r(d[3]),o=(e,o,c)=>{var f;e&&e.constructor===String&&(f=t.default.propsToAccessibilityComponent(o));var s=f||e,_=(0,n.default)(s,o,c),p=l.default.createElement(s,_);return _.dir?l.default.createElement(u.LocaleProvider,{children:p,direction:_.dir,locale:_.lang}):p}},143,[144,148,36,149]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),u=e(r(d[1])),o=e(r(d[2])),n={isDisabled:t.default,propsToAccessibilityComponent:u.default,propsToAriaRole:o.default}},144,[145,146,147]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=t=>t.disabled||Array.isArray(t.accessibilityStates)&&t.accessibilityStates.indexOf('disabled')>-1},145,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},o={article:'article',banner:'header',blockquote:'blockquote',button:'button',code:'code',complementary:'aside',contentinfo:'footer',deletion:'del',emphasis:'em',figure:'figure',insertion:'ins',form:'form',list:'ul',listitem:'li',main:'main',navigation:'nav',paragraph:'p',region:'section',strong:'strong'},l={},u=function(e){if(void 0===e&&(e=l),'label'===(e.role||e.accessibilityRole))return'label';var t=(0,n.default)(e);if(t){if('heading'===t){var u=e.accessibilityLevel||e['aria-level'];return null!=u?"h"+u:'h1'}return o[t]}}},146,[147]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var n={adjustable:'slider',button:'button',header:'heading',image:'img',imagebutton:null,keyboardkey:null,label:null,link:'link',none:'presentation',search:'search',summary:'region',text:null},t=t=>{var l=t.accessibilityRole,u=t.role||l;if(u){var o=n[u];if(null!==o)return o||u}}},147,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return h}});var l=e(r(d[0])),t=e(r(d[1])),s=e(r(d[2])),n=e(r(d[3])),c=r(d[4]),u=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],o={},b=Object.prototype.hasOwnProperty,y=Array.isArray,v=/[A-Z]/g;function p(e){return'-'+e.toLowerCase()}function x(e){return e.replace(v,p)}function w(e){return y(e)?e.join(' '):e}var f=n.default.create({auto:{pointerEvents:'auto'},'box-none':{pointerEvents:'box-none'},'box-only':{pointerEvents:'box-only'},none:{pointerEvents:'none'}}),h=(e,y,v)=>{y||(y=o);var p=y,h=p['aria-activedescendant'],S=p.accessibilityActiveDescendant,C=p['aria-atomic'],I=p.accessibilityAtomic,R=p['aria-autocomplete'],D=p.accessibilityAutoComplete,M=p['aria-busy'],E=p.accessibilityBusy,O=p['aria-checked'],P=p.accessibilityChecked,k=p['aria-colcount'],A=p.accessibilityColumnCount,L=p['aria-colindex'],V=p.accessibilityColumnIndex,q=p['aria-colspan'],B=p.accessibilityColumnSpan,_=p['aria-controls'],z=p.accessibilityControls,T=p['aria-current'],j=p.accessibilityCurrent,H=p['aria-describedby'],N=p.accessibilityDescribedBy,F=p['aria-details'],K=p.accessibilityDetails,U=p['aria-disabled'],Z=p.accessibilityDisabled,G=p['aria-errormessage'],J=p.accessibilityErrorMessage,Q=p['aria-expanded'],W=p.accessibilityExpanded,X=p['aria-flowto'],Y=p.accessibilityFlowTo,$=p['aria-haspopup'],aa=p.accessibilityHasPopup,ia=p['aria-hidden'],ea=p.accessibilityHidden,la=p['aria-invalid'],ra=p.accessibilityInvalid,ta=p['aria-keyshortcuts'],sa=p.accessibilityKeyShortcuts,na=p['aria-label'],ca=p.accessibilityLabel,ua=p['aria-labelledby'],oa=p.accessibilityLabelledBy,ba=p['aria-level'],da=p.accessibilityLevel,ya=p['aria-live'],va=p.accessibilityLiveRegion,pa=p['aria-modal'],xa=p.accessibilityModal,ma=p['aria-multiline'],wa=p.accessibilityMultiline,fa=p['aria-multiselectable'],ha=p.accessibilityMultiSelectable,Sa=p['aria-orientation'],Ca=p.accessibilityOrientation,Ia=p['aria-owns'],Ra=p.accessibilityOwns,Da=p['aria-placeholder'],Ma=p.accessibilityPlaceholder,Ea=p['aria-posinset'],Oa=p.accessibilityPosInSet,Pa=p['aria-pressed'],ga=p.accessibilityPressed,ka=p['aria-readonly'],Aa=p.accessibilityReadOnly,La=p['aria-required'],Va=p.accessibilityRequired,qa=(p.role,p.accessibilityRole,p['aria-roledescription']),Ba=p.accessibilityRoleDescription,_a=p['aria-rowcount'],za=p.accessibilityRowCount,Ta=p['aria-rowindex'],ja=p.accessibilityRowIndex,Ha=p['aria-rowspan'],Na=p.accessibilityRowSpan,Fa=p['aria-selected'],Ka=p.accessibilitySelected,Ua=p['aria-setsize'],Za=p.accessibilitySetSize,Ga=p['aria-sort'],Ja=p.accessibilitySort,Qa=p['aria-valuemax'],Wa=p.accessibilityValueMax,Xa=p['aria-valuemin'],Ya=p.accessibilityValueMin,$a=p['aria-valuenow'],ai=p.accessibilityValueNow,ii=p['aria-valuetext'],ei=p.accessibilityValueText,li=p.dataSet,ri=p.focusable,ti=p.id,si=p.nativeID,ni=p.pointerEvents,ci=p.style,ui=p.tabIndex,oi=p.testID,bi=(0,t.default)(p,u),di=U||Z,yi=s.default.propsToAriaRole(y),vi=null!=h?h:S;null!=vi&&(bi['aria-activedescendant']=vi);var pi=null!=C?h:I;null!=pi&&(bi['aria-atomic']=pi);var xi=null!=R?R:D;null!=xi&&(bi['aria-autocomplete']=xi);var mi=null!=M?M:E;null!=mi&&(bi['aria-busy']=mi);var wi=null!=O?O:P;null!=wi&&(bi['aria-checked']=wi);var fi=null!=k?k:A;null!=fi&&(bi['aria-colcount']=fi);var hi=null!=L?L:V;null!=hi&&(bi['aria-colindex']=hi);var Si=null!=q?q:B;null!=Si&&(bi['aria-colspan']=Si);var Ci=null!=_?_:z;null!=Ci&&(bi['aria-controls']=w(Ci));var Ii=null!=T?T:j;null!=Ii&&(bi['aria-current']=Ii);var Ri=null!=H?H:N;null!=Ri&&(bi['aria-describedby']=w(Ri));var Di=null!=F?F:K;null!=Di&&(bi['aria-details']=Di),!0===di&&(bi['aria-disabled']=!0,'button'!==e&&'form'!==e&&'input'!==e&&'select'!==e&&'textarea'!==e||(bi.disabled=!0));var Mi=null!=G?G:J;null!=Mi&&(bi['aria-errormessage']=Mi);var Ei=null!=Q?Q:W;null!=Ei&&(bi['aria-expanded']=Ei);var Oi=null!=X?X:Y;null!=Oi&&(bi['aria-flowto']=w(Oi));var Pi=null!=$?$:aa;null!=Pi&&(bi['aria-haspopup']=Pi);var gi=null!=ia?ia:ea;!0===gi&&(bi['aria-hidden']=gi);var ki=null!=la?la:ra;null!=ki&&(bi['aria-invalid']=ki);var Ai=null!=ta?ta:sa;null!=Ai&&(bi['aria-keyshortcuts']=w(Ai));var Li=null!=na?na:ca;null!=Li&&(bi['aria-label']=Li);var Vi=null!=ua?ua:oa;null!=Vi&&(bi['aria-labelledby']=w(Vi));var qi=null!=ba?ba:da;null!=qi&&(bi['aria-level']=qi);var Bi=null!=ya?ya:va;null!=Bi&&(bi['aria-live']='none'===Bi?'off':Bi);var _i=null!=pa?pa:xa;null!=_i&&(bi['aria-modal']=_i);var zi=null!=ma?ma:wa;null!=zi&&(bi['aria-multiline']=zi);var Ti=null!=fa?fa:ha;null!=Ti&&(bi['aria-multiselectable']=Ti);var ji=null!=Sa?Sa:Ca;null!=ji&&(bi['aria-orientation']=ji);var Hi=null!=Ia?Ia:Ra;null!=Hi&&(bi['aria-owns']=w(Hi));var Ni=null!=Da?Da:Ma;null!=Ni&&(bi['aria-placeholder']=Ni);var Fi=null!=Ea?Ea:Oa;null!=Fi&&(bi['aria-posinset']=Fi);var Ki=null!=Pa?Pa:ga;null!=Ki&&(bi['aria-pressed']=Ki);var Ui=null!=ka?ka:Aa;null!=Ui&&(bi['aria-readonly']=Ui,'input'!==e&&'select'!==e&&'textarea'!==e||(bi.readOnly=!0));var Zi=null!=La?La:Va;null!=Zi&&(bi['aria-required']=Zi,'input'!==e&&'select'!==e&&'textarea'!==e||(bi.required=Va)),null!=yi&&(bi.role='none'===yi?'presentation':yi);var Gi=null!=qa?qa:Ba;null!=Gi&&(bi['aria-roledescription']=Gi);var Ji=null!=_a?_a:za;null!=Ji&&(bi['aria-rowcount']=Ji);var Qi=null!=Ta?Ta:ja;null!=Qi&&(bi['aria-rowindex']=Qi);var Wi=null!=Ha?Ha:Na;null!=Wi&&(bi['aria-rowspan']=Wi);var Xi=null!=Fa?Fa:Ka;null!=Xi&&(bi['aria-selected']=Xi);var Yi=null!=Ua?Ua:Za;null!=Yi&&(bi['aria-setsize']=Yi);var $i=null!=Ga?Ga:Ja;null!=$i&&(bi['aria-sort']=$i);var ae=null!=Qa?Qa:Wa;null!=ae&&(bi['aria-valuemax']=ae);var ie=null!=Xa?Xa:Ya;null!=ie&&(bi['aria-valuemin']=ie);var ee=null!=$a?$a:ai;null!=ee&&(bi['aria-valuenow']=ee);var le=null!=ii?ii:ei;if(null!=le&&(bi['aria-valuetext']=le),null!=li)for(var re in li)if(b.call(li,re)){var te=x(re),se=li[re];null!=se&&(bi["data-"+te]=se)}0===ui||'0'===ui||-1===ui||'-1'===ui?bi.tabIndex=ui:(!1===ri&&(bi.tabIndex='-1'),'a'===e||'button'===e||'input'===e||'select'===e||'textarea'===e?!1!==ri&&!0!==Z||(bi.tabIndex='-1'):'button'===yi||'checkbox'===yi||'link'===yi||'radio'===yi||'textbox'===yi||'switch'===yi?!1!==ri&&(bi.tabIndex='0'):!0===ri&&(bi.tabIndex='0')),null!=ni&&(0,c.warnOnce)('pointerEvents',"props.pointerEvents is deprecated. Use style.pointerEvents");var ne=(0,n.default)([ci,ni&&f[ni]],(0,l.default)({writingDirection:'ltr'},v)),ce=ne[0],ue=ne[1];ce&&(bi.className=ce),ue&&(bi.style=ue);var oe=null!=ti?ti:si;return null!=oe&&(bi.id=oe),null!=oi&&(bi['data-testid']=oi),null==bi.type&&'button'===e&&(bi.type='button'),bi}},148,[21,45,144,44,89]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.getLocaleDirection=u,_e.LocaleProvider=function(e){var t=e.direction,o=e.locale,l=e.children;return t||o?n.default.createElement(c.Provider,{children:l,value:{direction:o?u(o):t,locale:o}}):l},_e.useLocaleContext=function(){return(0,t.useContext)(c)};var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},o=r(d[1]),l={direction:'ltr',locale:'en-US'},c=(0,t.createContext)(l);function u(e){return(0,o.isLocaleRTL)(e)?'rtl':'ltr'}},149,[36,150]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isLocaleRTL=function(s){var l=c.get(s);if(l)return l;var o=!1;if(Intl.Locale)try{var u=new Intl.Locale(s).maximize().script;o=t.has(u)}catch(t){var h=s.split('-')[0];o=n.has(h)}else{var v=s.split('-')[0];o=n.has(v)}return c.set(s,o),o};var t=new Set(['Arab','Syrc','Samr','Mand','Thaa','Mend','Nkoo','Adlm','Rohg','Hebr']),n=new Set(['ae','ar','arc','bcc','bqi','ckb','dv','fa','far','glk','he','iw','khw','ks','ku','mzn','nqo','pnb','ps','sd','ug','ur','yi']),c=new Map},150,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"defaultProps",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"accessibilityProps",{enumerable:!0,get:function(){return c}}),Object.defineProperty(e,"clickProps",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"focusProps",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"keyboardProps",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"mouseProps",{enumerable:!0,get:function(){return l}}),Object.defineProperty(e,"touchProps",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"styleProps",{enumerable:!0,get:function(){return b}});var t={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},c={'aria-activedescendant':!0,'aria-atomic':!0,'aria-autocomplete':!0,'aria-busy':!0,'aria-checked':!0,'aria-colcount':!0,'aria-colindex':!0,'aria-colspan':!0,'aria-controls':!0,'aria-current':!0,'aria-describedby':!0,'aria-details':!0,'aria-disabled':!0,'aria-errormessage':!0,'aria-expanded':!0,'aria-flowto':!0,'aria-haspopup':!0,'aria-hidden':!0,'aria-invalid':!0,'aria-keyshortcuts':!0,'aria-label':!0,'aria-labelledby':!0,'aria-level':!0,'aria-live':!0,'aria-modal':!0,'aria-multiline':!0,'aria-multiselectable':!0,'aria-orientation':!0,'aria-owns':!0,'aria-placeholder':!0,'aria-posinset':!0,'aria-pressed':!0,'aria-readonly':!0,'aria-required':!0,inert:!0,role:!0,'aria-roledescription':!0,'aria-rowcount':!0,'aria-rowindex':!0,'aria-rowspan':!0,'aria-selected':!0,'aria-setsize':!0,'aria-sort':!0,'aria-valuemax':!0,'aria-valuemin':!0,'aria-valuenow':!0,'aria-valuetext':!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},o={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},s={onBlur:!0,onFocus:!0},n={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},l={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},u={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},b={style:!0}},151,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){var u={};for(var o in t)t.hasOwnProperty(o)&&!0===n[o]&&(u[o]=t[o]);return u}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},152,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var t=e(r(d[0])),n=e(r(d[1])),u=e(r(d[2])),l='__reactLayoutHandler',o=(u.default,null);function f(e,f){var v=(u.default&&void 0!==window.ResizeObserver&&null==o&&(o=new window.ResizeObserver(function(e){e.forEach(e=>{var t=e.target,u=t[l];'function'==typeof u&&n.default.measure(t,(t,n,l,o,f,v)=>{var c={nativeEvent:{layout:{x:t,y:n,width:l,height:o,left:f,top:v}},timeStamp:Date.now()};Object.defineProperty(c.nativeEvent,'target',{enumerable:!0,get:()=>e.target}),u(c)})})})),o);(0,t.default)(()=>{var t=e.current;null!=t&&(t[l]=f)},[e,f]),(0,t.default)(()=>{var t=e.current;return null!=t&&null!=v&&('function'==typeof t[l]?v.observe(t):v.unobserve(t)),()=>{null!=t&&null!=v&&v.unobserve(t)}},[e,v])}},153,[154,155,41]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),u=r(d[1]),f=((e=u)&&e.__esModule?e:{default:e}).default?t.useLayoutEffect:t.useEffect},154,[36,41]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var t=e(r(d[0])),o=e(r(d[1])),s=e=>{var t=e.offsetHeight,o=e.offsetWidth,s=e.offsetLeft,n=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)s+=e.offsetLeft+e.clientLeft-e.scrollLeft,n+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:o,height:t,top:n-=window.scrollY,left:s-=window.scrollX}},n=(e,t,o)=>{var n=t||e&&e.parentNode;e&&n&&setTimeout(()=>{if(e.isConnected&&n.isConnected){var t=s(n),l=s(e),f=l.height,u=l.left,c=l.top,b=l.width,p=u-t.left,h=c-t.top;o(p,h,b,f,u,c)}},0)},l={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},f={blur(e){try{e.blur()}catch(e){}},focus(e){try{var t=e.nodeName;null==e.getAttribute('tabIndex')&&!0!==e.isContentEditable&&null==l[t]&&e.setAttribute('tabIndex','-1'),e.focus()}catch(e){}},measure(e,t){n(e,null,t)},measureInWindow(e,o){e&&setTimeout(()=>{var s=(0,t.default)(e),n=s.height,l=s.left,f=s.top,u=s.width;o(l,f,u,n)},0)},measureLayout(e,t,o,s){n(e,t,s)},updateView(e,t){for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=t[s];switch(s){case'style':(0,o.default)(e,n);break;case'class':case'className':e.setAttribute('class',n);break;case'text':case'value':e.value=n;break;default:e.setAttribute(s,n)}}},configureNextLayoutAnimation(e,t){t()},setLayoutAnimationEnabledExperimental(){}}},155,[156,157]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=t=>{if(null!=t&&(1===t.nodeType&&'function'==typeof t.getBoundingClientRect))return t.getBoundingClientRect()}},156,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e};var f=function(e,t){var f=e.style;for(var o in t)if(t.hasOwnProperty(o)){var u=0===o.indexOf('--'),l=(0,n.default)(o,t[o],u);'float'===o&&(o='cssFloat'),u?f.setProperty(o,l):f[o]=l}}},157,[158]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};var n=function(e,t,n){return null==t||'boolean'==typeof t||''===t?'':n||'number'!=typeof t||0===t||u.default.hasOwnProperty(e)&&u.default[e]?(''+t).trim():t+'px'}},158,[159]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},o=['ms','Moz','O','Webkit'],l=(t,o)=>t+o.charAt(0).toUpperCase()+o.substring(1);Object.keys(t).forEach(n=>{o.forEach(o=>{t[l(o,n)]=t[n]})});var n=t},159,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e,t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=r(_d[1]),u=(e=n)&&e.__esModule?e:{default:e};function o(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.useMemo(()=>(0,u.default)(...n),[...n])}},160,[36,161]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return function(n){t.forEach(t=>{null!=t&&('function'!=typeof t?'object'!=typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=n:t(n))})}}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}}),r(d[0])},161,[36]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var u=e(r(d[0])),t=e(r(d[1]));function n(e){e.pointerEvents,e.style;return(0,t.default)(()=>e=>{null!=e&&(e.measure=t=>u.default.measure(e,t),e.measureLayout=(t,n,l)=>u.default.measureLayout(e,t,l,n),e.measureInWindow=t=>u.default.measureInWindow(e,t))})}},162,[155,163]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),t='function'==typeof Symbol&&'symbol'==typeof Symbol()?Symbol():Object.freeze({});function n(n){var u=e.useRef(t);return u.current===t&&(u.current=n()),u.current}},163,[36]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var u=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,u.get?u:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var n=e(r(_d[0])),t=e(r(_d[1])),u={},o=0;function l(e,l){void 0===l&&(l=u);var d,c,s=(d=()=>o++,null==(c=n.useRef(null)).current&&(c.current=d()),c.current),S=n.useRef(!1);n.useEffect(()=>(t.attachListeners(),()=>{t.removeNode(s)}),[s]),n.useEffect(()=>{var n=l,u=n.onMoveShouldSetResponder,o=n.onMoveShouldSetResponderCapture,d=n.onScrollShouldSetResponder,c=n.onScrollShouldSetResponderCapture,f=n.onSelectionChangeShouldSetResponder,p=n.onSelectionChangeShouldSetResponderCapture,h=n.onStartShouldSetResponder,R=n.onStartShouldSetResponderCapture,v=null!=u||null!=o||null!=d||null!=c||null!=f||null!=p||null!=h||null!=R,b=e.current;v?(t.addNode(s,b,l),S.current=!0):S.current&&(t.removeNode(s),S.current=!1)},[l,e,s]),n.useDebugValue({isResponder:e.current===t.getResponderNode()}),n.useDebugValue(l)}},164,[36,165]);
__d(function(g,r,_i2,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.attachListeners=function(){s.default&&null==window.__reactResponderSystemActive&&(window.addEventListener('blur',P),E.forEach(e=>{document.addEventListener(e,P)}),_.forEach(e=>{document.addEventListener(e,P,!0)}),window.__reactResponderSystemActive=!0)},_e.addNode=function(e,n,t){(0,o.setResponderId)(n,e),f.set(e,t)},_e.removeNode=function(e){S.id===e&&M();f.has(e)&&f.delete(e)},_e.terminateResponder=M,_e.getResponderNode=function(){return S.node};var n=e(r(d[0])),t=r(d[1]),o=r(d[2]),i=r(d[3]),s=e(r(d[4])),l={},u=['onStartShouldSetResponderCapture','onStartShouldSetResponder',{bubbles:!0}],c=['onMoveShouldSetResponderCapture','onMoveShouldSetResponder',{bubbles:!0}],p={touchstart:u,mousedown:u,touchmove:c,mousemove:c,scroll:['onScrollShouldSetResponderCapture','onScrollShouldSetResponder',{bubbles:!1}]},h={id:null,idPath:null,node:null},f=new Map,v=!1,R=0,S={id:null,node:null,idPath:null},b=new i.ResponderTouchHistoryStore;function T(e){S=e}function C(e){var n=f.get(e);return null!=n?n:l}function P(e){var i=e.type,s=e.target;if('touchstart'===i&&(v=!0),('touchmove'===i||R>1)&&(v=!1),!('mousedown'===i&&v||'mousemove'===i&&v||'mousemove'===i&&R<1))if(v&&'mouseup'===i)0===R&&(v=!1);else{var l=(0,t.isStartish)(i)&&(0,o.isPrimaryPointerDown)(e),u=(0,t.isMoveish)(i),c=(0,t.isEndish)(i),p=(0,t.isScroll)(i),f=(0,t.isSelectionChange)(i),P=(0,n.default)(e,b);(l||u||c)&&(e.touches?R=e.touches.length:l?R=1:c&&(R=0),b.recordTouchTrack(i,P.nativeEvent));var _,E=(0,o.getResponderPaths)(e),M=!1;if(l||u||p&&R>0){var y=S.idPath,x=E.idPath;if(null!=y&&null!=x){var L=(0,o.getLowestCommonAncestor)(y,x);if(null!=L){var q=x.indexOf(L)+(L===S.id?1:0);E={idPath:x.slice(q),nodePath:E.nodePath.slice(q)}}else E=null}null!=E&&null!=(_=w(E,e,P))&&(N(P,_),M=!0)}if(null!=S.id&&null!=S.node){var j=S,A=j.id,G=j.node,O=C(A),k=O.onResponderStart,D=O.onResponderMove,H=O.onResponderEnd,I=O.onResponderRelease,V=O.onResponderTerminate,z=O.onResponderTerminationRequest;if(P.bubbles=!1,P.cancelable=!1,P.currentTarget=G,l)null!=k&&(P.dispatchConfig.registrationName='onResponderStart',k(P));else if(u)null!=D&&(P.dispatchConfig.registrationName='onResponderMove',D(P));else{var B=(0,t.isCancelish)(i)||'contextmenu'===i||'blur'===i&&s===window||'blur'===i&&s.contains(G)&&e.relatedTarget!==G||p&&0===R||p&&s.contains(G)&&s!==G||f&&(0,o.hasValidSelection)(e),F=c&&!B&&!(0,o.hasTargetTouches)(G,e.touches);if(c&&null!=H&&(P.dispatchConfig.registrationName='onResponderEnd',H(P)),F&&(null!=I&&(P.dispatchConfig.registrationName='onResponderRelease',I(P)),T(h)),B){var J=!0;'contextmenu'!==i&&'scroll'!==i&&'selectionchange'!==i||(M?J=!1:null!=z&&(P.dispatchConfig.registrationName='onResponderTerminationRequest',!1===z(P)&&(J=!1))),J&&(null!=V&&(P.dispatchConfig.registrationName='onResponderTerminate',V(P)),T(h),v=!1,R=0)}}}}}function w(e,n,t){var o=p[n.type];if(null!=o){for(var i=e.idPath,s=e.nodePath,l=o[0],u=o[1],c=o[2].bubbles,h=function(e,n,o){var s=C(e)[o];if(null!=s&&(t.currentTarget=n,!0===s(t)))return{id:e,node:n,idPath:i.slice(i.indexOf(e))}},f=i.length-1;f>=0;f--){var v=h(i[f],s[f],l);if(null!=v)return v;if(!0===t.isPropagationStopped())return}if(c)for(var R=0;R<i.length;R++){var S=h(i[R],s[R],u);if(null!=S)return S;if(!0===t.isPropagationStopped())return}else{var b=i[0],T=s[0];if(n.target===T)return h(b,T,u)}}}function N(e,n){var t=S,o=t.id,i=t.node,s=n.id,l=n.node,u=C(s),c=u.onResponderGrant,p=u.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=l,null==o)null!=c&&(e.currentTarget=l,e.dispatchConfig.registrationName='onResponderGrant',c(e)),T(n);else{var h=C(o),f=h.onResponderTerminate,v=h.onResponderTerminationRequest,R=!0;null!=v&&(e.currentTarget=i,e.dispatchConfig.registrationName='onResponderTerminationRequest',!1===v(e)&&(R=!1)),R?(null!=f&&(e.currentTarget=i,e.dispatchConfig.registrationName='onResponderTerminate',f(e)),null!=c&&(e.currentTarget=l,e.dispatchConfig.registrationName='onResponderGrant',c(e)),T(n)):null!=p&&(e.currentTarget=l,e.dispatchConfig.registrationName='onResponderReject',p(e))}}var _=['blur','scroll'],E=['mousedown','mousemove','mouseup','dragstart','touchstart','touchmove','touchend','touchcancel','contextmenu','select','selectionchange'];function M(){var e=S,t=e.id,o=e.node;if(null!=t&&null!=o){var i=C(t).onResponderTerminate;if(null!=i){var s=(0,n.default)({},b);s.currentTarget=o,i(s)}T(h)}v=!1,R=0}},165,[166,167,168,170,41]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},u=()=>{},o={},c=[];function l(e){return e>20?e%20:e}function f(e,t){var f,p,s,v=!1,y=e.changedTouches,h=e.type,X=!0===e.metaKey,Y=!0===e.shiftKey,P=y&&y[0].force||0,b=l(y&&y[0].identifier||0),T=y&&y[0].clientX||e.clientX,K=y&&y[0].clientY||e.clientY,_=y&&y[0].pageX||e.pageX,D=y&&y[0].pageY||e.pageY,S='function'==typeof e.preventDefault?e.preventDefault.bind(e):u,j=e.timeStamp;function H(e){return Array.prototype.slice.call(e).map(e=>({force:e.force,identifier:l(e.identifier),get locationX(){return A(e.clientX)},get locationY(){return C(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:j}))}if(null!=y)p=H(y),s=H(e.touches);else{var M=[{force:P,identifier:b,get locationX(){return A(T)},get locationY(){return C(K)},pageX:_,pageY:D,target:e.target,timestamp:j}];p=M,s='mouseup'===h||'dragstart'===h?c:M}var O={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:o,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>v,isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:X,shiftKey:Y,changedTouches:p,force:P,identifier:b,get locationX(){return A(T)},get locationY(){return C(K)},pageX:_,pageY:D,target:e.target,timestamp:j,touches:s,type:h},persist:u,preventDefault:S,stopPropagation(){v=!0},target:e.target,timeStamp:j,touchHistory:t.touchHistory};function A(e){if(f=f||(0,n.default)(O.currentTarget))return e-f.left}function C(e){if(f=f||(0,n.default)(O.currentTarget))return e-f.top}return O}},166,[156]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"BLUR",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"CONTEXT_MENU",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"FOCUS_OUT",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"MOUSE_DOWN",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"MOUSE_MOVE",{enumerable:!0,get:function(){return c}}),Object.defineProperty(e,"MOUSE_UP",{enumerable:!0,get:function(){return f}}),Object.defineProperty(e,"MOUSE_CANCEL",{enumerable:!0,get:function(){return O}}),Object.defineProperty(e,"TOUCH_START",{enumerable:!0,get:function(){return b}}),Object.defineProperty(e,"TOUCH_MOVE",{enumerable:!0,get:function(){return l}}),Object.defineProperty(e,"TOUCH_END",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"TOUCH_CANCEL",{enumerable:!0,get:function(){return E}}),Object.defineProperty(e,"SCROLL",{enumerable:!0,get:function(){return p}}),Object.defineProperty(e,"SELECT",{enumerable:!0,get:function(){return C}}),Object.defineProperty(e,"SELECTION_CHANGE",{enumerable:!0,get:function(){return P}}),e.isStartish=function(t){return t===b||t===o},e.isMoveish=function(t){return t===l||t===c},e.isEndish=function(t){return t===s||t===f||j(t)},e.isCancelish=j,e.isScroll=function(t){return t===p},e.isSelectionChange=function(t){return t===C||t===P};var t='blur',n='contextmenu',u='focusout',o='mousedown',c='mousemove',f='mouseup',O='dragstart',b='touchstart',l='touchmove',s='touchend',E='touchcancel',p='scroll',C='select',P='selectionchange';function j(t){return t===E||t===O}},167,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.setResponderId=function(e,t){null!=e&&(e[o]=t)},_e.getResponderPaths=function(e){for(var t=[],n=[],o=u(e),l=0;l<o.length;l++){var i=o[l],s=c(i);null!=s&&(t.push(s),n.push(i))}return{idPath:t,nodePath:n}},_e.getLowestCommonAncestor=function(e,t){var n=e.length,o=t.length;if(0===n||0===o||e[n-1]!==t[o-1])return null;var u=e[0],l=0,c=t[0],i=0;n-o>0&&(u=e[l=n-o],n=o);o-n>0&&(c=t[i=o-n],o=n);var s=n;for(;s--;){if(u===c)return u;u=e[l++],c=t[i++]}return null},_e.hasTargetTouches=function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var o=t[n].target;if(null!=o&&e.contains(o))return!0}return!1},_e.hasValidSelection=function(e){if('selectionchange'===e.type)return(0,n.default)();return'select'===e.type},_e.isPrimaryPointerDown=function(e){var t=e.altKey,n=e.button,o=e.buttons,u=e.ctrlKey,l=e.type,c='mousedown'===l&&(0===n||1===o),i='mousemove'===l&&1===o,s=!1===t&&!1===u;if('touchstart'===l||'touchmove'===l||c&&s||i&&s)return!0;return!1};var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},o='__reactResponderId';function u(e){return'selectionchange'===e.type?l(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():l(e.target)}function l(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function c(e){return null!=e?e[o]:null}},168,[169]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(){var n=window.getSelection(),o=n.toString(),t=n.anchorNode,u=n.focusNode,c=t&&t.nodeType===window.Node.TEXT_NODE||u&&u.nodeType===window.Node.TEXT_NODE;return o.length>=1&&'\n'!==o&&c}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}})},169,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"ResponderTouchHistoryStore",{enumerable:!0,get:function(){return T}});var t=r(d[0]);function n(t){return t.timeStamp||t.timestamp}function i(t){return{touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:n(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:n(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:n(t)}}function c(t,i){t.touchActive=!0,t.startPageX=i.pageX,t.startPageY=i.pageY,t.startTimeStamp=n(i),t.currentPageX=i.pageX,t.currentPageY=i.pageY,t.currentTimeStamp=n(i),t.previousPageX=i.pageX,t.previousPageY=i.pageY,t.previousTimeStamp=n(i)}function o(t){var n=t.identifier;return null==n&&console.error('Touch object is missing identifier.'),n}function u(t,u){var s=o(t),h=u.touchBank[s];h?c(h,t):u.touchBank[s]=i(t),u.mostRecentTimeStamp=n(t)}function s(t,i){var c=i.touchBank[o(t)];c?(c.touchActive=!0,c.previousPageX=c.currentPageX,c.previousPageY=c.currentPageY,c.previousTimeStamp=c.currentTimeStamp,c.currentPageX=t.pageX,c.currentPageY=t.pageY,c.currentTimeStamp=n(t),i.mostRecentTimeStamp=n(t)):console.warn('Cannot record touch move without a touch start.\n',"Touch Move: "+p(t)+"\n","Touch Bank: "+v(i))}function h(t,i){var c=i.touchBank[o(t)];c?(c.touchActive=!1,c.previousPageX=c.currentPageX,c.previousPageY=c.currentPageY,c.previousTimeStamp=c.currentTimeStamp,c.currentPageX=t.pageX,c.currentPageY=t.pageY,c.currentTimeStamp=n(t),i.mostRecentTimeStamp=n(t)):console.warn('Cannot record touch end without a touch start.\n',"Touch End: "+p(t)+"\n","Touch Bank: "+v(i))}function p(t){return JSON.stringify({identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,timestamp:n(t)})}function v(t){var n=t.touchBank,i=JSON.stringify(n.slice(0,20));return n.length>20&&(i+=' (original size: '+n.length+')'),i}class T{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(n,i){var c=this._touchHistory;if((0,t.isMoveish)(n))i.changedTouches.forEach(t=>s(t,c));else if((0,t.isStartish)(n))i.changedTouches.forEach(t=>u(t,c)),c.numberActiveTouches=i.touches.length,1===c.numberActiveTouches&&(c.indexOfSingleActiveTouch=i.touches[0].identifier);else if((0,t.isEndish)(n)&&(i.changedTouches.forEach(t=>h(t,c)),c.numberActiveTouches=i.touches.length,1===c.numberActiveTouches))for(var o=c.touchBank,p=0;p<o.length;p++){var v=o[p];if(null!=v&&v.touchActive){c.indexOfSingleActiveTouch=p;break}}}get touchHistory(){return this._touchHistory}}},170,[167]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=(0,r(d[0]).createContext)(!1)},171,[36]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return u}});var t=()=>{};function n(){return null}n.setBackgroundColor=t,n.setBarStyle=t,n.setHidden=t,n.setNetworkActivityIndicatorVisible=t,n.setTranslucent=t;var u=n},172,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var n={ignoreLogs(){},ignoreAllLogs(){},uninstall(){},install(){}}},173,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var o={};return e&&Object.keys(e).forEach(function(n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(o,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}),o.default=e,o}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return k}});var n=e(r(_d[0])),t=e(r(_d[1])),l=o(r(_d[2])),d=e(r(_d[3])),s=o(r(_d[4])),u=e(r(_d[5])),p=e(r(_d[6])),S=e(r(_d[7])),c=e(r(_d[8])),R=e(r(_d[9])),h=e(r(_d[10])),f=e(r(_d[11])),b=r(_d[12]),v=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],C=Object.assign({},s.defaultProps,s.accessibilityProps,s.clickProps,s.focusProps,s.keyboardProps,s.mouseProps,s.touchProps,s.styleProps,{href:!0,lang:!0,pointerEvents:!0}),x=e=>(0,u.default)(e,C),w=l.forwardRef((e,o)=>{var n=e.hrefAttrs,s=e.numberOfLines,u=e.onClick,h=e.onLayout,C=e.onPress,w=e.onMoveShouldSetResponder,y=e.onMoveShouldSetResponderCapture,k=e.onResponderEnd,M=e.onResponderGrant,O=e.onResponderMove,L=e.onResponderReject,_=e.onResponderRelease,j=e.onResponderStart,A=e.onResponderTerminate,T=e.onResponderTerminationRequest,E=e.onScrollShouldSetResponder,W=e.onScrollShouldSetResponderCapture,D=e.onSelectionChangeShouldSetResponder,$=e.onSelectionChangeShouldSetResponderCapture,q=e.onStartShouldSetResponder,G=e.onStartShouldSetResponderCapture,H=e.selectable,z=(0,t.default)(e,v),B=l.useContext(f.default),N=l.useRef(null),F=(0,b.useLocaleContext)().direction;(0,p.default)(N,h),(0,R.default)(N,{onMoveShouldSetResponder:w,onMoveShouldSetResponderCapture:y,onResponderEnd:k,onResponderGrant:M,onResponderMove:O,onResponderReject:L,onResponderRelease:_,onResponderStart:j,onResponderTerminate:A,onResponderTerminationRequest:T,onScrollShouldSetResponder:E,onScrollShouldSetResponderCapture:W,onSelectionChangeShouldSetResponder:D,onSelectionChangeShouldSetResponderCapture:$,onStartShouldSetResponder:q,onStartShouldSetResponderCapture:G});var I=l.useCallback(e=>{null!=u?u(e):null!=C&&(e.stopPropagation(),C(e))},[u,C]),J=B?'span':'div',K=null!=e.lang?(0,b.getLocaleDirection)(e.lang):null,Q=e.dir||K,U=Q||F,V=x(z);if(V.dir=Q,B||(V.dir=null!=Q?Q:'auto'),(u||C)&&(V.onClick=I),V.style=[null!=s&&s>1&&{WebkitLineClamp:s},!0===B?P.textHasAncestor$raw:P.text$raw,1===s&&P.textOneLine,null!=s&&s>1&&P.textMultiLine,e.style,!0===H&&P.selectable,!1===H&&P.notSelectable,C&&P.pressable],null!=e.href&&(J='a',null!=n)){var X=n.download,Y=n.rel,Z=n.target;null!=X&&(V.download=X),null!=Y&&(V.rel=Y),'string'==typeof Z&&(V.target='_'!==Z.charAt(0)?'_'+Z:Z)}var ee=(0,c.default)(V),oe=(0,S.default)(N,ee,o);V.ref=oe;var ne=(0,d.default)(J,V,{writingDirection:U});return B?ne:l.createElement(f.default.Provider,{value:!0},ne)});w.displayName='Text';var y={backgroundColor:'transparent',border:'0 solid black',boxSizing:'border-box',color:'black',display:'inline',font:'14px System',listStyle:'none',margin:0,padding:0,position:'relative',textAlign:'start',textDecoration:'none',whiteSpace:'pre-wrap',wordWrap:'break-word'},P=h.default.create({text$raw:y,textHasAncestor$raw:(0,n.default)((0,n.default)({},y),{},{color:'inherit',font:'inherit',textAlign:'inherit',whiteSpace:'inherit'}),textOneLine:{maxWidth:'100%',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap',wordWrap:'normal'},textMultiLine:{display:'-webkit-box',maxWidth:'100%',overflow:'clip',textOverflow:'ellipsis',WebkitBoxOrient:'vertical'},notSelectable:{userSelect:'none'},selectable:{userSelect:'text'},pressable:{cursor:'pointer'}}),k=w},174,[21,45,36,143,151,152,153,160,162,164,44,171,149]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var c=r(d[2]);Object.keys(c).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var o=r(d[3]);Object.keys(o).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})},175,[176,179,180,181]);
__d(function(g,_r,i,a,m,_e,_d){"use strict";const e=["children","initialMetrics","initialSafeAreaInsets","style"],t=["onChange","style","children"];function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"SafeAreaInsetsContext",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,"SafeAreaFrameContext",{enumerable:!0,get:function(){return d}}),_e.SafeAreaProvider=function(t){let{children:n,initialMetrics:l,initialSafeAreaInsets:v,style:y}=t,b=(0,r.default)(t,e);const S=o.useContext(c),p=o.useContext(d),[w,C]=o.useState(l?.insets??v??S??null),[A,P]=o.useState(l?.frame??p??{x:0,y:0,width:u.default.get('window').width,height:u.default.get('window').height}),x=o.useCallback(e=>{const{nativeEvent:{frame:t,insets:n}}=e;P(e=>!t||t.height===e.height&&t.width===e.width&&t.x===e.x&&t.y===e.y?e:t),C(e=>e&&n.bottom===e.bottom&&n.left===e.left&&n.right===e.right&&n.top===e.top?e:n)},[]);return o.createElement(s.NativeSafeAreaProvider,f({style:[h.fill,y],onInsetsChange:x},b),null!=w?o.createElement(d.Provider,{value:A},o.createElement(c.Provider,{value:w},n)):null)},_e.SafeAreaListener=function(e){let{onChange:n,style:u,children:l}=e,c=(0,r.default)(e,t);return o.createElement(s.NativeSafeAreaProvider,f({},c,{style:[h.fill,u],onInsetsChange:e=>{n({insets:e.nativeEvent.insets,frame:e.nativeEvent.frame})}}),l)},_e.useSafeAreaInsets=y,_e.useSafeAreaFrame=function(){const e=o.useContext(d);if(null==e)throw new Error(v);return e},_e.withSafeAreaInsets=function(e){return o.forwardRef((t,n)=>{const r=y();return o.createElement(e,f({},t,{insets:r,ref:n}))})},_e.useSafeArea=function(){return y()},Object.defineProperty(_e,"SafeAreaConsumer",{enumerable:!0,get:function(){return b}}),Object.defineProperty(_e,"SafeAreaContext",{enumerable:!0,get:function(){return S}});var r=n(_r(_d[0])),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(_r(_d[1])),u=n(_r(_d[2])),l=n(_r(_d[3])),s=_r(_d[4]);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}const c=o.createContext(null),d=o.createContext(null);const h=l.default.create({fill:{flex:1}});const v='No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.';function y(){const e=o.useContext(c);if(null==e)throw new Error(v);return e}const b=c.Consumer,S=c},176,[129,36,177,44,178]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var t=e(r(d[0])),n=e(r(d[1])),s={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},o={},c=n.default;function l(){if(n.default){var e,t,o=window;if(o.visualViewport){var c=o.visualViewport;e=Math.round(c.height*c.scale),t=Math.round(c.width*c.scale)}else{var l=o.document.documentElement;e=l.clientHeight,t=l.clientWidth}s.window={fontScale:1,height:e,scale:o.devicePixelRatio||1,width:t},s.screen={fontScale:1,height:o.screen.height,scale:o.devicePixelRatio||1,width:o.screen.width}}}function u(){l(),Array.isArray(o.change)&&o.change.forEach(e=>e(s))}class w{static get(e){return c&&(c=!1,l()),(0,t.default)(s[e],"No dimension set for key "+e),s[e]}static set(e){e&&(n.default?(0,t.default)(!1,'Dimensions cannot be set in the browser'):(null!=e.screen&&(s.screen=e.screen),null!=e.window&&(s.window=e.window)))}static addEventListener(e,t){return o[e]=o[e]||[],o[e].push(t),{remove:()=>{this.removeEventListener(e,t)}}}static removeEventListener(e,t){Array.isArray(o[e])&&(o[e]=o[e].filter(e=>e!==t))}}n.default&&(window.visualViewport?window.visualViewport.addEventListener('resize',u,!1):window.addEventListener('resize',u,!1))},177,[26,41]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.NativeSafeAreaProvider=function({children:t,style:n,onInsetsChange:d}){return e.useEffect(()=>{if('undefined'==typeof document)return;const t=p();document.body.appendChild(t);const e=()=>{const{paddingTop:e,paddingBottom:n,paddingLeft:o,paddingRight:s}=window.getComputedStyle(t),u={top:e?parseInt(e,10):0,bottom:n?parseInt(n,10):0,left:o?parseInt(o,10):0,right:s?parseInt(s,10):0},c={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};d({nativeEvent:{insets:u,frame:c}})};return t.addEventListener(u(),e),e(),()=>{document.body.removeChild(t),t.removeEventListener(u(),e)}},[d]),e.createElement(o.default,{style:n},t)};var t,e=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),e.default=t,e})(r(_d[0])),n=r(_d[1]),o=(t=n)&&t.__esModule?t:{default:t};const d={WebkitTransition:'webkitTransitionEnd',Transition:'transitionEnd',MozTransition:'transitionend',MSTransition:'msTransitionEnd',OTransition:'oTransitionEnd'};let s=null;function u(){if(null!=s)return s;const t=document.createElement('invalidtype');s=d.Transition;for(const e in d)if(void 0!==t.style[e]){s=d[e];break}return s}let c=null;function f(){if(null!==c)return c;const{CSS:t}=window;return c=t&&t.supports&&t.supports('top: constant(safe-area-inset-top)')?'constant':'env',c}function l(t){return`${f()}(safe-area-inset-${t})`}function p(){const t=document.createElement('div'),{style:e}=t;return e.position='fixed',e.left='0',e.top='0',e.width='0',e.height='0',e.zIndex='-1',e.overflow='hidden',e.visibility='hidden',e.transitionDuration='0.05s',e.transitionProperty='padding',e.transitionDelay='0s',e.paddingTop=l('top'),e.paddingBottom=l('bottom'),e.paddingLeft=l('left'),e.paddingRight=l('right'),t}},178,[36,142]);
__d(function(g,_r,i,a,m,_e,_d){"use strict";const t=["style","mode","edges"];function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"SafeAreaView",{enumerable:!0,get:function(){return s}});var r=e(_r(_d[0])),n=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e.default=t,e})(_r(_d[1])),o=e(_r(_d[2])),d=e(_r(_d[3])),f=_r(_d[4]);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(null,arguments)}const l={top:'additive',left:'additive',bottom:'additive',right:'additive'};function c(t,e,r){switch(r){case'off':return e;case'maximum':return Math.max(e,t);default:return e+t}}const s=n.forwardRef((e,s)=>{let{style:p={},mode:b,edges:h}=e,v=(0,r.default)(e,t);const y=(0,f.useSafeAreaInsets)(),O=n.useMemo(()=>null==h?l:Array.isArray(h)?h.reduce((t,e)=>(t[e]='additive',t),{}):h,[h]),_=n.useMemo(()=>{const t=o.default.flatten(p);if('margin'===b){const{margin:e=0,marginVertical:r=e,marginHorizontal:n=e,marginTop:o=r,marginRight:d=n,marginBottom:f=r,marginLeft:u=n}=t,l={marginTop:c(y.top,o,O.top),marginRight:c(y.right,d,O.right),marginBottom:c(y.bottom,f,O.bottom),marginLeft:c(y.left,u,O.left)};return[p,l]}{const{padding:e=0,paddingVertical:r=e,paddingHorizontal:n=e,paddingTop:o=r,paddingRight:d=n,paddingBottom:f=r,paddingLeft:u=n}=t,l={paddingTop:c(y.top,o,O.top),paddingRight:c(y.right,d,O.right),paddingBottom:c(y.bottom,f,O.bottom),paddingLeft:c(y.left,u,O.left)};return[p,l]}},[O.bottom,O.left,O.right,O.top,y.bottom,y.left,y.right,y.top,b,p]);return n.createElement(d.default,u({style:_},v,{ref:s}))})},179,[129,36,44,142,176]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"initialWindowMetrics",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"initialWindowSafeAreaInsets",{enumerable:!0,get:function(){return t}});const n=null,t=null},180,[]);
__d(function(g,r,i,a,m,e,d){},181,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"useJournalStore",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=r(d[1]),o=r(d[2]),s=(e=o)&&e.__esModule?e:{default:e};const u=(0,t.create)()((0,n.persist)(e=>({entries:[],addEntry:(t,n,o)=>e(e=>({entries:[...e.entries,{id:Math.random().toString(36).substring(7),text:t,timestamp:Date.now(),sentimentScore:n,color:o}]})),removeEntry:t=>e(e=>({entries:e.entries.filter(e=>e.id!==t)})),currentRoute:{name:'Home'},navigate:(t,n)=>e({currentRoute:{name:t,params:n}}),goBack:()=>e({currentRoute:{name:'Home'}})}),{name:'journal-storage',storage:(0,n.createJSONStorage)(()=>s.default),partialize:e=>({entries:e.entries})}))},182,[183,186,187]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},183,[184,185]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"createStore",{enumerable:!0,get:function(){return n}});const t=t=>{let n;const c=new Set,o=(t,o)=>{const s="function"==typeof t?t(n):t;if(!Object.is(s,n)){const t=n;n=(null!=o?o:"object"!=typeof s||null===s)?s:Object.assign({},n,s),c.forEach(c=>c(n,t))}},s=()=>n,u={setState:o,getState:s,getInitialState:()=>l,subscribe:t=>(c.add(t),()=>c.delete(t))},l=n=t(o,s,u);return u},n=n=>n?t(n):t},184,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"create",{enumerable:!0,get:function(){return o}}),Object.defineProperty(_e,"useStore",{enumerable:!0,get:function(){return l}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e},n=r(d[1]);const c=e=>e;function l(e,t=c){const n=u.default.useSyncExternalStore(e.subscribe,u.default.useCallback(()=>t(e.getState()),[e,t]),u.default.useCallback(()=>t(e.getInitialState()),[e,t]));return u.default.useDebugValue(n),n}const s=e=>{const t=(0,n.createStore)(e),u=e=>l(t,e);return Object.assign(u,t),u},o=e=>e?s(e):s},185,[36,184]);
__d(function(g,_r,i,_a3,m,_e,d){"use strict";const e=["enabled","anonymousActionType","store"],t=["connection"];Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"combine",{enumerable:!0,get:function(){return S}}),Object.defineProperty(_e,"createJSONStorage",{enumerable:!0,get:function(){return h}}),Object.defineProperty(_e,"devtools",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,"persist",{enumerable:!0,get:function(){return _}}),Object.defineProperty(_e,"redux",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,"subscribeWithSelector",{enumerable:!0,get:function(){return b}}),Object.defineProperty(_e,"unstable_ssrSafe",{enumerable:!0,get:function(){return j}});var n,r=_r(d[0]),o=(n=r)&&n.__esModule?n:{default:n};const s=(e,t)=>(n,r,o)=>(o.dispatch=t=>(n(n=>e(n,t),!1,t),t),o.dispatchFromDevtools=!0,Object.assign({dispatch:(...e)=>o.dispatch(...e)},t)),a=e=>!!e.dispatchFromDevtools&&"function"==typeof e.dispatch,c=new Map,u=e=>{const t=c.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},l=(e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=c.get(n.name);if(r)return Object.assign({type:"tracked",store:e},r);const o={connection:t.connect(n),stores:{}};return c.set(n.name,o),Object.assign({type:"tracked",store:e},o)},v=(e,t)=>{if(void 0===t)return;const n=c.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&c.delete(e))},f=e=>{var t,n;if(!e)return;const r=e.split("\n"),o=r.findIndex(e=>e.includes("api.setState"));if(o<0)return;const s=(null==(t=r[o+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(s))?void 0:n[1]},p=(n,r={})=>(s,c,p)=>{const{enabled:b,anonymousActionType:S,store:h}=r,O=(0,o.default)(r,e);let _;try{_=(null!=b?b:"production"!==(import.meta.env?import.meta.env.MODE:void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!_)return n(s,c,p);const j=l(h,_,O),{connection:w}=j,E=(0,o.default)(j,t);let I=!0;p.setState=(e,t,n)=>{const r=s(e,t);if(!I)return r;const o=void 0===n?{type:S||f((new Error).stack)||"anonymous"}:"string"==typeof n?{type:n}:n;return void 0===h?(null==w||w.send(o,c()),r):(null==w||w.send(Object.assign({},o,{type:`${h}/${o.type}`}),Object.assign({},u(O.name),{[h]:p.getState()})),r)},p.devtools={cleanup:()=>{w&&"function"==typeof w.unsubscribe&&w.unsubscribe(),v(O.name,h)}};const P=(...e)=>{const t=I;I=!1,s(...e),I=t},T=n(p.setState,c,p);if("untracked"===E.type?null==w||w.init(T):(E.stores[E.store]=p,null==w||w.init(Object.fromEntries(Object.entries(E.stores).map(([e,t])=>[e,e===E.store?T:t.getState()])))),a(p)){let e=!1;const t=p.dispatch;p.dispatch=(...n)=>{"production"===(import.meta.env?import.meta.env.MODE:void 0)||"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return w.subscribe(e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):y(e.payload,e=>{if("__setState"===e.type){if(void 0===h)return void P(e.state);1!==Object.keys(e.state).length&&console.error("\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    ");const t=e.state[h];if(null==t)return;return void(JSON.stringify(p.getState())!==JSON.stringify(t)&&P(t))}a(p)&&p.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":return P(T),void 0===h?null==w?void 0:w.init(p.getState()):null==w?void 0:w.init(u(O.name));case"COMMIT":return void 0===h?void(null==w||w.init(p.getState())):null==w?void 0:w.init(u(O.name));case"ROLLBACK":return y(e.state,e=>{if(void 0===h)return P(e),void(null==w||w.init(p.getState()));P(e[h]),null==w||w.init(u(O.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return y(e.state,e=>{void 0!==h?JSON.stringify(p.getState())!==JSON.stringify(e[h])&&P(e[h]):P(e)});case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return P(void 0===h?r:r[h]),void(null==w||w.send(null,n))}case"PAUSE_RECORDING":return I=!I}return}}),T},y=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)},b=e=>(t,n,r)=>{const o=r.subscribe;r.subscribe=(e,t,n)=>{let s=e;if(t){const o=(null==n?void 0:n.equalityFn)||Object.is;let a=e(r.getState());s=n=>{const r=e(n);if(!o(a,r)){const e=a;t(a=r,e)}},(null==n?void 0:n.fireImmediately)&&t(a,a)}return o(s)};return e(t,n,r)};function S(e,t){return(...n)=>Object.assign({},e,t(...n))}function h(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var r;const o=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),s=null!=(r=n.getItem(e))?r:null;return s instanceof Promise?s.then(o):o(s)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const O=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>O(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>O(t)(e)}}},_=(e,t)=>(n,r,o)=>{let s=Object.assign({storage:h(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>Object.assign({},t,e)},t),a=!1,c=0;const u=new Set,l=new Set;let v=s.storage;if(!v)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...e)},r,o);const f=()=>{const e=s.partialize(Object.assign({},r()));return v.setItem(s.name,{state:e,version:s.version})},p=o.setState;o.setState=(e,t)=>(p(e,t),f());const y=e((...e)=>(n(...e),f()),r,o);let b;o.getInitialState=()=>y;const S=()=>{var e,t;if(!v)return;const o=++c;a=!1,u.forEach(e=>{var t;return e(null!=(t=r())?t:y)});const p=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=r())?e:y))||void 0;return O(v.getItem.bind(v))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate){const t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(o!==c)return;const[a,u]=e;return b=s.merge(u,null!=(t=r())?t:y),n(b,!0),a?f():void 0}).then(()=>{o===c&&(null==p||p(b,void 0),b=r(),a=!0,l.forEach(e=>e(b)))}).catch(e=>{o===c&&(null==p||p(void 0,e))})};return o.persist={setOptions:e=>{s=Object.assign({},s,e),e.storage&&(v=e.storage)},clearStorage:()=>{null==v||v.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>a,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},s.skipHydration||S(),b||y};function j(e,t="undefined"==typeof window){return(n,r,o)=>{if(!t)return e(n,r,o);const s=()=>{throw new Error("Cannot set state of Zustand store in SSR")};return o.setState=s,e(s,r,o)}}},186,[129]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"useAsyncStorage",{enumerable:!0,get:function(){return n.useAsyncStorage}}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e},n=r(d[1]),o=u.default},187,[188,192]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return i}});var e,t=r(d[0]);const o=((e=t)&&e.__esModule?e:{default:e}).default.bind({concatArrays:!0,ignoreUndefined:!0});function n(e,t){const n=window.localStorage.getItem(e);if(n){const l=JSON.parse(n),c=JSON.parse(t),s=JSON.stringify(o(l,c));window.localStorage.setItem(e,s)}else window.localStorage.setItem(e,t)}function l(e,t){return new Promise((o,n)=>{try{const n=e();t?.(null,n),o(n)}catch(e){t?.(e),n(e)}})}function c(e,t,o){return Promise.all(e).then(e=>{const n=o?.(e)??null;return t?.(null,n),Promise.resolve(n)},e=>(t?.(e),Promise.reject(e)))}const s={getItem:(e,t)=>l(()=>window.localStorage.getItem(e),t),setItem:(e,t,o)=>l(()=>window.localStorage.setItem(e,t),o),removeItem:(e,t)=>l(()=>window.localStorage.removeItem(e),t),mergeItem:(e,t,o)=>l(()=>n(e,t),o),clear:e=>l(()=>window.localStorage.clear(),e),getAllKeys:e=>l(()=>{const e=window.localStorage.length,t=[];for(let o=0;o<e;o+=1){const e=window.localStorage.key(o)||"";t.push(e)}return t},e),flushGetRequests:()=>{},multiGet:(e,t)=>c(e.map(e=>s.getItem(e)),t,t=>t.map((t,o)=>[e[o],t])),multiSet:(e,t)=>c(e.map(e=>s.setItem(e[0],e[1])),t),multiRemove:(e,t)=>c(e.map(e=>s.removeItem(e)),t),multiMerge:(e,t)=>c(e.map(e=>s.mergeItem(e[0],e[1])),t)};var i=s},188,[189]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},189,[190]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),{hasOwnProperty:n}=Object.prototype,{propertyIsEnumerable:o}=Object,c=(t,n,o)=>Object.defineProperty(t,n,{value:o,writable:!0,enumerable:!0,configurable:!0}),s=this,f={concatArrays:!1,ignoreUndefined:!1},l=t=>{const c=[];for(const o in t)n.call(t,o)&&c.push(o);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(t);for(const s of n)o.call(t,s)&&c.push(s)}return c};function u(n){return Array.isArray(n)?y(n):t(n)?p(n):n}function y(t){const n=t.slice(0,0);return l(t).forEach(o=>{c(n,o,u(t[o]))}),n}function p(t){const n=null===Object.getPrototypeOf(t)?Object.create(null):{};return l(t).forEach(o=>{c(n,o,u(t[o]))}),n}const b=(t,n,o,s)=>(o.forEach(o=>{void 0===n[o]&&s.ignoreUndefined||(o in t&&t[o]!==Object.getPrototypeOf(t)?c(t,o,h(t[o],n[o],s)):c(t,o,u(n[o])))}),t),O=(t,o,s)=>{let f=t.slice(0,0),y=0;return[t,o].forEach(o=>{const p=[];for(let s=0;s<o.length;s++)n.call(o,s)&&(p.push(String(s)),c(f,y++,o===t?o[s]:u(o[s])));f=b(f,o,l(o).filter(t=>!p.includes(t)),s)}),f};function h(n,o,c){return c.concatArrays&&Array.isArray(n)&&Array.isArray(o)?O(n,o,c):t(o)&&t(n)?b(n,o,l(o),c):u(o)}m.exports=function(...n){const o=h(u(f),this!==s&&this||{},f);let c={_:{}};for(const s of n)if(void 0!==s){if(!t(s))throw new TypeError('`'+s+'` is not an Option Object');c=h(c,{_:s},o)}return c._}},190,[191]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=t=>{if('[object Object]'!==Object.prototype.toString.call(t))return!1;const o=Object.getPrototypeOf(t);return null===o||o===Object.prototype}},191,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.useAsyncStorage=function(e){return{getItem:(...t)=>u.default.getItem(e,...t),setItem:(...t)=>u.default.setItem(e,...t),mergeItem:(...t)=>u.default.mergeItem(e,...t),removeItem:(...t)=>u.default.removeItem(e,...t)}};var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},192,[188]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"initAudio",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"playBackgroundMusic",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"pauseBackgroundMusic",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"playSaveChime",{enumerable:!0,get:function(){return o}});const n=async()=>{try{console.log("Audio gracefully degraded inside initAudio")}catch(n){console.warn("Audio initialization failed. Sounds will be ignored.",n)}},t=()=>{},u=()=>{},o=()=>{}},193,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"initVault",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,"resetVault",{enumerable:!0,get:function(){return o}}),Object.defineProperty(_e,"saveThought",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"parseLinks",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"readThought",{enumerable:!0,get:function(){return h}}),Object.defineProperty(_e,"readAllThoughts",{enumerable:!0,get:function(){return d}}),Object.defineProperty(_e,"buildGraph",{enumerable:!0,get:function(){return p}});!(function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(n){var c=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,c.get?c:{enumerable:!0,get:function(){return e[n]}})}),t.default=e})(r(_d[0]));r(_d[1]);const e='aether_thoughts_web',t=()=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):{}}catch{return{}}},n=t=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.warn('LocalStorage error',e)}},c=async()=>{{const e=t();return void(0===Object.keys(e).length&&await s())}},o=async()=>(localStorage.removeItem(e),void await c()),s=async()=>{await u('Moaz Ahmed','The brilliant mind behind this instance of Aether Nexus.'),await u('Aether Nexus','The central core of the second brain. It processes [[Thoughts]] using anti-gravity physics.'),await u('Thoughts','Fleeting ideas captured in markdown. [[Aether Nexus]] organizes them visually.')},u=async(e,c)=>{const o=`${e.replace(/\s+/g,'-').toLowerCase()}.md`;{const e=t();return e[o]=c,n(e),o}},l=e=>{const t=/\[\[(.*?)\]\]/g,n=[];let c;for(;null!==(c=t.exec(e));)n.push(c[1]);return n},h=async e=>{try{let n='';{const c=t();if(!c[e])return null;n=c[e]}const c=e.replace('.md','').split('-').map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(' '),o=[];return{id:e,title:c,content:n,links:l(n),backlinks:o}}catch(e){return null}},d=async()=>{{const e=t();return Object.keys(e).map(t=>{const n=t.replace('.md','').split('-').map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(' ');return{id:t,title:n,content:e[t]}})}},p=async()=>{const e=await d(),t={},n=[];return e.forEach(e=>{t[e.id]={id:e.id,label:e.title,content:e.content,backlinks:[]}}),e.forEach(e=>{l(e.content).forEach(c=>{const o=`${c.replace(/\s+/g,'-').toLowerCase()}.md`;t[o]&&(n.push({source:e.id,target:o}),t[o].backlinks.push(e.id))})}),{nodes:Object.values(t),links:n}}},194,[195,97]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})},195,[196]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},196,[197,200]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"documentDirectory",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"cacheDirectory",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"bundleDirectory",{enumerable:!0,get:function(){return y}}),_e.getInfoAsync=async function(t,s={}){if(!n.default.getInfoAsync)throw new e.UnavailabilityError('expo-file-system','getInfoAsync');return await n.default.getInfoAsync(t,s)},_e.readAsStringAsync=f,_e.getContentUriAsync=async function(e){return e},_e.writeAsStringAsync=A,_e.deleteAsync=p,_e.deleteLegacyDocumentDirectoryAndroid=async function(){return},_e.moveAsync=w,_e.copyAsync=h,_e.makeDirectoryAsync=async function(t,s={}){if(!n.default.makeDirectoryAsync)throw new e.UnavailabilityError('expo-file-system','makeDirectoryAsync');return await n.default.makeDirectoryAsync(t,s)},_e.readDirectoryAsync=async function(t){if(!n.default.readDirectoryAsync)throw new e.UnavailabilityError('expo-file-system','readDirectoryAsync');return await n.default.readDirectoryAsync(t)},_e.getFreeDiskStorageAsync=async function(){if(!n.default.getFreeDiskStorageAsync)throw new e.UnavailabilityError('expo-file-system','getFreeDiskStorageAsync');return await n.default.getFreeDiskStorageAsync()},_e.getTotalDiskCapacityAsync=async function(){if(!n.default.getTotalDiskCapacityAsync)throw new e.UnavailabilityError('expo-file-system','getTotalDiskCapacityAsync');return await n.default.getTotalDiskCapacityAsync()},_e.downloadAsync=async function(t,s,c={}){if(!n.default.downloadAsync)throw new e.UnavailabilityError('expo-file-system','downloadAsync');return await n.default.downloadAsync(t,s,Object.assign({sessionType:o.FileSystemSessionType.BACKGROUND},c))},_e.uploadAsync=async function(t,s,c={}){if(!n.default.uploadAsync)throw new e.UnavailabilityError('expo-file-system','uploadAsync');return await n.default.uploadAsync(t,s,Object.assign({sessionType:o.FileSystemSessionType.BACKGROUND,uploadType:o.FileSystemUploadType.BINARY_CONTENT},c,{httpMethod:(c.httpMethod||'POST').toUpperCase()}))},_e.createDownloadResumable=function(e,t,s,n,o){return new k(e,t,s,n,o)},_e.createUploadTask=function(e,t,s,n){return new S(e,t,s,n)},Object.defineProperty(_e,"FileSystemCancellableNetworkTask",{enumerable:!0,get:function(){return b}}),Object.defineProperty(_e,"UploadTask",{enumerable:!0,get:function(){return S}}),Object.defineProperty(_e,"DownloadResumable",{enumerable:!0,get:function(){return k}}),Object.defineProperty(_e,"StorageAccessFramework",{enumerable:!0,get:function(){return E}});var e=r(d[0]);r(d[1]);var t,s=r(d[2]),n=(t=s)&&t.__esModule?t:{default:t},o=r(d[3]);function c(e){return null!=e?e.replace(/\/*$/,'')+'/':null}n.default||console.warn("No native ExponentFileSystem module found, are you sure the expo-file-system's module is linked properly?");const l=c(n.default.documentDirectory),u=c(n.default.cacheDirectory),y=c(n.default.bundleDirectory);async function f(t,s={}){if(!n.default.readAsStringAsync)throw new e.UnavailabilityError('expo-file-system','readAsStringAsync');return await n.default.readAsStringAsync(t,s)}async function A(t,s,o={}){if(!n.default.writeAsStringAsync)throw new e.UnavailabilityError('expo-file-system','writeAsStringAsync');return await n.default.writeAsStringAsync(t,s,o)}async function p(t,s={}){if(!n.default.deleteAsync)throw new e.UnavailabilityError('expo-file-system','deleteAsync');return await n.default.deleteAsync(t,s)}async function w(t){if(!n.default.moveAsync)throw new e.UnavailabilityError('expo-file-system','moveAsync');return await n.default.moveAsync(t)}async function h(t){if(!n.default.copyAsync)throw new e.UnavailabilityError('expo-file-system','copyAsync');return await n.default.copyAsync(t)}class b{_uuid=e.uuid.v4();taskWasCanceled=!1;async cancelAsync(){if(!n.default.networkTaskCancelAsync)throw new e.UnavailabilityError('expo-file-system','networkTaskCancelAsync');return this.removeSubscription(),this.taskWasCanceled=!0,await n.default.networkTaskCancelAsync(this.uuid)}isTaskCancelled(){return!!this.taskWasCanceled&&(console.warn('This task was already canceled.'),!0)}get uuid(){return this._uuid}addSubscription(){this.subscription||(this.subscription=n.default.addListener(this.getEventName(),e=>{if(e.uuid===this.uuid){const t=this.getCallback();t&&t(e.data)}}))}removeSubscription(){this.subscription&&(this.subscription.remove(),this.subscription=null)}}class S extends b{constructor(e,t,s,n){super(),this.url=e,this.fileUri=t,this.callback=n;const c=s?.httpMethod?.toUpperCase()||'POST';this.options=Object.assign({sessionType:o.FileSystemSessionType.BACKGROUND,uploadType:o.FileSystemUploadType.BINARY_CONTENT},s,{httpMethod:c})}getEventName(){return'expo-file-system.uploadProgress'}getCallback(){return this.callback}async uploadAsync(){if(!n.default.uploadTaskStartAsync)throw new e.UnavailabilityError('expo-file-system','uploadTaskStartAsync');if(this.isTaskCancelled())return;this.addSubscription();const t=await n.default.uploadTaskStartAsync(this.url,this.fileUri,this.uuid,this.options);return this.removeSubscription(),t}}class k extends b{constructor(e,t,s={},n,o){super(),this.url=e,this._fileUri=t,this.options=s,this.callback=n,this.resumeData=o}get fileUri(){return this._fileUri}getEventName(){return'expo-file-system.downloadProgress'}getCallback(){return this.callback}async downloadAsync(){if(!n.default.downloadResumableStartAsync)throw new e.UnavailabilityError('expo-file-system','downloadResumableStartAsync');if(!this.isTaskCancelled())return this.addSubscription(),await n.default.downloadResumableStartAsync(this.url,this._fileUri,this.uuid,this.options,this.resumeData)}async pauseAsync(){if(!n.default.downloadResumablePauseAsync)throw new e.UnavailabilityError('expo-file-system','downloadResumablePauseAsync');if(this.isTaskCancelled())return{fileUri:this._fileUri,options:this.options,url:this.url};const t=await n.default.downloadResumablePauseAsync(this.uuid);if(this.removeSubscription(),t)return this.resumeData=t.resumeData,this.savable();throw new Error('Unable to generate a savable pause state')}async resumeAsync(){if(!n.default.downloadResumableStartAsync)throw new e.UnavailabilityError('expo-file-system','downloadResumableStartAsync');if(!this.isTaskCancelled())return this.addSubscription(),await n.default.downloadResumableStartAsync(this.url,this.fileUri,this.uuid,this.options,this.resumeData)}savable(){return{url:this.url,fileUri:this.fileUri,options:this.options,resumeData:this.resumeData}}}const D=f,U=A,v=p,T=w,x=h;let E;!(function(t){t.getUriForDirectoryInRoot=function(e){return`content://com.android.externalstorage.documents/tree/primary:${e}/document/primary:${e}`},t.requestDirectoryPermissionsAsync=async function(t=null){if(!n.default.requestDirectoryPermissionsAsync)throw new e.UnavailabilityError('expo-file-system','StorageAccessFramework.requestDirectoryPermissionsAsync');return await n.default.requestDirectoryPermissionsAsync(t)},t.readDirectoryAsync=async function(t){if(!n.default.readSAFDirectoryAsync)throw new e.UnavailabilityError('expo-file-system','StorageAccessFramework.readDirectoryAsync');return await n.default.readSAFDirectoryAsync(t)},t.makeDirectoryAsync=async function(t,s){if(!n.default.makeSAFDirectoryAsync)throw new e.UnavailabilityError('expo-file-system','StorageAccessFramework.makeDirectoryAsync');return await n.default.makeSAFDirectoryAsync(t,s)},t.createFileAsync=async function(t,s,o){if(!n.default.createSAFFileAsync)throw new e.UnavailabilityError('expo-file-system','StorageAccessFramework.createFileAsync');return await n.default.createSAFFileAsync(t,s,o)};t.writeAsStringAsync=U,t.readAsStringAsync=D,t.deleteAsync=v,t.moveAsync=T,t.copyAsync=x})(E||(E={}))},197,[99,97,198,200]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},198,[199]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=r(d[0]);class n extends t.NativeModule{documentDirectory=null;cacheDirectory=null;bundleDirectory=null}},199,[99]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"FileSystemSessionType",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"FileSystemUploadType",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"EncodingType",{enumerable:!0,get:function(){return u}});let n=(function(n){return n[n.BACKGROUND=0]="BACKGROUND",n[n.FOREGROUND=1]="FOREGROUND",n})({}),t=(function(n){return n[n.BINARY_CONTENT=0]="BINARY_CONTENT",n[n.MULTIPART=1]="MULTIPART",n})({}),u=(function(n){return n.UTF8="utf8",n.Base64="base64",n})({})},200,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return x}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),f=r(d[5]),c=e(r(d[6])),u=r(d[7]),b=e(r(d[8])),h=r(d[9]),p=r(d[10]);function x(){const e=(0,u.useJournalStore)(e=>e.navigate),[n,x]=(0,t.useState)(!1),[j,w]=(0,t.useState)(null),[C,v]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{const e=await(0,h.buildGraph)();v(e.nodes)})()},[n]);return(0,p.jsxs)(f.LinearGradient,{colors:['#08080C','#120f18','#000000'],style:y.container,children:[(0,p.jsx)(c.default,{onSpherePress:t=>{e('Review',{id:t})},selectedNodeId:j,onFlightComplete:t=>{w(null),e('Review',{id:t})}}),(0,p.jsx)(b.default,{visible:n,nodes:C,onClose:()=>x(!1),onSelectNode:e=>{w(e)}}),(0,p.jsxs)(o.default,{style:y.fabContainer,children:[(0,p.jsx)(l.default,{style:[y.fab,y.paletteFab],onPress:()=>x(!0),activeOpacity:.8,children:(0,p.jsx)(s.default,{style:y.paletteFabText,children:'/'})}),(0,p.jsx)(l.default,{style:y.fab,onPress:()=>{e('Editor')},activeOpacity:.8,children:(0,p.jsx)(s.default,{style:y.fabText,children:"+"})})]})]})}const y=n.default.create({container:{flex:1},fabContainer:{position:'absolute',bottom:50,alignSelf:'center',flexDirection:'row',gap:20},fab:{width:70,height:70,borderRadius:35,backgroundColor:'#ffffff',justifyContent:'center',alignItems:'center',shadowColor:'#ffffff',shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:10,elevation:8},fabText:{fontSize:40,color:'#121212',fontWeight:'300',marginTop:-4},paletteFab:{backgroundColor:'#121212',borderWidth:1,borderColor:'#333',shadowColor:'#00ffcc'},paletteFabText:{fontSize:30,color:'#00ffcc',fontWeight:'600'}})},201,[36,142,44,202,174,205,210,182,332,194,208]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=e(r(_d[0])),n=e(r(_d[1])),s=r(_d[2]),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(s),l=e(r(_d[3])),u=e(r(_d[4])),c=e(r(_d[5])),d=e(r(_d[6])),f=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function y(e,c){var y=e.activeOpacity,b=e.delayPressIn,p=e.delayPressOut,O=e.delayLongPress,v=e.disabled,_=e.focusable,j=e.onLongPress,L=e.onPress,h=e.onPressIn,k=e.onPressOut,C=e.rejectResponderTermination,E=e.style,R=(0,n.default)(e,f),S=(0,s.useRef)(null),D=(0,l.default)(c,S),I=(0,s.useState)('0s'),M=I[0],w=I[1],T=(0,s.useState)(null),N=T[0],x=T[1],A=(0,s.useCallback)((e,t)=>{x(e),w(t?t/1e3+"s":'0s')},[x,w]),G=(0,s.useCallback)(e=>{A(null!=y?y:.2,e)},[y,A]),q=(0,s.useCallback)(e=>{A(null,e)},[A]),z=(0,s.useMemo)(()=>({cancelable:!C,disabled:v,delayLongPress:O,delayPressStart:b,delayPressEnd:p,onLongPress:j,onPress:L,onPressStart(e){var t=null!=e.dispatchConfig?'onResponderGrant'===e.dispatchConfig.registrationName:'keydown'===e.type;G(t?0:150),null!=h&&h(e)},onPressEnd(e){q(250),null!=k&&k(e)}}),[O,b,p,v,j,L,h,k,C,G,q]),B=(0,u.default)(S,z);return o.createElement(d.default,(0,t.default)({},R,B,{accessibilityDisabled:v,focusable:!v&&!1!==_,pointerEvents:v?'box-none':void 0,ref:D,style:[P.root,!v&&P.actionable,E,null!=N&&{opacity:N},{transitionDuration:M}]}))}var P=c.default.create({root:{transitionProperty:'opacity',transitionDuration:'0.15s',userSelect:'none'},actionable:{cursor:'pointer',touchAction:'manipulation'}}),b=o.memo(o.forwardRef(y));b.displayName='TouchableOpacity';var p=b},202,[29,45,36,160,203,44,142]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return f}});var e,u=r(d[0]),t=(e=u)&&e.__esModule?e:{default:e},n=r(d[1]);function f(e,u){var f=(0,n.useRef)(null);null==f.current&&(f.current=new t.default(u));var l=f.current;return(0,n.useEffect)(()=>{l.configure(u)},[u,l]),(0,n.useEffect)(()=>()=>{l.reset()},[l]),(0,n.useDebugValue)(u),l.getEventHandlers()}},203,[204,36]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return N}});var t='DELAY',s='ERROR',n='LONG_PRESS_DETECTED',o='NOT_RESPONDER',l='RESPONDER_ACTIVE_LONG_PRESS_START',_='RESPONDER_ACTIVE_PRESS_START',E='RESPONDER_INACTIVE_PRESS_START',u='RESPONDER_RELEASE',h='RESPONDER_TERMINATED',c=Object.freeze({NOT_RESPONDER:{DELAY:s,RESPONDER_GRANT:E,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:s},RESPONDER_INACTIVE_PRESS_START:{DELAY:_,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:l},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:l},ERROR:{DELAY:o,RESPONDER_GRANT:E,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:o}}),R=t=>t.getAttribute('role'),T=t=>t.tagName.toLowerCase(),P=t=>t===_||t===l,S=t=>'button'===R(t),D=t=>t===E||t===_||t===l,v=t=>t===h||t===u,p=t=>{var s=t.key,n=t.target,o=' '===s||'Spacebar'===s,l='button'===T(n)||S(n);return'Enter'===s||o&&l};class N{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=o,this._responderElement=null,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var s=(s,n)=>{s.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=o,this._isPointerTouch='touchstart'===s.nativeEvent.type,this._receiveSignal("RESPONDER_GRANT",s);var l=O(this._config.delayPressStart,0,50);!1!==n&&l>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(t,s)},l):this._receiveSignal(t,s);var _=O(this._config.delayLongPress,10,450);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(s)},_+l)},n=t=>{this._receiveSignal(u,t)},l=t=>{var s=this._config.onPress,_=t.target;if(this._touchState!==o&&p(t)){n(t),document.removeEventListener('keyup',l);var E=_.getAttribute('role'),u=T(_),h='link'===E||'a'===u||'button'===u||'input'===u||'select'===u||'textarea'===u,c=this._responderElement===_;null!=s&&!h&&c&&s(t),this._responderElement=null}};return{onStartShouldSetResponder:t=>{var s=this._config.disabled;return s&&S(t.currentTarget)&&t.stopPropagation(),null==s||!s},onKeyDown:t=>{var n=this._config.disabled,_=t.key,E=t.target;if(!n&&p(t)){this._touchState===o&&(s(t,!1),this._responderElement=E,document.addEventListener('keyup',l));var u=' '===_||'Spacebar'===_,h=R(E);u&&('button'===h||'menuitem'===h)&&'button'!==T(E)&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>s(t),onResponderMove:t=>{null!=this._config.onPressMove&&this._config.onPressMove(t);var s=f(t);if(null!=this._touchActivatePosition){var n=this._touchActivatePosition.pageX-s.pageX,o=this._touchActivatePosition.pageY-s.pageY;Math.hypot(n,o)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:t=>n(t),onResponderTerminate:t=>{'selectionchange'===t.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(h,t)},onResponderTerminationRequest:t=>{var s=this._config,n=s.cancelable,o=s.disabled,l=s.onLongPress;return!(!o&&null!=l&&this._isPointerTouch&&'contextmenu'===t.nativeEvent.type)&&(null==n||n)},onClick:t=>{var s=this._config,n=s.disabled,o=s.onPress;n?S(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),this._longPressDispatched||this._selectionTerminated?t.preventDefault():null!=o&&!1===t.altKey&&o(t))},onContextMenu:t=>{var s=this._config,n=s.disabled,o=s.onLongPress;n?S(t.currentTarget)&&t.stopPropagation():null!=o&&this._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}}_receiveSignal(t,n){var l=this._touchState,_=null;null!=c[l]&&(_=c[l][t]),this._touchState===o&&t===u||(null==_||_===s?console.error("PressResponder: Invalid signal "+t+" for state "+l+" on responder"):l!==_&&(this._performTransitionSideEffects(l,_,t,n),this._touchState=_))}_performTransitionSideEffects(t,s,o,_){if(v(o)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),D(t)&&o===n){var E=this._config.onLongPress;null!=E&&null==_.nativeEvent.key&&(E(_),this._longPressDispatched=!0)}var h=P(t),c=P(s);if(!h&&c?this._activate(_):h&&!c&&this._deactivate(_),D(t)&&o===u){var R=this._config,T=R.onLongPress;if(null!=R.onPress)null!=T&&t===l||c||h||(this._activate(_),this._deactivate(_))}this._cancelPressDelayTimeout()}_activate(t){var s=this._config,n=s.onPressChange,o=s.onPressStart,l=f(t);this._touchActivatePosition={pageX:l.pageX,pageY:l.pageY},null!=o&&o(t),null!=n&&n(!0)}_deactivate(t){var s=this._config,n=s.onPressChange,o=s.onPressEnd;function l(){null!=o&&o(t),null!=n&&n(!1)}var _=O(this._config.delayPressEnd);_>0?this._pressOutDelayTimeout=setTimeout(()=>{l()},_):l()}_handleLongPress(t){this._touchState!==_&&this._touchState!==l||this._receiveSignal(n,t)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function O(t,s,n){return void 0===s&&(s=0),void 0===n&&(n=0),Math.max(s,null!=t?t:n)}function f(t){var s=t.nativeEvent,n=s.changedTouches,o=s.touches;return null!=o&&o.length>0?o[0]:null!=n&&n.length>0?n[0]:t.nativeEvent}},204,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";const e=["colors","locations","start","end","dither"];function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"LinearGradient",{enumerable:!0,get:function(){return c}});var n=t(r(d[0])),o=r(d[1]);r(d[2]),r(d[3]);var s=t(r(d[4])),l=r(d[5]);class c extends o.Component{render(){const t=this.props,{colors:o,locations:c,start:f,end:h,dither:y}=t,p=(0,n.default)(t,e);let b=c;return c&&o.length!==c.length&&(console.warn('LinearGradient colors and locations props should be arrays of the same length'),b=c.slice(0,o.length)),(0,l.jsx)(s.default,Object.assign({},p,{colors:o,dither:void 0,locations:b,startPoint:u(f),endPoint:u(h)}))}}function u(e){if(e){if(!Array.isArray(e)||2===e.length)return Array.isArray(e)?e:[e.x,e.y];console.warn('start and end props for LinearGradient must be of the format [x,y] or {x, y}')}}},205,[129,36,97,52,206,208]);
__d(function(g,r,i,a,m,_e,_d){"use strict";const t=["colors","locations","startPoint","endPoint"];function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}}),_e.getLinearGradientBackgroundImage=d;var n=e(r(_d[0])),o=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),e.default=t,e})(r(_d[1])),u=e(r(_d[2])),c=r(_d[3]),l=r(_d[4]);function s(e){let{colors:c,locations:s,startPoint:f,endPoint:h}=e,y=(0,n.default)(e,t);const[{height:b,width:P},j]=o.useState({height:1,width:1}),M=o.useMemo(()=>d(c,s,f,h,P,b),[c,s,f,h,P,b]);return(0,l.jsx)(u.default,Object.assign({},y,{style:[y.style,{backgroundImage:M}],onLayout:t=>{const{width:e,height:n}=t.nativeEvent.layout;j(t=>e!==t.width||n!==t.height?{height:n,width:e}:t),y.onLayout&&y.onLayout(t)}}))}function d(t,e,n,o,u=1,c=1){const l=h(t,e);return`linear-gradient(${f(u,c,n,o)}deg, ${l.join(', ')})`}function f(t,e,n,o){const[u,c]=(()=>{let t=[0,0];Array.isArray(n)&&(t=[null!=n[0]?n[0]:0,null!=n[1]?n[1]:0]);let e=[0,1];return Array.isArray(o)&&(e=[null!=o[0]?o[0]:0,null!=o[1]?o[1]:1]),[t,e]})();u[0]*=t,c[0]*=t,u[1]*=e,c[1]*=e;const l=c[1]-u[1],s=c[0]-u[0];return 90+180*Math.atan2(l,s)/Math.PI}function h(t,e){return t.map((t,n)=>{const o=(0,c.normalizeColor)(t);if(e&&e[n]){return`${o} ${100*Math.max(0,Math.min(1,e[n]))}%`}return o})}},206,[129,36,142,207,208]);
__d(function(_g,_r,i,_a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.normalizeColor=function(e,r=1){if(null==e)return;if('string'==typeof e&&n(e))return e;const o=(0,t.default)(e);if('number'==typeof o){return`rgba(${o>>16&255},${o>>8&255},${255&o},${((o>>24&255)/255*r).toFixed(2)})`}};var e,r=_r(d[0]),t=(e=r)&&e.__esModule?e:{default:e};const n=e=>'currentcolor'===e||'currentColor'===e||'inherit'===e||0===e.indexOf('var(')},207,[52]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},208,[209]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(t,o,f){var l=null;if(void 0!==f&&(l=""+f),void 0!==o.key&&(l=""+o.key),"key"in o)for(var y in f={},o)"key"!==y&&(f[y]=o[y]);else f=o;return o=f.ref,{$$typeof:n,type:t,key:l,ref:void 0!==o?o:null,props:f}}e.Fragment=t,e.jsx=o,e.jsxs=o},209,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var e,t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),l=(e=o)&&e.__esModule?e:{default:e},u=r(d[4]);function c({onSpherePress:e,selectedNodeId:o,onFlightComplete:c}){const[f,p]=(0,t.useState)({nodes:[],links:[]});return(0,t.useEffect)(()=>{(async()=>{const e=await(0,s.buildGraph)();p(e)})()},[]),(0,u.jsxs)(n.Canvas,{camera:{position:[0,0,150],fov:45},children:[(0,u.jsx)("ambientLight",{intensity:.5}),(0,u.jsx)("directionalLight",{position:[10,10,5],intensity:1}),(0,u.jsx)(l.default,{nodes:f.nodes,links:f.links,onNodePress:e,selectedNodeId:o,onFlightComplete:c})]})}},210,[36,211,194,262,208]);
__d(function(g,r,i,a,m,_e,_d){"use strict";const e=["children","style","gl","events","shadows","linear","flat","legacy","orthographic","frameloop","performance","raycaster","camera","scene","onPointerMissed","onCreated","ref","pointerEvents"];function t(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"ReactThreeFiber",{enumerable:!0,get:function(){return u.t}}),Object.defineProperty(_e,"_roots",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(_e,"act",{enumerable:!0,get:function(){return u.x}}),Object.defineProperty(_e,"addAfterEffect",{enumerable:!0,get:function(){return u.k}}),Object.defineProperty(_e,"addEffect",{enumerable:!0,get:function(){return u.j}}),Object.defineProperty(_e,"addTail",{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(_e,"advance",{enumerable:!0,get:function(){return u.n}}),Object.defineProperty(_e,"applyProps",{enumerable:!0,get:function(){return u.s}}),Object.defineProperty(_e,"buildGraph",{enumerable:!0,get:function(){return u.y}}),Object.defineProperty(_e,"context",{enumerable:!0,get:function(){return u.q}}),Object.defineProperty(_e,"createEvents",{enumerable:!0,get:function(){return u.g}}),Object.defineProperty(_e,"createPortal",{enumerable:!0,get:function(){return u.o}}),Object.defineProperty(_e,"createRoot",{enumerable:!0,get:function(){return u.c}}),Object.defineProperty(_e,"dispose",{enumerable:!0,get:function(){return u.w}}),Object.defineProperty(_e,"extend",{enumerable:!0,get:function(){return u.e}}),Object.defineProperty(_e,"flushGlobalEffects",{enumerable:!0,get:function(){return u.h}}),Object.defineProperty(_e,"flushSync",{enumerable:!0,get:function(){return u.p}}),Object.defineProperty(_e,"getRootState",{enumerable:!0,get:function(){return u.v}}),Object.defineProperty(_e,"invalidate",{enumerable:!0,get:function(){return u.m}}),Object.defineProperty(_e,"reconciler",{enumerable:!0,get:function(){return u.r}}),Object.defineProperty(_e,"unmountComponentAtNode",{enumerable:!0,get:function(){return u.d}}),Object.defineProperty(_e,"useFrame",{enumerable:!0,get:function(){return u.D}}),Object.defineProperty(_e,"useGraph",{enumerable:!0,get:function(){return u.F}}),Object.defineProperty(_e,"useInstanceHandle",{enumerable:!0,get:function(){return u.z}}),Object.defineProperty(_e,"useLoader",{enumerable:!0,get:function(){return u.G}}),Object.defineProperty(_e,"useStore",{enumerable:!0,get:function(){return u.A}}),Object.defineProperty(_e,"useThree",{enumerable:!0,get:function(){return u.C}}),Object.defineProperty(_e,"Canvas",{enumerable:!0,get:function(){return j}}),Object.defineProperty(_e,"events",{enumerable:!0,get:function(){return O}});var o=t(r(_d[0])),u=r(_d[1]),c=n(r(_d[2])),s=n(r(_d[3])),l=t(r(_d[4])),d=t(r(_d[5])),f=t(r(_d[6])),p=t(r(_d[7]));r(_d[8]);t(r(_d[9])),t(r(_d[10]));var b=r(_d[11]),h=r(_d[12]),P=r(_d[13]);r(_d[14]),r(_d[15]),r(_d[16]);r(_d[17]),r(_d[18]),r(_d[19]);const v=p.default;function y(t){let{children:n,style:p,gl:h,events:y=u.f,shadows:j,linear:O,flat:S,legacy:R,orthographic:E,frameloop:w,performance:C,raycaster:x,camera:M,scene:_,onPointerMissed:F,onCreated:L,ref:T,pointerEvents:k}=t,H=(0,o.default)(t,e);c.useMemo(()=>(0,u.e)(s),[]);const X=(0,u.u)(),[{width:B,height:G,top:Y,left:z},D]=c.useState({width:0,height:0,top:0,left:0}),[q,A]=c.useState(null),[I,W]=c.useState();c.useImperativeHandle(T,()=>Q.current);const N=(0,u.a)(F),[U,V]=c.useState(!1),[J,K]=c.useState(void 0);if(U)throw U;if(J)throw J;const Q=c.useRef(null),Z=c.useRef(null),[$,ee]=c.useState(!0),te=c.useCallback(e=>{const{width:t,height:n,x:o,y:u}=e.nativeEvent.layout;D({width:t,height:n,top:u,left:o})},[]),ne=c.useCallback(e=>{const t=new Map,n={style:{},width:e.drawingBufferWidth,height:e.drawingBufferHeight,clientWidth:e.drawingBufferWidth,clientHeight:e.drawingBufferHeight,getContext:(t,{antialias:n=!1})=>(ee(n),e),addEventListener(e,n){let o=t.get(e);o||(o=[],t.set(e,o)),o.push(n)},removeEventListener(e,n){const o=t.get(e);if(o){const e=o.indexOf(n);-1!==e&&o.splice(e,1)}},dispatchEvent(e){Object.assign(e,{target:this});const n=t.get(e.type);if(n)for(const t of n)t(e)},setPointerCapture(){},releasePointerCapture(){}};function o(e,t){return e.persist(),n.dispatchEvent(Object.assign(e.nativeEvent,{type:t,offsetX:e.nativeEvent.locationX,offsetY:e.nativeEvent.locationY,pointerType:'touch',pointerId:e.nativeEvent.identifier})),!0}n.ownerDocument=n,n.getRootNode=()=>n,Z.current=(0,u.c)(n),A(n);const c=l.default.create({onStartShouldSetPanResponder:()=>!0,onMoveShouldSetPanResponder:()=>!0,onMoveShouldSetPanResponderCapture:()=>!0,onPanResponderTerminationRequest:()=>!0,onStartShouldSetPanResponderCapture:e=>o(e,'pointercapture'),onPanResponderStart:e=>o(e,'pointerdown'),onPanResponderMove:e=>o(e,'pointermove'),onPanResponderEnd:(e,t)=>{o(e,'pointerup'),Math.hypot(t.dx,t.dy)<20&&o(e,'click')},onPanResponderRelease:e=>o(e,'pointerleave'),onPanResponderTerminate:e=>o(e,'lostpointercapture'),onPanResponderReject:e=>o(e,'lostpointercapture')});W(c.panHandlers)},[]);return(0,u.b)(()=>{if(Z.current&&B>0&&G>0){async function e(){await Z.current.configure({gl:h,events:y,shadows:j,linear:O,flat:S,legacy:R,orthographic:E,frameloop:w,performance:C,raycaster:x,camera:M,scene:_,dpr:d.default.get(),size:{width:B,height:G,top:Y,left:z},onPointerMissed:(...e)=>null==N.current?void 0:N.current(...e),onCreated:e=>{const t=e.gl.getContext(),n=e.gl.render.bind(e.gl);return e.gl.render=(e,o)=>{n(e,o),t.endFrameEXP()},null==L?void 0:L(e)}}),Z.current.render((0,P.jsx)(X,{children:(0,P.jsx)(u.E,{set:K,children:(0,P.jsx)(c.Suspense,{fallback:(0,P.jsx)(u.B,{set:V}),children:null!=n?n:null})})}))}e()}}),c.useEffect(()=>{if(q)return()=>(0,u.d)(q)},[q]),(0,P.jsxs)(v,Object.assign({},H,{ref:Q,onLayout:te,style:Object.assign({flex:1},p),children:[B>0&&(0,P.jsx)(b.GLView,{msaaSamples:$?4:0,onContextCreate:ne,style:f.default.absoluteFill}),(0,P.jsx)(v,Object.assign({style:f.default.absoluteFill,pointerEvents:k},I))]}))}function j(e){return(0,P.jsx)(h.FiberProvider,{children:(0,P.jsx)(y,Object.assign({},e))})}function O(e){const{handlePointer:t}=(0,u.g)(e),n=(e,n)=>{e.persist(),e.nativeEvent.offsetX=e.nativeEvent.locationX,e.nativeEvent.offsetY=e.nativeEvent.locationY;return t(n)(e.nativeEvent),!0},o=l.default.create({onStartShouldSetPanResponder:()=>!0,onMoveShouldSetPanResponder:()=>!0,onMoveShouldSetPanResponderCapture:()=>!0,onPanResponderTerminationRequest:()=>!0,onStartShouldSetPanResponderCapture:e=>n(e,'onPointerCapture'),onPanResponderStart:e=>n(e,'onPointerDown'),onPanResponderMove:e=>n(e,'onPointerMove'),onPanResponderEnd:(e,t)=>{n(e,'onPointerUp'),Math.hypot(t.dx,t.dy)<20&&n(e,'onClick')},onPanResponderRelease:e=>n(e,'onPointerLeave'),onPanResponderTerminate:e=>n(e,'onLostPointerCapture'),onPanResponderReject:e=>n(e,'onLostPointerCapture')});return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:o.panHandlers,update:()=>{var n;const{events:o,internal:u}=e.getState();null!=(n=u.lastEvent)&&n.current&&o.handlers&&t('onPointerMove')(u.lastEvent.current)},connect:()=>{const{set:t,events:n}=e.getState();null==n.disconnect||n.disconnect(),t(e=>({events:Object.assign({},e.events,{connected:!0})}))},disconnect:()=>{const{set:t}=e.getState();t(e=>({events:Object.assign({},e.events,{connected:!1})}))}}}(()=>{try{return r(_d[20],"expo-file-system/legacy")}catch{return r(_d[21])}})()},211,[129,212,36,213,224,230,44,142,97,231,234,235,223,208,239,251,252,215,220,221,195,254]);
__d(function(e,t,n,r,l,a,o){"use strict";const i=["params"],u=["events","size"];function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}Object.defineProperty(a,'__esModule',{value:!0}),Object.defineProperty(a,"A",{enumerable:!0,get:function(){return se}}),Object.defineProperty(a,"B",{enumerable:!0,get:function(){return T}}),Object.defineProperty(a,"C",{enumerable:!0,get:function(){return ce}}),Object.defineProperty(a,"D",{enumerable:!0,get:function(){return fe}}),Object.defineProperty(a,"E",{enumerable:!0,get:function(){return I}}),Object.defineProperty(a,"F",{enumerable:!0,get:function(){return de}}),Object.defineProperty(a,"G",{enumerable:!0,get:function(){return ge}}),Object.defineProperty(a,"_",{enumerable:!0,get:function(){return We}}),Object.defineProperty(a,"a",{enumerable:!0,get:function(){return N}}),Object.defineProperty(a,"b",{enumerable:!0,get:function(){return j}}),Object.defineProperty(a,"c",{enumerable:!0,get:function(){return Ye}}),Object.defineProperty(a,"d",{enumerable:!0,get:function(){return Ke}}),Object.defineProperty(a,"e",{enumerable:!0,get:function(){return Te}}),Object.defineProperty(a,"f",{enumerable:!0,get:function(){return kt}}),Object.defineProperty(a,"g",{enumerable:!0,get:function(){return le}}),Object.defineProperty(a,"h",{enumerable:!0,get:function(){return st}}),Object.defineProperty(a,"i",{enumerable:!0,get:function(){return x}}),Object.defineProperty(a,"j",{enumerable:!0,get:function(){return at}}),Object.defineProperty(a,"k",{enumerable:!0,get:function(){return ot}}),Object.defineProperty(a,"l",{enumerable:!0,get:function(){return it}}),Object.defineProperty(a,"m",{enumerable:!0,get:function(){return yt}}),Object.defineProperty(a,"n",{enumerable:!0,get:function(){return St}}),Object.defineProperty(a,"o",{enumerable:!0,get:function(){return Ze}}),Object.defineProperty(a,"p",{enumerable:!0,get:function(){return et}}),Object.defineProperty(a,"q",{enumerable:!0,get:function(){return oe}}),Object.defineProperty(a,"r",{enumerable:!0,get:function(){return $e}}),Object.defineProperty(a,"s",{enumerable:!0,get:function(){return K}}),Object.defineProperty(a,"t",{enumerable:!0,get:function(){return k}}),Object.defineProperty(a,"u",{enumerable:!0,get:function(){return _}}),Object.defineProperty(a,"v",{enumerable:!0,get:function(){return L}}),Object.defineProperty(a,"w",{enumerable:!0,get:function(){return F}}),Object.defineProperty(a,"x",{enumerable:!0,get:function(){return z}}),Object.defineProperty(a,"y",{enumerable:!0,get:function(){return M}}),Object.defineProperty(a,"z",{enumerable:!0,get:function(){return ue}});var f=s(t(o[0])),d=t(o[1]),p=c(d),m=s(d),h=c(t(o[2])),g=t(o[3]),b=t(o[4]),v=t(o[5]),y=s(v),S=t(o[6]),w=t(o[7]),k=Object.freeze({__proto__:null});function C(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const z=p.act,P=e=>e&&e.isOrthographicCamera,x=e=>e&&e.hasOwnProperty('current'),E=e=>null!=e&&('string'==typeof e||'number'==typeof e||e.isColor),j=((e,t)=>'undefined'!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||'ReactNative'===(null==(t=window.navigator)?void 0:t.product)))()?p.useLayoutEffect:p.useEffect;function N(e){const t=p.useRef(e);return j(()=>{t.current=e},[e]),t}function _(){const e=(0,w.useFiber)(),t=(0,w.useContextBridge)();return p.useMemo(()=>({children:n})=>{const r=!!(0,w.traverseFiber)(e,!0,e=>e.type===p.StrictMode)?p.StrictMode:p.Fragment;return(0,S.jsx)(r,{children:(0,S.jsx)(t,{children:n})})},[e,t])}function T({set:e}){return j(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}const I=(e=>((e=class extends p.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function O(e){var t;const n='undefined'!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function L(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}const R={obj:e=>e===Object(e)&&!R.arr(e)&&'function'!=typeof e,fun:e=>'function'==typeof e,str:e=>'string'==typeof e,num:e=>'number'==typeof e,boo:e=>'boolean'==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:l=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(R.str(e)||R.num(e)||R.boo(e))return e===t;const a=R.obj(e);if(a&&'reference'===r)return e===t;const o=R.arr(e);if(o&&'reference'===n)return e===t;if((o||a)&&e===t)return!0;let i;for(i in e)if(!(i in t))return!1;if(a&&'shallow'===n&&'shallow'===r){for(i in l?t:e)if(!R.equ(e[i],t[i],{strict:l,objects:'reference'}))return!1}else for(i in l?t:e)if(e[i]!==t[i])return!1;if(R.und(i)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function M(e){const t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}function F(e){'Scene'!==e.type&&(null==e.dispose||e.dispose());for(const t in e){const n=e[t];'Scene'!==(null==n?void 0:n.type)&&(null==n||null==n.dispose||n.dispose())}}const A=['children','key','ref'];function H(e){const t={};for(const n in e)A.includes(n)||(t[n]=e[n]);return t}function U(e,t,n,r){const l=e;let a=null==l?void 0:l.__r3f;return a||(a={root:t,type:n,parent:null,children:[],props:H(r),object:l,eventCount:0,handlers:{},isHidden:!1},l&&(l.__r3f=a)),a}function D(e,t){if(!t.includes('-'))return{root:e,key:t,target:e[t]};if(t in e)return{root:e,key:t,target:e[t]};let n=e;const r=t.split('-');for(const l of r){if('object'!=typeof n||null===n){if(void 0!==n){return{root:n,key:r.slice(r.indexOf(l)).join('-'),target:void 0}}return{root:e,key:t,target:void 0}}e=n,n=n[t=l]}return{root:e,key:t,target:n}}const Q=/-\d+$/;function V(e,t){if(R.str(t.props.attach)){if(Q.test(t.props.attach)){const n=t.props.attach.replace(Q,''),{root:r,key:l}=D(e.object,n);Array.isArray(r[l])||(r[l]=[])}const{root:n,key:r}=D(e.object,t.props.attach);t.previousAttach=n[r],n[r]=t.object}else R.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function B(e,t){if(R.str(t.props.attach)){const{root:n,key:r}=D(e.object,t.props.attach),l=t.previousAttach;void 0===l?delete n[r]:n[r]=l}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}const $=[...A,'args','dispose','attach','object','onUpdate','dispose'],W=new Map;function q(e){let t=W.get(e.constructor);try{t||(t=new e.constructor,W.set(e.constructor,t))}catch(e){}return t}function G(e,t){const n={};for(const r in t)if(!$.includes(r)&&!R.equ(t[r],e.props[r])){n[r]=t[r];for(const e in t)e.startsWith(`${r}-`)&&(n[e]=t[e])}for(const r in e.props){if($.includes(r)||t.hasOwnProperty(r))continue;const{root:l,key:a}=D(e.object,r);if(l.constructor&&0===l.constructor.length){const e=q(l);R.und(e)||(n[a]=e[a])}else n[a]=0}return n}const Y=['map','emissiveMap','sheenColorMap','specularColorMap','envMap'],X=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function K(e,t){var n;const r=e.__r3f,l=r&&C(r).getState(),a=null==r?void 0:r.eventCount;for(const n in t){let a=t[n];if($.includes(n))continue;if(r&&X.test(n)){'function'==typeof a?r.handlers[n]=a:delete r.handlers[n],r.eventCount=Object.keys(r.handlers).length;continue}if(void 0===a)continue;let{root:i,key:u,target:s}=D(e,n);if(void 0===s&&('object'!=typeof i||null===i))throw Error(`R3F: Cannot set "${n}". Ensure it is an object before setting "${u}".`);if(s instanceof h.Layers&&a instanceof h.Layers)s.mask=a.mask;else if(s instanceof h.Color&&E(a))s.set(a);else if(null!==s&&'object'==typeof s&&'function'==typeof s.set&&'function'==typeof s.copy&&null!=a&&a.constructor&&s.constructor===a.constructor)s.copy(a);else if(null!==s&&'object'==typeof s&&'function'==typeof s.set&&Array.isArray(a))'function'==typeof s.fromArray?s.fromArray(a):s.set(...a);else if(null!==s&&'object'==typeof s&&'function'==typeof s.set&&'number'==typeof a)'function'==typeof s.setScalar?s.setScalar(a):s.set(a);else{var o;i[u]=a,l&&!l.linear&&Y.includes(u)&&null!=(o=i[u])&&o.isTexture&&i[u].format===h.RGBAFormat&&i[u].type===h.UnsignedByteType&&(i[u].colorSpace=h.SRGBColorSpace)}}if(null!=r&&r.parent&&null!=l&&l.internal&&null!=(n=r.object)&&n.isObject3D&&a!==r.eventCount){const e=r.object,t=l.internal.interaction.indexOf(e);t>-1&&l.internal.interaction.splice(t,1),r.eventCount&&null!==e.raycast&&l.internal.interaction.push(e)}return r&&void 0===r.props.attach&&(r.object.isBufferGeometry?r.props.attach='geometry':r.object.isMaterial&&(r.props.attach='material')),r&&Z(r),e}function Z(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);const n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}function J(e,t){e.manual||(P(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix())}const ee=e=>null==e?void 0:e.isObject3D;function te(e){return(e.eventObject||e.object).uuid+'/'+e.index+e.instanceId}function ne(e,t,n,r){const l=n.get(t);l&&(n.delete(t),0===n.size&&(e.delete(r),l.target.releasePointerCapture(r)))}function re(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{ne(n.capturedMap,t,e,r)})}function le(e){function t(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],l=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+l*l))}function n(e){return e.filter(e=>['Move','Over','Enter','Out','Leave'].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers['onPointer'+t]}))}function r(t,n){const r=e.getState(),l=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){const t=L(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let i=o.flatMap(function(e){const n=L(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r}).sort((e,t)=>{const n=L(e.object),r=L(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{const t=te(e);return!l.has(t)&&(l.add(t),!0)});r.events.filter&&(i=r.events.filter(i,r));for(const e of i){let t=e.object;for(;t;){var u;null!=(u=t.__r3f)&&u.eventCount&&a.push(Object.assign({},e,{eventObject:t})),t=t.parent}}if('pointerId'in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())l.has(te(e.intersection))||a.push(e.intersection);return a}function l(e,t,n,r){if(e.length){const l={stopped:!1};for(const o of e){let i=L(o.object);if(i||o.object.traverseAncestors(e=>{const t=L(e);if(t)return i=t,!1}),i){const{raycaster:u,pointer:s,camera:c,internal:f}=i,d=new h.Vector3(s.x,s.y,0).unproject(c),p=e=>{var t,n;return null!=(t=null==(n=f.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},m=e=>{const n={intersection:o,target:t.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(o.eventObject,n):f.capturedMap.set(e,new Map([[o.eventObject,n]])),t.target.setPointerCapture(e)},g=e=>{const t=f.capturedMap.get(e);t&&ne(f.capturedMap,o.eventObject,t,e)};let b={};for(let e in t){let n=t[e];'function'!=typeof n&&(b[e]=n)}let v=Object.assign({},o,b,{pointer:s,intersections:e,stopped:l.stopped,delta:n,unprojectedPoint:d,ray:u.ray,camera:c,stopPropagation(){const n='pointerId'in t&&f.capturedMap.get(t.pointerId);if((!n||n.has(o.eventObject))&&(v.stopped=l.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find(e=>e.eventObject===o.eventObject))){a([...e.slice(0,e.indexOf(o)),o])}},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:t});if(r(v),!0===l.stopped)break}}}return e}function a(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){const r=e.eventObject.__r3f;if(n.hovered.delete(te(e)),null!=r&&r.eventCount){const n=r.handlers,l=Object.assign({},e,{intersections:t});null==n.onPointerOut||n.onPointerOut(l),null==n.onPointerLeave||n.onPointerLeave(l)}}}function o(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case'onPointerLeave':case'onPointerCancel':return()=>a([]);case'onLostPointerCapture':return t=>{const{internal:n}=e.getState();'pointerId'in t&&n.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),a([]))})}}return function(u){const{onPointerMissed:s,internal:c}=e.getState();c.lastEvent.current=u;const f='onPointerMove'===i,d='onClick'===i||'onContextMenu'===i||'onDoubleClick'===i,p=r(u,f?n:void 0),m=d?t(u):0;'onPointerDown'===i&&(c.initialClick=[u.offsetX,u.offsetY],c.initialHits=p.map(e=>e.eventObject)),d&&!p.length&&m<=2&&(o(u,c.interaction),s&&s(u)),f&&a(p),l(p,u,m,function(e){const t=e.eventObject,n=t.__r3f;if(null==n||!n.eventCount)return;const r=n.handlers;if(f){if(r.onPointerOver||r.onPointerEnter||r.onPointerOut||r.onPointerLeave){const t=te(e),n=c.hovered.get(t);n?n.stopped&&e.stopPropagation():(c.hovered.set(t,e),null==r.onPointerOver||r.onPointerOver(e),null==r.onPointerEnter||r.onPointerEnter(e))}null==r.onPointerMove||r.onPointerMove(e)}else{const n=r[i];n?d&&!c.initialHits.includes(t)||(o(u,c.interaction.filter(e=>!c.initialHits.includes(e))),n(e)):d&&c.initialHits.includes(t)&&o(u,c.interaction.filter(e=>!c.initialHits.includes(e)))}})}}}}const ae=e=>!(null==e||!e.render),oe=p.createContext(null),ie=(e,t)=>{const n=(0,g.createWithEqualityFn)((n,r)=>{const l=new h.Vector3,a=new h.Vector3,o=new h.Vector3;function i(e=r().camera,t=a,n=r().size){const{width:i,height:u,top:s,left:c}=n,f=i/u;t.isVector3?o.copy(t):o.set(...t);const d=e.getWorldPosition(l).distanceTo(o);if(P(e))return{width:i/e.zoom,height:u/e.zoom,top:s,left:c,factor:1,distance:d,aspect:f};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*d,r=n*(i/u);return{width:r,height:n,top:s,left:c,factor:i/r,distance:d,aspect:f}}}let u;const s=e=>n(t=>({performance:Object.assign({},t.performance,{current:e})})),c=new h.Vector2,f={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new h.Clock,pointer:c,mouse:c,frameloop:'always',onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();u&&clearTimeout(u),e.performance.current!==e.performance.min&&s(e.performance.min),u=setTimeout(()=>s(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:i},setEvents:e=>n(t=>Object.assign({},t,{events:Object.assign({},t.events,e)})),setSize:(e,t,l=0,o=0)=>{const u=r().camera,s={width:e,height:t,top:l,left:o};n(e=>({size:s,viewport:Object.assign({},e.viewport,i(u,a,s))}))},setDpr:e=>n(t=>{const n=O(e);return{viewport:Object.assign({},t.viewport,{dpr:n,initialDpr:t.viewport.initialDpr||n})}}),setFrameloop:(e="always")=>{const t=r().clock;t.stop(),t.elapsedTime=0,'never'!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:p.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,n)=>{const l=r().internal;return l.priority=l.priority+(t>0?1:0),l.subscribers.push({ref:e,priority:t,store:n}),l.subscribers=l.subscribers.sort((e,t)=>e.priority-t.priority),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return f}),r=n.getState();let l=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:e,size:t,viewport:r,gl:i,set:u}=n.getState();if(t.width!==l.width||t.height!==l.height||r.dpr!==a){l=t,a=r.dpr,J(e,t),r.dpr>0&&i.setPixelRatio(r.dpr);const n='undefined'!=typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,n)}e!==o&&(o=e,u(t=>({viewport:Object.assign({},t.viewport,t.viewport.getCurrentViewport(e))})))}),n.subscribe(t=>e(t)),n};function ue(e){const t=p.useRef(null);return p.useImperativeHandle(t,()=>e.current.__r3f,[e]),t}function se(){const e=p.useContext(oe);if(!e)throw new Error('R3F: Hooks can only be used within the Canvas component!');return e}function ce(e=e=>e,t){return se()(e,t)}function fe(e,t=0){const n=se(),r=n.getState().internal.subscribe,l=N(e);return j(()=>r(l,t,n),[t,r,n]),null}function de(e){return p.useMemo(()=>M(e),[e])}const pe=new WeakMap,me=e=>{var t;return'function'==typeof e&&(null==e||null==(t=e.prototype)?void 0:t.constructor)===e};function he(e,t){return function(n,...r){let l;return me(n)?(l=pe.get(n),l||(l=new n,pe.set(n,l))):l=n,e&&e(l),Promise.all(r.map(e=>new Promise((n,r)=>l.load(e,e=>{ee(null==e?void 0:e.scene)&&Object.assign(e,M(e.scene)),n(e)},t,t=>r(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function ge(e,t,n,r){const l=Array.isArray(t)?t:[t],a=(0,b.suspend)(he(n,r),[e,...l],{equal:R.equ});return Array.isArray(t)?a:a[0]}ge.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return(0,b.preload)(he(n),[e,...r])},ge.clear=function(e,t){const n=Array.isArray(t)?t:[t];return(0,b.clear)([e,...n])};
/**
   * @license React
   * react-reconciler-constants.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
const be=1;var ve,ye={exports:{}},Se={exports:{}};
/**
       * @license React
       * react-reconciler.production.js
       *
       * Copyright (c) Meta Platforms, Inc. and affiliates.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */var we;
/**
     * @license React
     * react-reconciler.development.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var ke,Ce=(we||(we=1,ye.exports=(ve||(ve=1,(ke=Se).exports=function(e){function t(e,t,n,r){return new Zl(e,t,n,r)}function n(){}function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(l(e)!==e)throw Error(r(188))}function o(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(null===i)break;var u=i.alternate;if(null===u){if(null!==(o=i.return)){n=o;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return a(i),e;if(u===o)return a(i),t;u=u.sibling}throw Error(r(188))}if(n.return!==o.return)n=i,o=u;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,o=u;break}if(c===o){s=!0,o=i,n=u;break}c=c.sibling}if(!s){for(c=u.child;c;){if(c===n){s=!0,n=u,o=i;break}if(c===o){s=!0,o=u,n=i;break}c=c.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function i(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=i(e)))return t;e=e.sibling}return null}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(4!==e.tag&&null!==(t=u(e)))return t;e=e.sibling}return null}function s(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Oa&&e[Oa]||e["@@iterator"])?e:null}function c(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===La?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case wa:return"Fragment";case Ca:return"Profiler";case ka:return"StrictMode";case Ea:return"Suspense";case ja:return"SuspenseList";case Ta:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case Sa:return"Portal";case Pa:return e.displayName||"Context";case za:return(e._context.displayName||"Context")+".Consumer";case xa:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Na:return null!==(t=e.displayName||null)?t:c(e.type)||"Memo";case _a:t=e._payload,e=e._init;try{return c(e(t))}catch{}}return null}function f(e){return{current:e}}function d(e){0>lu||(e.current=ru[lu],ru[lu]=null,lu--)}function p(e,t){lu++,ru[lu]=e.current,e.current=t}function h(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function g(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var l=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var i=134217727&r;return 0!==i?0!==(r=i&~a)?l=h(r):0!==(o&=i)?l=h(o):n||0!==(n=i&~e)&&(l=h(n)):0!==(i=r&~a)?l=h(i):0!==o?l=h(o):n||0!==(n=r&~e)&&(l=h(n)),0===l?0:0!==t&&t!==l&&0===(t&a)&&((a=l&-l)>=(n=t&-t)||32===a&&4194048&n)?t:l}function b(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function v(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function S(){var e=fu;return!(62914560&(fu<<=1))&&(fu=4194304),e}function w(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function k(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function C(e,t,n,r,l,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,u=e.expirationTimes,s=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-ou(n),f=1<<c;i[c]=0,u[c]=-1;var d=s[c];if(null!==d)for(s[c]=null,c=0;c<d.length;c++){var p=d[c];null!==p&&(p.lane&=-536870913)}n&=~f}0!==r&&z(e,r,0),0!==a&&0===l&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}function z(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ou(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function P(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ou(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}function x(e,t){var n=t&-t;return 0!==((n=42&n?1:E(n))&(e.suspendedLanes|t))?0:n}function E(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function j(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function N(e){if("function"==typeof wu&&ku(e),zu&&"function"==typeof zu.setStrictMode)try{zu.setStrictMode(Cu,e)}catch{}}function _(e){if(void 0===Oi)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Oi=t&&t[1]||"",Li=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Oi+e+Li}function T(e,t){if(!e||ju)return"";ju=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],i=a[1];if(o&&i){var u=o.split("\n"),s=i.split("\n");for(l=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;l<s.length&&!s[l].includes("DetermineComponentFrameRoot");)l++;if(r===u.length||l===s.length)for(r=u.length-1,l=s.length-1;1<=r&&0<=l&&u[r]!==s[l];)l--;for(;1<=r&&0<=l;r--,l--)if(u[r]!==s[l]){if(1!==r||1!==l)do{if(r--,0>--l||u[r]!==s[l]){var c="\n"+u[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=l);break}}}finally{ju=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_(n):""}function I(e,t){switch(e.tag){case 26:case 27:case 5:return _(e.type);case 16:return _("Lazy");case 13:return e.child!==t&&null!==t?_("Suspense Fallback"):_("Suspense");case 19:return _("SuspenseList");case 0:case 15:return T(e.type,!1);case 11:return T(e.type.render,!1);case 1:return T(e.type,!0);case 31:return _("Activity");default:return""}}function O(e){try{var t="",n=null;do{t+=I(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function L(e,t){if("object"==typeof e&&null!==e){var n=Nu.get(e);return void 0!==n?n:(t={value:e,source:t,stack:O(t)},Nu.set(e,t),t)}return{value:e,source:t,stack:O(t)}}function R(e,t){_u[Tu++]=Ou,_u[Tu++]=Iu,Iu=e,Ou=t}function M(e,t,n){Lu[Ru++]=Fu,Lu[Ru++]=Au,Lu[Ru++]=Mu,Mu=e;var r=Fu;e=Au;var l=32-ou(r)-1;r&=~(1<<l),n+=1;var a=32-ou(t)+l;if(30<a){var o=l-l%5;a=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Fu=1<<32-ou(t)+l|n<<l|r,Au=a+e}else Fu=1<<a|n<<l|r,Au=e}function F(e){null!==e.return&&(R(e,1),M(e,1,0))}function A(e){for(;e===Iu;)Iu=_u[--Tu],_u[Tu]=null,Ou=_u[--Tu],_u[Tu]=null;for(;e===Mu;)Mu=Lu[--Ru],Lu[Ru]=null,Au=Lu[--Ru],Lu[Ru]=null,Fu=Lu[--Ru],Lu[Ru]=null}function H(e,t){Lu[Ru++]=Fu,Lu[Ru++]=Au,Lu[Ru++]=Mu,Fu=t.id,Au=t.overflow,Mu=e}function U(e,t){p(Du,t),p(Uu,e),p(Hu,null),e=Da(t),d(Hu),p(Hu,e)}function D(){d(Hu),d(Uu),d(Du)}function Q(e){null!==e.memoizedState&&p(Qu,e);var t=Hu.current,n=Qa(t,e.type);t!==n&&(p(Uu,e),p(Hu,n))}function V(e){Uu.current===e&&(d(Hu),d(Uu)),Qu.current===e&&(d(Qu),Ja?yo._currentValue=vo:yo._currentValue2=vo)}function B(e){throw X(L(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),Gu}function $(e,t){if(!no)throw Error(r(175));gi(e.stateNode,e.type,e.memoizedProps,t,e)||B(e,!0)}function W(e){for(Vu=e.return;Vu;)switch(Vu.tag){case 5:case 31:case 13:return void(qu=!1);case 27:case 3:return void(qu=!0);default:Vu=Vu.return}}function q(e){if(!no||e!==Vu)return!1;if(!$u)return W(e),$u=!0,!1;var t=e.tag;if(Ki?3!==t&&27!==t&&(5!==t||Ii(e.type)&&!Ga(e.type,e.memoizedProps))&&Bu&&B(e):3!==t&&(5!==t||Ii(e.type)&&!Ga(e.type,e.memoizedProps))&&Bu&&B(e),W(e),13===t){if(!no)throw Error(r(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));Bu=wi(e)}else if(31===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));Bu=Si(e)}else Bu=Ki&&27===t?oi(e.type,Bu):Vu?ai(e.stateNode):null;return!0}function G(){no&&(Bu=Vu=null,$u=!1)}function Y(){var e=Wu;return null!==e&&(null===Ic?Ic=e:Ic.push.apply(Ic,e),Wu=null),e}function X(e){null===Wu?Wu=[e]:Wu.push(e)}function K(e,t,n){Ja?(p(Yu,t._currentValue),t._currentValue=n):(p(Yu,t._currentValue2),t._currentValue2=n)}function Z(e){var t=Yu.current;Ja?e._currentValue=t:e._currentValue2=t,d(Yu)}function J(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ee(e,t,n,l){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var i=a.child;o=o.firstContext;e:for(;null!==o;){var u=o;o=a;for(var s=0;s<t.length;s++)if(u.context===t[s]){o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),J(o.return,n,e),l||(i=null);break e}o=u.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(r(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),J(i,n,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function te(e,t,n,l){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(524288&a.flags)o=!0;else if(262144&a.flags)break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(r(387));if(null!==(i=i.memoizedProps)){var u=a.type;Pu(a.pendingProps.value,i.value)||(null!==e?e.push(u):e=[u])}}else if(a===Qu.current){if(null===(i=a.alternate))throw Error(r(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(yo):e=[yo])}a=a.return}null!==e&&ee(t,e,n,l),t.flags|=262144}function ne(e){for(e=e.firstContext;null!==e;){var t=e.context;if(!Pu(Ja?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function re(e){Xu=e,Ku=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function le(e){return oe(Xu,e)}function ae(e,t){return null===Xu&&re(e),oe(e,t)}function oe(e,t){var n=Ja?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:n,next:null},null===Ku){if(null===e)throw Error(r(308));Ku=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ku=Ku.next=t;return n}function ie(){return{controller:new Zu,data:new Map,refCount:0}}function ue(e){e.refCount--,0===e.refCount&&Ju(es,function(){e.controller.abort()})}function se(){}function ce(e){e!==rs&&null===e.next&&(null===rs?ns=rs=e:rs=rs.next=e),as=!0,ls||(ls=!0,wo?ko(function(){6&hc?du(bu,de):pe()}):du(bu,de))}function fe(e,t){if(!os&&as){os=!0;do{for(var n=!1,r=ns;null!==r;){if(!t)if(0!==e){var l=r.pendingLanes;if(0===l)var a=0;else{var o=r.suspendedLanes,i=r.pingedLanes;a=(1<<31-ou(42|e)+1)-1,a=201326741&(a&=l&~(o&~i))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,ge(r,a))}else a=vc,!(3&(a=g(r,r===gc?a:0,null!==r.cancelPendingCommit||r.timeoutHandle!==Za)))||b(r,a)||(n=!0,ge(r,a));r=r.next}}while(n);os=!1}}function de(){pe()}function pe(){as=ls=!1;var e=0;0!==is&&uo()&&(e=is);for(var t=gu(),n=null,r=ns;null!==r;){var l=r.next,a=me(r,t);0===a?(r.next=null,null===n?ns=l:n.next=l,null===l&&(rs=n)):(n=r,(0!==e||!!(3&a))&&(as=!0)),r=l}0!==Hc&&5!==Hc||fe(e,!1),0!==is&&(is=0)}function me(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-ou(a),i=1<<o,u=l[o];-1===u?(0===(i&n)||0!==(i&r))&&(l[o]=v(i,t)):u<=t&&(e.expiredLanes|=i),a&=~i}if(n=vc,n=g(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||e.timeoutHandle!==Za),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&pu(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||b(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&pu(r),j(n)){case 2:case 8:n=vu;break;case 32:default:n=yu;break;case 268435456:n=Su}return r=he.bind(null,e),n=du(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&pu(r),e.callbackPriority=2,e.callbackNode=null,2}function he(e,t){if(0!==Hc&&5!==Hc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ql()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=g(e,e===gc?r:0,null!==e.cancelPendingCommit||e.timeoutHandle!==Za))?null:(gl(e,r,t),me(e,gu()),null!=e.callbackNode&&e.callbackNode===n?he.bind(null,e):null)}function ge(e,t){if(Ql())return null;gl(e,t,!0)}function be(){if(0===is){var e=cs;0===e&&(e=su,!(261888&(su<<=1))&&(su=256)),is=e}return is}function ve(e,t){if(null===us){var n=us=[];ss=0,cs=be(),fs={status:"pending",value:void 0,then:function(e){n.push(e)}}}return ss++,t.then(ye,ye),t}function ye(){if(0===--ss&&null!==us){null!==fs&&(fs.status="fulfilled");var e=us;us=null,cs=0,fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Se(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}function we(){var e=ps.current;return null!==e?e:gc.pooledCache}function ke(e,t){p(ps,null===t?ps.current:t.pool)}function Ce(){var e=we();return null===e?null:{parent:Ja?ts._currentValue:ts._currentValue2,pool:e}}function ze(e,t){if(Pu(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Eu.call(t,l)||!Pu(e[l],t[l]))return!1}return!0}function Pe(e){return"fulfilled"===(e=e.status)||"rejected"===e}function xe(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(se,se),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw Ne(e=t.reason),e;default:if("string"==typeof t.status)t.then(se,se);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw Ne(e=t.reason),e}throw vs=t,ms}}function Ee(e){try{return(0,e._init)(e._payload)}catch(e){throw null!==e&&"object"==typeof e&&"function"==typeof e.then?(vs=e,ms):e}}function je(){if(null===vs)throw Error(r(459));var e=vs;return vs=null,e}function Ne(e){if(e===ms||e===gs)throw Error(r(483))}function _e(e){var t=Ss;return Ss+=1,null===ys&&(ys=[]),xe(ys,e,t)}function Te(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ie(e,t){throw t.$$typeof===va?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Oe(e){function n(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function l(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=ea(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=la(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n,r){var l=n.type;return l===wa?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===_a&&Ee(l)===t.type)?(Te(t=o(t,n.props),n),t.return=e,t):(Te(t=na(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=oa(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function p(e,t,n,r,l){return null===t||7!==t.tag?((t=ra(n,e.mode,r,l)).return=e,t):((t=o(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=la(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ya:return Te(n=na(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case Sa:return(t=oa(t,e.mode,n)).return=e,t;case _a:return m(e,t=Ee(t),n)}if(Ra(t)||s(t))return(t=ra(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,_e(t),n);if(t.$$typeof===Pa)return m(e,ae(e,t),n);Ie(e,t)}return null}function h(e,t,n,r){var l=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==l?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ya:return n.key===l?f(e,t,n,r):null;case Sa:return n.key===l?d(e,t,n,r):null;case _a:return h(e,t,n=Ee(n),r)}if(Ra(n)||s(n))return null!==l?null:p(e,t,n,r,null);if("function"==typeof n.then)return h(e,t,_e(n),r);if(n.$$typeof===Pa)return h(e,t,ae(e,n),r);Ie(e,n)}return null}function g(e,t,n,r,l){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return c(t,e=e.get(n)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ya:return f(t,e=e.get(null===r.key?n:r.key)||null,r,l);case Sa:return d(t,e=e.get(null===r.key?n:r.key)||null,r,l);case _a:return g(e,t,n,r=Ee(r),l)}if(Ra(r)||s(r))return p(t,e=e.get(n)||null,r,l,null);if("function"==typeof r.then)return g(e,t,n,_e(r),l);if(r.$$typeof===Pa)return g(e,t,n,ae(t,r),l);Ie(t,r)}return null}function b(t,r,o,u){for(var s=null,c=null,f=r,d=r=0,p=null;null!==f&&d<o.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var b=h(t,f,o[d],u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&n(t,f),r=i(b,r,d),null===c?s=b:c.sibling=b,c=b,f=p}if(d===o.length)return l(t,f),$u&&R(t,d),s;if(null===f){for(;d<o.length;d++)null!==(f=m(t,o[d],u))&&(r=i(f,r,d),null===c?s=f:c.sibling=f,c=f);return $u&&R(t,d),s}for(f=a(f);d<o.length;d++)null!==(p=g(f,t,d,o[d],u))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),r=i(p,r,d),null===c?s=p:c.sibling=p,c=p);return e&&f.forEach(function(e){return n(t,e)}),$u&&R(t,d),s}function v(t,o,u,s){if(null==u)throw Error(r(151));for(var c=null,f=null,d=o,p=o=0,b=null,v=u.next();null!==d&&!v.done;p++,v=u.next()){d.index>p?(b=d,d=null):b=d.sibling;var y=h(t,d,v.value,s);if(null===y){null===d&&(d=b);break}e&&d&&null===y.alternate&&n(t,d),o=i(y,o,p),null===f?c=y:f.sibling=y,f=y,d=b}if(v.done)return l(t,d),$u&&R(t,p),c;if(null===d){for(;!v.done;p++,v=u.next())null!==(v=m(t,v.value,s))&&(o=i(v,o,p),null===f?c=v:f.sibling=v,f=v);return $u&&R(t,p),c}for(d=a(d);!v.done;p++,v=u.next())null!==(v=g(d,t,p,v.value,s))&&(e&&null!==v.alternate&&d.delete(null===v.key?p:v.key),o=i(v,o,p),null===f?c=v:f.sibling=v,f=v);return e&&d.forEach(function(e){return n(t,e)}),$u&&R(t,p),c}function y(e,t,a,i){if("object"==typeof a&&null!==a&&a.type===wa&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case ya:e:{for(var c=a.key;null!==t;){if(t.key===c){if((c=a.type)===wa){if(7===t.tag){l(e,t.sibling),(i=o(t,a.props.children)).return=e,e=i;break e}}else if(t.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===_a&&Ee(c)===t.type){l(e,t.sibling),Te(i=o(t,a.props),a),i.return=e,e=i;break e}l(e,t);break}n(e,t),t=t.sibling}a.type===wa?((i=ra(a.props.children,e.mode,i,a.key)).return=e,e=i):(Te(i=na(a.type,a.key,a.props,null,e.mode,i),a),i.return=e,e=i)}return u(e);case Sa:e:{for(c=a.key;null!==t;){if(t.key===c){if(4===t.tag&&t.stateNode.containerInfo===a.containerInfo&&t.stateNode.implementation===a.implementation){l(e,t.sibling),(i=o(t,a.children||[])).return=e,e=i;break e}l(e,t);break}n(e,t),t=t.sibling}(i=oa(a,e.mode,i)).return=e,e=i}return u(e);case _a:return y(e,t,a=Ee(a),i)}if(Ra(a))return b(e,t,a,i);if(s(a)){if("function"!=typeof(c=s(a)))throw Error(r(150));return v(e,t,a=c.call(a),i)}if("function"==typeof a.then)return y(e,t,_e(a),i);if(a.$$typeof===Pa)return y(e,t,ae(e,a),i);Ie(e,a)}return"string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a?(a=""+a,null!==t&&6===t.tag?(l(e,t.sibling),(i=o(t,a)).return=e,e=i):(l(e,t),(i=la(a,e.mode,i)).return=e,e=i),u(e)):l(e,t)}return function(e,n,r,l){try{Ss=0;var a=y(e,n,r,l);return ys=null,a}catch(n){if(n===ms||n===gs)throw n;var o=t(29,n,null,e.mode);return o.lanes=l,o.return=e,o}}}function Le(){for(var e=zs,t=Ps=zs=0;t<e;){var n=Cs[t];Cs[t++]=null;var r=Cs[t];Cs[t++]=null;var l=Cs[t];Cs[t++]=null;var a=Cs[t];if(Cs[t++]=null,null!==r&&null!==l){var o=r.pending;null===o?l.next=l:(l.next=o.next,o.next=l),r.pending=l}0!==a&&Ae(n,l,a)}}function Re(e,t,n,r){Cs[zs++]=e,Cs[zs++]=t,Cs[zs++]=n,Cs[zs++]=r,Ps|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Me(e,t,n,r){return Re(e,t,n,r),He(e)}function Fe(e,t){return Re(e,null,null,t),He(e)}function Ae(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var l=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(l=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,l&&null!==t&&(l=31-ou(n),null===(r=(e=a.hiddenUpdates)[l])?e[l]=[t]:r.push(t),t.lane=536870912|n),a):null}function He(e){if(50<Wc)throw Wc=0,qc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}function Ue(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function De(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qe(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ve(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&hc){var l=r.pending;return null===l?t.next=t:(t.next=l.next,l.next=t),r.pending=t,t=He(e),Ae(e,null,n),t}return Re(e,r,t,n),He(e)}function Be(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,P(e,n)}}function $e(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var l=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?l=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?l=a=t:a=a.next=t}else l=a=t;return n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function We(){if(Es&&null!==fs)throw fs}function qe(e,t,n,r){Es=!1;var l=e.updateQueue;xs=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(null!==i){l.shared.pending=null;var u=i,s=u.next;u.next=null,null===o?a=s:o.next=s,o=u;var c=e.alternate;null!==c&&(i=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===i?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=u)}if(null!==a){var f=l.baseState;for(o=0,c=s=u=null,i=a;;){var d=-536870913&i.lane,p=d!==i.lane;if(p?(vc&d)===d:(r&d)===d){0!==d&&d===cs&&(Es=!0),null!==c&&(c=c.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var m=e,h=i;d=t;var g=n;switch(h.tag){case 1:if("function"==typeof(m=h.payload)){f=m.call(g,f,d);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(d="function"==typeof(m=h.payload)?m.call(g,f,d):m))break e;f=ba({},f,d);break e;case 2:xs=!0}}null!==(d=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=l.callbacks)?l.callbacks=[d]:p.push(d))}else p={lane:d,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(s=c=p,u=f):c=c.next=p,o|=d;if(null===(i=i.next)){if(null===(i=l.shared.pending))break;i=(p=i).next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}null===c&&(u=f),l.baseState=u,l.firstBaseUpdate=s,l.lastBaseUpdate=c,null===a&&(l.shared.lanes=0),xc|=o,e.lanes=o,e.memoizedState=f}}function Ge(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ye(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ge(n[e],t)}function Xe(e,t){p(Ns,e=zc),p(js,t),zc=e|t.baseLanes}function Ke(){p(Ns,zc),p(js,js.current)}function Ze(){zc=Ns.current,d(js),d(Ns)}function Je(e){var t=e.alternate;p(Is,1&Is.current),p(_s,e),null===Ts&&(null===t||null!==js.current||null!==t.memoizedState)&&(Ts=e)}function et(e){p(Is,Is.current),p(_s,e),null===Ts&&(Ts=e)}function tt(e){22===e.tag?(p(Is,Is.current),p(_s,e),null===Ts&&(Ts=e)):nt()}function nt(){p(Is,Is.current),p(_s,_s.current)}function rt(e){d(_s),Ts===e&&(Ts=null),d(Is)}function lt(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Jo(n)||ei(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function at(){throw Error(r(321))}function ot(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pu(e[n],t[n]))return!1;return!0}function it(e,t,n,r,l,a){return Os=a,Ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ma.H=null===e||null===e.memoizedState?$s:Ws,Hs=!1,a=n(r,l),Hs=!1,As&&(a=st(t,n,r,l)),ut(e),a}function ut(e){Ma.H=Bs;var t=null!==Rs&&null!==Rs.next;if(Os=0,Ms=Rs=Ls=null,Fs=!1,Ds=0,Qs=null,t)throw Error(r(300));null===e||Xs||null!==(e=e.dependencies)&&ne(e)&&(Xs=!0)}function st(e,t,n,l){Ls=e;var a=0;do{if(As&&(Qs=null),Ds=0,As=!1,25<=a)throw Error(r(301));if(a+=1,Ms=Rs=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}Ma.H=qs,o=t(n,l)}while(As);return o}function ct(){var e=Ma.H,t=e.useState()[0];return t="function"==typeof t.then?gt(t):t,e=e.useState()[0],(null!==Rs?Rs.memoizedState:null)!==e&&(Ls.flags|=1024),t}function ft(){var e=0!==Us;return Us=0,e}function dt(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function pt(e){if(Fs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Fs=!1}Os=0,Ms=Rs=Ls=null,As=!1,Ds=Us=0,Qs=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ms?Ls.memoizedState=Ms=e:Ms=Ms.next=e,Ms}function ht(){if(null===Rs){var e=Ls.alternate;e=null!==e?e.memoizedState:null}else e=Rs.next;var t=null===Ms?Ls.memoizedState:Ms.next;if(null!==t)Ms=t,Rs=e;else{if(null===e)throw null===Ls.alternate?Error(r(467)):Error(r(310));e={memoizedState:(Rs=e).memoizedState,baseState:Rs.baseState,baseQueue:Rs.baseQueue,queue:Rs.queue,next:null},null===Ms?Ls.memoizedState=Ms=e:Ms=Ms.next=e}return Ms}function gt(e){var t=Ds;return Ds+=1,null===Qs&&(Qs=[]),e=xe(Qs,e,t),t=Ls,null===(null===Ms?t.memoizedState:Ms.next)&&(t=t.alternate,Ma.H=null===t||null===t.memoizedState?$s:Ws),e}function bt(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return gt(e);if(e.$$typeof===Pa)return le(e)}throw Error(r(438,String(e)))}function vt(e){var t=null,n=Ls.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ls.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ls.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=Ia;return t.index++,n}function yt(e,t){return"function"==typeof t?t(e):t}function St(e){return wt(ht(),Rs,e)}function wt(e,t,n){var l=e.queue;if(null===l)throw Error(r(311));l.lastRenderedReducer=n;var a=e.baseQueue,o=l.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}t.baseQueue=a=o,l.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var u=i=null,s=null,c=t=a.next,f=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(vc&d)===d:(Os&d)===d){var p=c.revertLane;if(0===p)null!==s&&(s=s.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===cs&&(f=!0);else{if((Os&p)===p){c=c.next,p===cs&&(f=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===s?(u=s=d,i=o):s=s.next=d,Ls.lanes|=p,xc|=p}d=c.action,Hs&&n(o,d),o=c.hasEagerState?c.eagerState:n(o,d)}else p={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===s?(u=s=p,i=o):s=s.next=p,Ls.lanes|=d,xc|=d;c=c.next}while(null!==c&&c!==t);if(null===s?i=o:s.next=u,!Pu(o,e.memoizedState)&&(Xs=!0,f&&null!==(n=fs)))throw n;e.memoizedState=o,e.baseState=i,e.baseQueue=s,l.lastRenderedState=o}return null===a&&(l.lanes=0),[e.memoizedState,l.dispatch]}function kt(e){var t=ht(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);Pu(o,t.memoizedState)||(Xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Ct(e,t,n){var l=Ls,a=ht(),o=$u;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var i=!Pu((Rs||a).memoizedState,n);if(i&&(a.memoizedState=n,Xs=!0),a=a.queue,Gt(xt.bind(null,l,a,e),[e]),a.getSnapshot!==t||i||null!==Ms&&1&Ms.memoizedState.tag){if(l.flags|=2048,Vt(9,{destroy:void 0},Pt.bind(null,l,a,n,t),null),null===gc)throw Error(r(349));o||127&Os||zt(l,t,n)}return n}function zt(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ls.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pt(e,t,n,r){t.value=n,t.getSnapshot=r,Et(t)&&jt(e)}function xt(e,t,n){return n(function(){Et(t)&&jt(e)})}function Et(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pu(e,n)}catch{return!0}}function jt(e){var t=Fe(e,2);null!==t&&hl(t,0,2)}function Nt(e){var t=mt();if("function"==typeof e){var n=e;if(e=n(),Hs){N(!0);try{n()}finally{N(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yt,lastRenderedState:e},t}function _t(e,t,n,r){return e.baseState=n,wt(e,Rs,"function"==typeof r?r:yt)}function Tt(e,t,n,l,a){if(bn(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==Ma.T?n(!0):o.isTransition=!1,l(o),null===(n=t.pending)?(o.next=t.pending=o,It(t,o)):(o.next=n.next,t.pending=n.next=o)}}function It(e,t){var n=t.action,r=t.payload,l=e.state;if(t.isTransition){var a=Ma.T,o={};Ma.T=o;try{var i=n(l,r),u=Ma.S;null!==u&&u(o,i),Ot(e,t,i)}catch(n){Rt(e,t,n)}finally{null!==a&&null!==o.types&&(a.types=o.types),Ma.T=a}}else try{Ot(e,t,a=n(l,r))}catch(n){Rt(e,t,n)}}function Ot(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Lt(e,t,n)},function(n){return Rt(e,t,n)}):Lt(e,t,n)}function Lt(e,t,n){t.status="fulfilled",t.value=n,Mt(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,It(e,n)))}function Rt(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Mt(t),t=t.next}while(t!==r)}e.action=null}function Mt(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ft(e,t){return t}function At(e,t){if($u){var n=gc.formState;if(null!==n){e:{var r=Ls;if($u){if(Bu){var l=ri(Bu,qu);if(l){Bu=ai(l),r=li(l);break e}}B(r)}r=!1}r&&(t=n[0])}}(n=mt()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:t},n.queue=r,n=mn.bind(null,Ls,r),r.dispatch=n,r=Nt(!1);var a=gn.bind(null,Ls,!1,r.queue);return l={state:t,dispatch:null,action:e,pending:null},(r=mt()).queue=l,n=Tt.bind(null,Ls,l,a,n),l.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ht(e){return Ut(ht(),Rs,e)}function Ut(e,t,n){if(t=wt(e,t,Ft)[0],e=St(yt)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=gt(t)}catch(e){throw e===ms?gs:e}else r=t;var l=(t=ht()).queue,a=l.dispatch;return n!==t.memoizedState&&(Ls.flags|=2048,Vt(9,{destroy:void 0},Dt.bind(null,l,n),null)),[r,a,e]}function Dt(e,t){e.action=t}function Qt(e){var t=ht(),n=Rs;if(null!==n)return Ut(t,n,e);ht(),t=t.memoizedState;var r=(n=ht()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Vt(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ls.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ls.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bt(){return ht().memoizedState}function $t(e,t,n,r){var l=mt();Ls.flags|=e,l.memoizedState=Vt(1|t,{destroy:void 0},n,void 0===r?null:r)}function Wt(e,t,n,r){var l=ht();r=void 0===r?null:r;var a=l.memoizedState.inst;null!==Rs&&null!==r&&ot(r,Rs.memoizedState.deps)?l.memoizedState=Vt(t,a,n,r):(Ls.flags|=e,l.memoizedState=Vt(1|t,a,n,r))}function qt(e,t){$t(8390656,8,e,t)}function Gt(e,t){Wt(2048,8,e,t)}function Yt(e){Ls.flags|=4;var t=Ls.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ls.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}function Xt(e){var t=ht().memoizedState;return Yt({ref:t,nextImpl:e}),function(){if(2&hc)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Kt(e,t){return Wt(4,2,e,t)}function Zt(e,t){return Wt(4,4,e,t)}function Jt(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function en(e,t,n){n=null!=n?n.concat([e]):null,Wt(4,4,Jt.bind(null,t,e),n)}function tn(){}function nn(e,t){var n=ht();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ot(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rn(e,t){var n=ht();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ot(t,r[1]))return r[0];if(r=e(),Hs){N(!0);try{e()}finally{N(!1)}}return n.memoizedState=[r,t],r}function ln(e,t,n){return void 0===n||1073741824&Os&&!(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=ml(),Ls.lanes|=e,xc|=e,n)}function an(e,t,n,r){return Pu(n,t)?n:null!==js.current?(e=ln(e,n,r),Pu(e,t)||(Xs=!0),e):42&Os&&(!(1073741824&Os)||261930&vc)?(e=ml(),Ls.lanes|=e,xc|=e,t):(Xs=!0,e.memoizedState=n)}function on(e,t,n,r,l){var a=oo();ao(0!==a&&8>a?a:8);var o=Ma.T,i={};Ma.T=i,gn(e,!1,t,n);try{var u=l(),s=Ma.S;null!==s&&s(i,u),null!==u&&"object"==typeof u&&"function"==typeof u.then?hn(e,t,Se(u,r),pl()):hn(e,t,r,pl())}catch(n){hn(e,t,{then:function(){},status:"rejected",reason:n},pl())}finally{ao(a),null!==o&&null!==i.types&&(o.types=i.types),Ma.T=o}}function un(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:vo,baseState:vo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yt,lastRenderedState:vo},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yt,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function sn(){return le(yo)}function cn(){return ht().memoizedState}function fn(){return ht().memoizedState}function dn(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=pl(),r=Ve(t,e=Qe(n),n);return null!==r&&(hl(r,0,n),Be(r,t,n)),t={cache:ie()},void(e.payload=t)}t=t.return}}function pn(e,t,n){var r=pl();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},bn(e)?vn(t,n):null!==(n=Me(e,t,n,r))&&(hl(n,0,r),yn(n,t,r))}function mn(e,t,n){hn(e,t,n,pl())}function hn(e,t,n,r){var l={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(bn(e))vn(t,l);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=a(o,n);if(l.hasEagerState=!0,l.eagerState=i,Pu(i,o))return Re(e,t,l,0),null===gc&&Le(),!1}catch{}if(null!==(n=Me(e,t,l,r)))return hl(n,0,r),yn(n,t,r),!0}return!1}function gn(e,t,n,l){if(l={lane:2,revertLane:be(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bn(e)){if(t)throw Error(r(479))}else null!==(t=Me(e,n,l,2))&&hl(t,0,2)}function bn(e){var t=e.alternate;return e===Ls||null!==t&&t===Ls}function vn(e,t){As=Fs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yn(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,P(e,n)}}function Sn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:ba({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function wn(e,t,n,r,l,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&ze(n,r)&&ze(l,a))}function kn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gs.enqueueReplaceState(t,t.state,null)}function Cn(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var l in n===t&&(n=ba({},n)),e)void 0===n[l]&&(n[l]=e[l]);return n}function zn(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Pn(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function xn(e,t,n){return(n=Qe(n)).tag=3,n.payload={element:null},n.callback=function(){zn(e,t)},n}function En(e){return(e=Qe(e)).tag=3,e}function jn(e,t,n,r){var l=n.type.getDerivedStateFromError;if("function"==typeof l){var a=r.value;e.payload=function(){return l(a)},e.callback=function(){Pn(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Pn(t,n,r),"function"!=typeof l&&(null===Ac?Ac=new Set([this]):Ac.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}function Nn(e,t,n,l,a){if(n.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){if(null!==(t=n.alternate)&&te(t,n,a,!0),null!==(n=_s.current)){switch(n.tag){case 31:case 13:return null===Ts?El():null===n.alternate&&0===Pc&&(Pc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,l===bs?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([l]):t.add(l),Wl(e,l,a)),!1;case 22:return n.flags|=65536,l===bs?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([l]):n.add(l),Wl(e,l,a)),!1}throw Error(r(435,n.tag))}return Wl(e,l,a),El(),!1}if($u)return null!==(t=_s.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,l!==Gu&&X(L(e=Error(r(422),{cause:l}),n))):(l!==Gu&&X(L(t=Error(r(423),{cause:l}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,l=L(l,n),$e(e,a=xn(e.stateNode,l,a)),4!==Pc&&(Pc=2)),!1;var o=Error(r(520),{cause:l});if(o=L(o,n),null===Tc?Tc=[o]:Tc.push(o),4!==Pc&&(Pc=2),null===t)return!0;l=L(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,$e(n,e=xn(n.stateNode,l,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Ac&&Ac.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,jn(a=En(a),e,n,l),$e(n,a),!1}n=n.return}while(null!==n);return!1}function _n(e,t,n,r){t.child=null===e?ks(t,null,n,r):ws(t,e.child,n,r)}function Tn(e,t,n,r,l){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var i in r)"ref"!==i&&(o[i]=r[i])}else o=r;return re(t),r=it(e,t,n,o,a,l),i=ft(),null===e||Xs?($u&&i&&F(t),t.flags|=1,_n(e,t,r,l),t.child):(dt(e,t,l),er(e,t,l))}function In(e,t,n,r,l){if(null===e){var a=n.type;return"function"!=typeof a||Jl(a)||void 0!==a.defaultProps||null!==n.compare?((e=na(n.type,null,r,t,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,On(e,t,a,r,l))}if(a=e.child,!tr(e,l)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ze)(o,r)&&e.ref===t.ref)return er(e,t,l)}return t.flags|=1,(e=ea(a,r)).ref=t.ref,e.return=t,t.child=e}function On(e,t,n,r,l){if(null!==e){var a=e.memoizedProps;if(ze(a,r)&&e.ref===t.ref){if(Xs=!1,t.pendingProps=r=a,!tr(e,l))return t.lanes=e.lanes,er(e,t,l);131072&e.flags&&(Xs=!0)}}return Dn(e,t,n,r,l)}function Ln(e,t,n,r){var l=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,l=0;null!==r;)l=l|r.lanes|r.childLanes,r=r.sibling;r=l&~a}else r=0,t.child=null;return Mn(e,t,a,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Mn(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ke(0,null!==a?a.cachePool:null),null!==a?Xe(t,a):Ke(),tt(t)}else null!==a?(ke(0,a.cachePool),Xe(t,a),nt(),t.memoizedState=null):(null!==e&&ke(0,null),Ke(),nt());return _n(e,t,l,n),t.child}function Rn(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Mn(e,t,n,r,l){var a=we();return a=null===a?null:{parent:Ja?ts._currentValue:ts._currentValue2,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&ke(0,null),Ke(),tt(t),null!==e&&te(e,t,r,!0),t.childLanes=l,null}function Fn(e,t){return(t=Yn({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function An(e,t,n){return ws(t,e.child,null,n),(e=Fn(t,t.pendingProps)).flags|=2,rt(t),t.memoizedState=null,e}function Hn(e,t,n){var l=t.pendingProps,a=!!(128&t.flags);if(t.flags&=-129,null===e){if($u){if("hidden"===l.mode)return e=Fn(t,l),t.lanes=536870912,Rn(null,e);if(et(t),(e=Bu)?null!==(e=mi(e,qu))&&(t.memoizedState={dehydrated:e,treeContext:null!==Mu?{id:Fu,overflow:Au}:null,retryLane:536870912,hydrationErrors:null},(n=aa(e)).return=t,t.child=n,Vu=t,Bu=null):e=null,null===e)throw B(t);return t.lanes=536870912,null}return Fn(t,l)}var o=e.memoizedState;if(null!==o){var i=o.dehydrated;if(et(t),a)if(256&t.flags)t.flags&=-257,t=An(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Xs||te(e,t,n,!1),a=0!==(n&e.childLanes),Xs||a){if(null!==(l=gc)&&0!==(i=x(l,n))&&i!==o.retryLane)throw o.retryLane=i,Fe(e,i),hl(l,0,i),Ys;El(),t=An(e,t,n)}else e=o.treeContext,no&&(Bu=si(i),Vu=t,$u=!0,Wu=null,qu=!1,null!==e&&H(t,e)),(t=Fn(t,l)).flags|=4096;return t}return(e=ea(e.child,{mode:l.mode,children:l.children})).ref=t.ref,t.child=e,e.return=t,e}function Un(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function Dn(e,t,n,r,l){return re(t),n=it(e,t,n,r,void 0,l),r=ft(),null===e||Xs?($u&&r&&F(t),t.flags|=1,_n(e,t,n,l),t.child):(dt(e,t,l),er(e,t,l))}function Qn(e,t,n,r,l,a){return re(t),t.updateQueue=null,n=st(t,r,n,l),ut(e),r=ft(),null===e||Xs?($u&&r&&F(t),t.flags|=1,_n(e,t,n,a),t.child):(dt(e,t,a),er(e,t,a))}function Vn(e,t,n,r,l){if(re(t),null===t.stateNode){var a=au,o=n.contextType;"object"==typeof o&&null!==o&&(a=le(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Gs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},Ue(t),o=n.contextType,a.context="object"==typeof o&&null!==o?le(o):au,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(Sn(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&Gs.enqueueReplaceState(a,a.state,null),qe(t,r,a,l),We(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var i=t.memoizedProps,u=Cn(n,i);a.props=u;var s=a.context,c=n.contextType;o=au,"object"==typeof c&&null!==c&&(o=le(c));var f=n.getDerivedStateFromProps;c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate,i=t.pendingProps!==i,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||s!==o)&&kn(t,a,r,o),xs=!1;var d=t.memoizedState;a.state=d,qe(t,r,a,l),We(),s=t.memoizedState,i||d!==s||xs?("function"==typeof f&&(Sn(t,n,f,r),s=t.memoizedState),(u=xs||wn(t,n,u,r,d,s,o))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=o,r=u):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,De(e,t),c=Cn(n,o=t.memoizedProps),a.props=c,f=t.pendingProps,d=a.context,s=n.contextType,u=au,"object"==typeof s&&null!==s&&(u=le(s)),(s="function"==typeof(i=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==f||d!==u)&&kn(t,a,r,u),xs=!1,d=t.memoizedState,a.state=d,qe(t,r,a,l),We();var p=t.memoizedState;o!==f||d!==p||xs||null!==e&&null!==e.dependencies&&ne(e.dependencies)?("function"==typeof i&&(Sn(t,n,i,r),p=t.memoizedState),(c=xs||wn(t,n,c,r,d,p,u)||null!==e&&null!==e.dependencies&&ne(e.dependencies))?(s||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Un(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ws(t,e.child,null,l),t.child=ws(t,null,n,l)):_n(e,t,n,l),t.memoizedState=a.state,e=t.child):e=er(e,t,l),e}function Bn(e,t,n,r){return G(),t.flags|=256,_n(e,t,n,r),t.child}function $n(e){return{baseLanes:e,cachePool:Ce()}}function Wn(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Nc),e}function qn(e,t,n){var l,a=t.pendingProps,o=!1,i=!!(128&t.flags);if((l=i)||(l=(null===e||null!==e.memoizedState)&&!!(2&Is.current)),l&&(o=!0,t.flags&=-129),l=!!(32&t.flags),t.flags&=-33,null===e){if($u){if(o?Je(t):nt(),(e=Bu)?null!==(e=hi(e,qu))&&(t.memoizedState={dehydrated:e,treeContext:null!==Mu?{id:Fu,overflow:Au}:null,retryLane:536870912,hydrationErrors:null},(n=aa(e)).return=t,t.child=n,Vu=t,Bu=null):e=null,null===e)throw B(t);return ei(e)?t.lanes=32:t.lanes=536870912,null}var u=a.children;return a=a.fallback,o?(nt(),u=Yn({mode:"hidden",children:u},o=t.mode),a=ra(a,o,n,null),u.return=t,a.return=t,u.sibling=a,t.child=u,(a=t.child).memoizedState=$n(n),a.childLanes=Wn(e,l,n),t.memoizedState=Ks,Rn(null,a)):(Je(t),Gn(t,u))}var s=e.memoizedState;if(null!==s&&null!==(u=s.dehydrated)){if(i)256&t.flags?(Je(t),t.flags&=-257,t=Xn(e,t,n)):null!==t.memoizedState?(nt(),t.child=e.child,t.flags|=128,t=null):(nt(),u=a.fallback,o=t.mode,a=Yn({mode:"visible",children:a.children},o),(u=ra(u,o,n,null)).flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,ws(t,e.child,null,n),(a=t.child).memoizedState=$n(n),a.childLanes=Wn(e,l,n),t.memoizedState=Ks,t=Rn(null,a));else if(Je(t),ei(u))l=ti(u).digest,(a=Error(r(419))).stack="",a.digest=l,X({value:a,source:null,stack:null}),t=Xn(e,t,n);else if(Xs||te(e,t,n,!1),l=0!==(n&e.childLanes),Xs||l){if(null!==(l=gc)&&0!==(a=x(l,n))&&a!==s.retryLane)throw s.retryLane=a,Fe(e,a),hl(l,0,a),Ys;Jo(u)||El(),t=Xn(e,t,n)}else Jo(u)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,no&&(Bu=ci(u),Vu=t,$u=!0,Wu=null,qu=!1,null!==e&&H(t,e)),(t=Gn(t,a.children)).flags|=4096);return t}return o?(nt(),u=a.fallback,o=t.mode,i=(s=e.child).sibling,(a=ea(s,{mode:"hidden",children:a.children})).subtreeFlags=65011712&s.subtreeFlags,null!==i?u=ea(i,u):(u=ra(u,o,n,null)).flags|=2,u.return=t,a.return=t,a.sibling=u,t.child=a,Rn(null,a),a=t.child,null===(u=e.child.memoizedState)?u=$n(n):(null!==(o=u.cachePool)?(s=Ja?ts._currentValue:ts._currentValue2,o=o.parent!==s?{parent:s,pool:s}:o):o=Ce(),u={baseLanes:u.baseLanes|n,cachePool:o}),a.memoizedState=u,a.childLanes=Wn(e,l,n),t.memoizedState=Ks,Rn(e.child,a)):(Je(t),e=(n=e.child).sibling,(n=ea(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(l=t.deletions)?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function Gn(e,t){return(t=Yn({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Yn(e,n){return(e=t(22,e,null,n)).lanes=0,e}function Xn(e,t,n){return ws(t,e.child,null,n),(e=Gn(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Kn(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),J(e.return,t,n)}function Zn(e,t,n,r,l,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l,o.treeForkCount=a)}function Jn(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;r=r.children;var o=Is.current,i=!!(2&o);if(i?(o=1&o|2,t.flags|=128):o&=1,p(Is,o),_n(e,t,r,n),r=$u?Ou:0,!i&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Kn(e,n,t);else if(19===e.tag)Kn(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;null!==n;)null!==(e=n.alternate)&&null===lt(e)&&(l=n),n=n.sibling;null===(n=l)?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Zn(t,!1,l,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===lt(e)){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Zn(t,!0,n,null,a,r);break;case"together":Zn(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function er(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),xc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(te(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=ea(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ea(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function tr(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ne(e))}function nr(e,t,n){switch(t.tag){case 3:U(t,t.stateNode.containerInfo),K(0,ts,e.memoizedState.cache),G();break;case 27:case 5:Q(t);break;case 4:U(t,t.stateNode.containerInfo);break;case 10:K(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,et(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Je(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qn(e,t,n):(Je(t),null!==(e=er(e,t,n))?e.sibling:null);Je(t);break;case 19:var l=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(te(e,t,n,!1),r=0!==(n&t.childLanes)),l){if(r)return Jn(e,t,n);t.flags|=128}if(null!==(l=t.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),p(Is,Is.current),r)break;return null;case 22:return t.lanes=0,Ln(e,t,n,t.pendingProps);case 24:K(0,ts,e.memoizedState.cache)}return er(e,t,n)}function rr(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Xs=!0;else{if(!(tr(e,n)||128&t.flags))return Xs=!1,nr(e,t,n);Xs=!!(131072&e.flags)}else Xs=!1,$u&&1048576&t.flags&&M(t,Ou,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ee(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var a=e.$$typeof;if(a===xa){t.tag=11,t=Tn(null,t,e,l,n);break e}if(a===Na){t.tag=14,t=In(null,t,e,l,n);break e}}throw t=c(e)||e,Error(r(306,t,""))}Jl(e)?(l=Cn(e,l),t.tag=1,t=Vn(null,t,e,l,n)):(t.tag=0,t=Dn(null,t,e,l,n))}return t;case 0:return Dn(e,t,t.type,t.pendingProps,n);case 1:return Vn(e,t,l=t.type,a=Cn(l,t.pendingProps),n);case 3:e:{if(U(t,t.stateNode.containerInfo),null===e)throw Error(r(387));var o=t.pendingProps;l=(a=t.memoizedState).element,De(e,t),qe(t,o,null,n);var i=t.memoizedState;if(o=i.cache,K(0,ts,o),o!==a.cache&&ee(t,[ts],n,!0),We(),o=i.element,no&&a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Bn(e,t,o,n);break e}if(o!==l){X(l=L(Error(r(424)),t)),t=Bn(e,t,o,n);break e}for(no&&(Bu=ui(t.stateNode.containerInfo),Vu=t,$u=!0,Wu=null,qu=!0),n=ks(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(G(),o===l){t=er(e,t,n);break e}_n(e,t,o,n)}t=t.child}return t;case 26:if(Fi)return Un(e,t),null===e?(n=Ui(t.type,null,t.pendingProps,null))?t.memoizedState=n:$u||(t.stateNode=Wi(t.type,t.pendingProps,Du.current,t)):t.memoizedState=Ui(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(Ki)return Q(t),null===e&&Ki&&$u&&(l=t.stateNode=Zi(t.type,t.pendingProps,Du.current,Hu.current,!1),Vu=t,qu=!0,Bu=fi(t.type,l,Bu)),_n(e,t,t.pendingProps.children,n),Un(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&$u&&(Ri(t.type,t.pendingProps,Hu.current),(a=l=Bu)&&(null!==(l=di(l,t.type,t.pendingProps,qu))?(t.stateNode=l,Vu=t,Bu=ii(l),qu=!1,a=!0):a=!1),a||B(t)),Q(t),a=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,l=o.children,Ga(a,o)?l=null:null!==i&&Ga(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=it(e,t,ct,null,null,n),Ja?yo._currentValue=a:yo._currentValue2=a),Un(e,t),_n(e,t,l,n),t.child;case 6:return null===e&&$u&&(Mi(t.pendingProps,Hu.current),(e=n=Bu)&&(null!==(n=pi(n,t.pendingProps,qu))?(t.stateNode=n,Vu=t,Bu=null,e=!0):e=!1),e||B(t)),null;case 13:return qn(e,t,n);case 4:return U(t,t.stateNode.containerInfo),l=t.pendingProps,null===e?t.child=ws(t,null,l,n):_n(e,t,l,n),t.child;case 11:return Tn(e,t,t.type,t.pendingProps,n);case 7:return _n(e,t,t.pendingProps,n),t.child;case 8:case 12:return _n(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,K(0,t.type,l.value),_n(e,t,l.children,n),t.child;case 9:return a=t.type._context,l=t.pendingProps.children,re(t),l=l(a=le(a)),t.flags|=1,_n(e,t,l,n),t.child;case 14:return In(e,t,t.type,t.pendingProps,n);case 15:return On(e,t,t.type,t.pendingProps,n);case 19:return Jn(e,t,n);case 31:return Hn(e,t,n);case 22:return Ln(e,t,n,t.pendingProps);case 24:return re(t),l=le(ts),null===e?(null===(a=we())&&(a=gc,o=ie(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:l,cache:a},Ue(t),K(0,ts,a)):(0!==(e.lanes&n)&&(De(e,t),qe(t,null,null,n),We()),a=e.memoizedState,o=t.memoizedState,a.parent!==l?(a={parent:l,cache:l},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),K(0,ts,l)):(l=o.cache,K(0,ts,l),l!==a.cache&&ee(t,[ts],n,!0))),_n(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function lr(e){e.flags|=4}function ar(e){to&&(e.flags|=8)}function or(e,t){if(null!==e&&e.child===t.child)return!1;if(16&t.flags)return!0;for(e=t.child;null!==e;){if(8218&e.flags||8218&e.subtreeFlags)return!0;e=e.sibling}return!1}function ir(e,t,n,r){if(eo)for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)Wa(e,n.stateNode);else if(!(4===n.tag||Ki&&27===n.tag)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(to)for(var l=t.child;null!==l;){if(5===l.tag){var a=l.stateNode;n&&r&&(a=Ko(a,l.type,l.memoizedProps)),Wa(e,a)}else if(6===l.tag)a=l.stateNode,n&&r&&(a=Zo(a,l.memoizedProps)),Wa(e,a);else if(4!==l.tag)if(22===l.tag&&null!==l.memoizedState)null!==(a=l.child)&&(a.return=l),ir(e,l,!0,!0);else if(null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break;for(;null===l.sibling;){if(null===l.return||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function ur(e,t,n,r){var l=!1;if(to)for(var a=t.child;null!==a;){if(5===a.tag){var o=a.stateNode;n&&r&&(o=Ko(o,a.type,a.memoizedProps)),Go(e,o)}else if(6===a.tag)o=a.stateNode,n&&r&&(o=Zo(o,a.memoizedProps)),Go(e,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(l=a.child)&&(l.return=a),ur(e,a,!0,!0),l=!0;else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return l;a=a.return}a.sibling.return=a.return,a=a.sibling}return l}function sr(e,t){if(to&&or(e,t)){var n=(e=t.stateNode).containerInfo,r=qo();ur(r,t,!1,!1),e.pendingChildren=r,lr(t),Yo(n,r)}}function cr(e,t,n,r){if(eo)e.memoizedProps!==r&&lr(t);else if(to){var l=e.stateNode,a=e.memoizedProps;if((e=or(e,t))||a!==r){var o=Hu.current;(a=Wo(l,n,a,r,!e,null))===l?t.stateNode=l:(ar(t),qa(a,n,r,o)&&lr(t),t.stateNode=a,e&&ir(a,t,!1,!1))}else t.stateNode=l}}function fr(e,t,n,r,l){if(32&e.mode&&(null===n?co(t,r):fo(t,n,r))){if(e.flags|=16777216,(335544128&l)===l||po(t,r))if(mo(e.stateNode,t,r))e.flags|=8192;else{if(!zl())throw vs=bs,hs;e.flags|=8192}}else e.flags&=-16777217}function dr(e,t){if(Gi(t)){if(e.flags|=16777216,!Yi(t)){if(!zl())throw vs=bs,hs;e.flags|=8192}}else e.flags&=-16777217}function pr(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?S():536870912,e.lanes|=t,_c|=t)}function mr(e,t){if(!$u)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hr(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;null!==l;)n|=l.lanes|l.childLanes,r|=65011712&l.subtreeFlags,r|=65011712&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gr(e,t,n){var l=t.pendingProps;switch(A(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hr(t),null;case 3:return n=t.stateNode,l=null,null!==e&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Z(ts),D(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(q(t)?lr(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Y())),sr(e,t),hr(t),null;case 26:if(Fi){var a=t.type,o=t.memoizedState;return null===e?(lr(t),null!==o?(hr(t),dr(t,o)):(hr(t),fr(t,a,null,l,n))):o?o!==e.memoizedState?(lr(t),hr(t),dr(t,o)):(hr(t),t.flags&=-16777217):(o=e.memoizedProps,eo?o!==l&&lr(t):cr(e,t,a,l),hr(t),fr(t,a,o,l,n)),null}case 27:if(Ki){if(V(t),n=Du.current,a=t.type,null!==e&&null!=t.stateNode)eo?e.memoizedProps!==l&&lr(t):cr(e,t,a,l);else{if(!l){if(null===t.stateNode)throw Error(r(166));return hr(t),null}e=Hu.current,q(t)?$(t,e):(e=Zi(a,l,n,e,!0),t.stateNode=e,lr(t))}return hr(t),null}case 5:if(V(t),a=t.type,null!==e&&null!=t.stateNode)cr(e,t,a,l);else{if(!l){if(null===t.stateNode)throw Error(r(166));return hr(t),null}if(o=Hu.current,q(t))$(t,o),xi(t.stateNode,a,l,o)&&(t.flags|=64);else{var i=$a(a,l,Du.current,o,t);ar(t),ir(i,t,!1,!1),t.stateNode=i,qa(i,a,l,o)&&lr(t)}}return hr(t),fr(t,t.type,null===e?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)n=e.memoizedProps,eo?n!==l&&lr(t):to&&(n!==l?(e=Du.current,n=Hu.current,ar(t),t.stateNode=Ya(l,e,n,t)):t.stateNode=e.stateNode);else{if("string"!=typeof l&&null===t.stateNode)throw Error(r(166));if(e=Du.current,n=Hu.current,q(t)){if(!no)throw Error(r(176));if(e=t.stateNode,n=t.memoizedProps,l=null,null!==(a=Vu))switch(a.tag){case 27:case 5:l=a.memoizedProps}bi(e,n,t,l)||B(t,!0)}else ar(t),t.stateNode=Ya(l,e,n,t)}return hr(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(l=q(t),null!==n){if(null===e){if(!l)throw Error(r(318));if(!no)throw Error(r(556));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));vi(e,t)}else G(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hr(t),e=!1}else n=Y(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(rt(t),t):(rt(t),null);if(128&t.flags)throw Error(r(558))}return hr(t),null;case 13:if(l=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=q(t),null!==l&&null!==l.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!no)throw Error(r(344));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));yi(a,t)}else G(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hr(t),a=!1}else a=Y(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(rt(t),t):(rt(t),null)}return rt(t),128&t.flags?(t.lanes=n,t):(n=null!==l,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(l=t.child).alternate&&null!==l.alternate.memoizedState&&null!==l.alternate.memoizedState.cachePool&&(a=l.alternate.memoizedState.cachePool.pool),o=null,null!==l.memoizedState&&null!==l.memoizedState.cachePool&&(o=l.memoizedState.cachePool.pool),o!==a&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),pr(t,t.updateQueue),hr(t),null);case 4:return D(),sr(e,t),null===e&&lo(t.stateNode.containerInfo),hr(t),null;case 10:return Z(t.type),hr(t),null;case 19:if(d(Is),null===(l=t.memoizedState))return hr(t),null;if(a=!!(128&t.flags),null===(o=l.rendering))if(a)mr(l,!1);else{if(0!==Pc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=lt(e))){for(t.flags|=128,mr(l,!1),e=o.updateQueue,t.updateQueue=e,pr(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)ta(n,e),n=n.sibling;return p(Is,1&Is.current|2),$u&&R(t,l.treeForkCount),t.child}e=e.sibling}null!==l.tail&&gu()>Mc&&(t.flags|=128,a=!0,mr(l,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=lt(o))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,pr(t,e),mr(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!$u)return hr(t),null}else 2*gu()-l.renderingStartTime>Mc&&536870912!==n&&(t.flags|=128,a=!0,mr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=l.last)?e.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=gu(),e.sibling=null,n=Is.current,p(Is,a?1&n|2:1&n),$u&&R(t,l.treeForkCount),e):(hr(t),null);case 22:case 23:return rt(t),Ze(),l=null!==t.memoizedState,null!==e?null!==e.memoizedState!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?!!(536870912&n)&&!(128&t.flags)&&(hr(t),6&t.subtreeFlags&&(t.flags|=8192)):hr(t),null!==(n=t.updateQueue)&&pr(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),l=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),null!==e&&d(ps),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Z(ts),hr(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function br(e,t){switch(A(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Z(ts),D(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return V(t),null;case 31:if(null!==t.memoizedState){if(rt(t),null===t.alternate)throw Error(r(340));G()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(rt(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));G()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return d(Is),null;case 4:return D(),null;case 10:return Z(t.type),null;case 22:case 23:return rt(t),Ze(),null!==e&&d(ps),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Z(ts),null;default:return null}}function vr(e,t){switch(A(t),t.tag){case 3:Z(ts),D();break;case 26:case 27:case 5:V(t);break;case 4:D();break;case 31:null!==t.memoizedState&&rt(t);break;case 13:rt(t);break;case 19:d(Is);break;case 10:Z(t.type);break;case 22:case 23:rt(t),Ze(),null!==e&&d(ps);break;case 24:Z(ts)}}function yr(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var l=r.next;n=l;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==l)}}catch(e){$l(t,t.return,e)}}function Sr(e,t,n){try{var r=t.updateQueue,l=null!==r?r.lastEffect:null;if(null!==l){var a=l.next;r=a;do{if((r.tag&e)===e){var o=r.inst,i=o.destroy;if(void 0!==i){o.destroy=void 0,l=t;var u=n,s=i;try{s()}catch(e){$l(l,u,e)}}}r=r.next}while(r!==a)}}catch(e){$l(t,t.return,e)}}function wr(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ye(t,n)}catch(t){$l(e,e.return,t)}}}function kr(e,t,n){n.props=Cn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){$l(e,t,n)}}function Cr(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=Ua(e.stateNode);break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){$l(e,t,n)}}function zr(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){$l(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){$l(e,t,n)}else n.current=null}function Pr(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{Lo(r,t,n,e)}catch(t){$l(e,e.return,t)}}function xr(e,t,n){try{Ro(e.stateNode,e.type,n,t,e)}catch(t){$l(e,e.return,t)}}function Er(e){return 5===e.tag||3===e.tag||!!Fi&&26===e.tag||!!Ki&&27===e.tag&&nu(e.type)||4===e.tag}function jr(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Er(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(Ki&&27===e.tag&&nu(e.type)||2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Nr(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?Fo(n,e,t):Io(n,e);else if(4!==r&&(Ki&&27===r&&nu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Nr(e,t,n),e=e.sibling;null!==e;)Nr(e,t,n),e=e.sibling}function _r(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?Mo(n,e,t):To(n,e);else if(4!==r&&(Ki&&27===r&&nu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(_r(e,t,n),e=e.sibling;null!==e;)_r(e,t,n),e=e.sibling}function Tr(e,t,n){e=e.containerInfo;try{Xo(e,n)}catch(e){$l(t,t.return,e)}}function Ir(e){var t=e.stateNode,n=e.memoizedProps;try{Ji(e.type,n,t,e)}catch(t){$l(e,e.return,t)}}function Or(e,t){for(Va(e.containerInfo),nc=t;null!==nc;)if(t=(e=nc).child,1028&e.subtreeFlags&&null!==t)t.return=e,nc=t;else for(;null!==nc;){var n=(e=nc).alternate;switch(t=e.flags,e.tag){case 0:if(4&t&&null!==(t=null!==(t=e.updateQueue)?t.events:null))for(var l=0;l<t.length;l++){var a=t[l];a.ref.impl=a.nextImpl}break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&t&&null!==n){t=void 0,l=e,a=n.memoizedProps,n=n.memoizedState;var o=l.stateNode;try{var i=Cn(l.type,a);t=o.getSnapshotBeforeUpdate(i,n),o.__reactInternalSnapshotBeforeUpdate=t}catch(e){$l(l,l.return,e)}}break;case 3:1024&t&&eo&&$o(e.stateNode.containerInfo);break;default:if(1024&t)throw Error(r(163))}if(null!==(t=e.sibling)){t.return=e.return,nc=t;break}nc=e.return}}function Lr(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Wr(e,n),4&r&&yr(5,n);break;case 1:if(Wr(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){$l(n,n.return,e)}else{var l=Cn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){$l(n,n.return,e)}}64&r&&wr(n),512&r&&Cr(n,n.return);break;case 3:if(Wr(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:e=Ua(n.child.stateNode);break;case 1:e=n.child.stateNode}try{Ye(r,e)}catch(e){$l(n,n.return,e)}}break;case 27:Ki&&null===t&&4&r&&Ir(n);case 26:case 5:if(Wr(e,n),null===t)if(4&r)Pr(n);else if(64&r){e=n.type,t=n.memoizedProps,l=n.stateNode;try{ki(l,e,t,n)}catch(e){$l(n,n.return,e)}}512&r&&Cr(n,n.return);break;case 12:Wr(e,n);break;case 31:Wr(e,n),4&r&&Ar(e,n);break;case 13:Wr(e,n),4&r&&Hr(e,n),64&r&&null!==(r=n.memoizedState)&&null!==(r=r.dehydrated)&&(n=Yl.bind(null,n),ni(r,n));break;case 22:if(!(r=null!==n.memoizedState||Zs)){t=null!==t&&null!==t.memoizedState||Js,l=Zs;var a=Js;Zs=r,(Js=t)&&!a?Gr(e,n,!!(8772&n.subtreeFlags)):Wr(e,n),Zs=l,Js=a}break;case 30:break;default:Wr(e,n)}}function Rr(e){var t=e.alternate;null!==t&&(e.alternate=null,Rr(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&so(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mr(e,t,n){for(n=n.child;null!==n;)Fr(e,t,n),n=n.sibling}function Fr(e,t,n){if(zu&&"function"==typeof zu.onCommitFiberUnmount)try{zu.onCommitFiberUnmount(Cu,n)}catch{}switch(n.tag){case 26:if(Fi){Js||zr(n,t),Mr(e,t,n),n.memoizedState?Qi(n.memoizedState):n.stateNode&&$i(n.stateNode);break}case 27:if(Ki){Js||zr(n,t);var r=rc,l=lc;nu(n.type)&&(rc=n.stateNode,lc=!1),Mr(e,t,n),eu(n.stateNode),rc=r,lc=l;break}case 5:Js||zr(n,t);case 6:if(eo){if(r=rc,l=lc,rc=null,Mr(e,t,n),lc=l,null!==(rc=r))if(lc)try{Ho(rc,n.stateNode)}catch(e){$l(n,t,e)}else try{Ao(rc,n.stateNode)}catch(e){$l(n,t,e)}}else Mr(e,t,n);break;case 18:eo&&null!==rc&&(lc?Ni(rc,n.stateNode):ji(rc,n.stateNode));break;case 4:eo?(r=rc,l=lc,rc=n.stateNode.containerInfo,lc=!0,Mr(e,t,n),rc=r,lc=l):(to&&Tr(n.stateNode,n,qo()),Mr(e,t,n));break;case 0:case 11:case 14:case 15:Sr(2,n,t),Js||Sr(4,n,t),Mr(e,t,n);break;case 1:Js||(zr(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&kr(n,t,r)),Mr(e,t,n);break;case 21:Mr(e,t,n);break;case 22:Js=(r=Js)||null!==n.memoizedState,Mr(e,t,n),Js=r;break;default:Mr(e,t,n)}}function Ar(e,t){if(no&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{zi(e)}catch(e){$l(t,t.return,e)}}}function Hr(e,t){if(no&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Pi(e)}catch(e){$l(t,t.return,e)}}function Ur(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tc),t;default:throw Error(r(435,e.tag))}}function Dr(e,t){var n=Ur(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Xl.bind(null,e,t);t.then(r,r)}})}function Qr(e,t){var n=t.deletions;if(null!==n)for(var l=0;l<n.length;l++){var a=n[l],o=e,i=t;if(eo){var u=i;e:for(;null!==u;){switch(u.tag){case 27:if(Ki){if(nu(u.type)){rc=u.stateNode,lc=!1;break e}break}case 5:rc=u.stateNode,lc=!1;break e;case 3:case 4:rc=u.stateNode.containerInfo,lc=!0;break e}u=u.return}if(null===rc)throw Error(r(160));Fr(o,i,a),rc=null,lc=!1}else Fr(o,i,a);null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vr(t,e),t=t.sibling}function Vr(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qr(t,e),Br(e),4&l&&(Sr(3,e,e.return),yr(3,e),Sr(5,e,e.return));break;case 1:Qr(t,e),Br(e),512&l&&(Js||null===n||zr(n,n.return)),64&l&&Zs&&null!==(e=e.updateQueue)&&null!==(l=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?l:n.concat(l));break;case 26:if(Fi){var a=ac;if(Qr(t,e),Br(e),512&l&&(Js||null===n||zr(n,n.return)),4&l){l=null!==n?n.memoizedState:null;var o=e.memoizedState;null===n?null===o?null===e.stateNode?e.stateNode=Vi(a,e.type,e.memoizedProps,e):Bi(a,e.type,e.stateNode):e.stateNode=Di(a,o,e.memoizedProps):l!==o?(null===l?null!==n.stateNode&&$i(n.stateNode):Qi(l),null===o?Bi(a,e.type,e.stateNode):Di(a,o,e.memoizedProps)):null===o&&null!==e.stateNode&&xr(e,e.memoizedProps,n.memoizedProps)}break}case 27:if(Ki){Qr(t,e),Br(e),512&l&&(Js||null===n||zr(n,n.return)),null!==n&&4&l&&xr(e,e.memoizedProps,n.memoizedProps);break}case 5:if(Qr(t,e),Br(e),512&l&&(Js||null===n||zr(n,n.return)),eo){if(32&e.flags){a=e.stateNode;try{Uo(a)}catch(t){$l(e,e.return,t)}}4&l&&null!=e.stateNode&&xr(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&l&&(ec=!0)}else to&&null!==e.alternate&&(e.alternate.stateNode=e.stateNode);break;case 6:if(Qr(t,e),Br(e),4&l&&eo){if(null===e.stateNode)throw Error(r(162));l=e.memoizedProps,n=null!==n?n.memoizedProps:l,a=e.stateNode;try{Oo(a,n,l)}catch(t){$l(e,e.return,t)}}break;case 3:if(Fi?(qi(),a=ac,ac=Hi(t.containerInfo),Qr(t,e),ac=a):Qr(t,e),Br(e),4&l){if(eo&&no&&null!==n&&n.memoizedState.isDehydrated)try{Ci(t.containerInfo)}catch(t){$l(e,e.return,t)}if(to){l=t.containerInfo,n=t.pendingChildren;try{Xo(l,n)}catch(t){$l(e,e.return,t)}}}ec&&(ec=!1,$r(e));break;case 4:Fi?(n=ac,ac=Hi(e.stateNode.containerInfo),Qr(t,e),Br(e),ac=n):(Qr(t,e),Br(e)),4&l&&to&&Tr(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:Qr(t,e),Br(e);break;case 31:Qr(t,e),Br(e),4&l&&null!==(l=e.updateQueue)&&(e.updateQueue=null,Dr(e,l));break;case 13:Qr(t,e),Br(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Lc=gu()),4&l&&null!==(l=e.updateQueue)&&(e.updateQueue=null,Dr(e,l));break;case 22:a=null!==e.memoizedState;var i=null!==n&&null!==n.memoizedState,u=Zs,s=Js;if(Zs=u||a,Js=s||i,Qr(t,e),Js=s,Zs=u,Br(e),8192&l&&((t=e.stateNode)._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||i||Zs||Js||qr(e)),eo))e:if(n=null,eo)for(t=e;;){if(5===t.tag||Fi&&26===t.tag){if(null===n){i=n=t;try{o=i.stateNode,a?Do(o):Vo(i.stateNode,i.memoizedProps)}catch(e){$l(i,i.return,e)}}}else if(6===t.tag){if(null===n){i=t;try{var c=i.stateNode;a?Qo(c):Bo(c,i.memoizedProps)}catch(e){$l(i,i.return,e)}}}else if(18===t.tag){if(null===n){i=t;try{var f=i.stateNode;a?_i(f):Ti(i.stateNode)}catch(e){$l(i,i.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&l&&null!==(l=e.updateQueue)&&null!==(n=l.retryQueue)&&(l.retryQueue=null,Dr(e,n));break;case 19:Qr(t,e),Br(e),4&l&&null!==(l=e.updateQueue)&&(e.updateQueue=null,Dr(e,l));break;case 30:case 21:break;default:Qr(t,e),Br(e)}}function Br(e){var t=e.flags;if(2&t){try{for(var n,l=e.return;null!==l;){if(Er(l)){n=l;break}l=l.return}if(eo){if(null==n)throw Error(r(160));switch(n.tag){case 27:if(Ki){var a=n.stateNode;_r(e,jr(e),a);break}case 5:var o=n.stateNode;32&n.flags&&(Uo(o),n.flags&=-33),_r(e,jr(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;Nr(e,jr(e),i);break;default:throw Error(r(161))}}}catch(t){$l(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $r(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$r(t),5===t.tag&&1024&t.flags&&So(t.stateNode),e=e.sibling}}function Wr(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Lr(e,t.alternate,t),t=t.sibling}function qr(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sr(4,t,t.return),qr(t);break;case 1:zr(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&kr(t,t.return,n),qr(t);break;case 27:Ki&&eu(t.stateNode);case 26:case 5:zr(t,t.return),qr(t);break;case 22:null===t.memoizedState&&qr(t);break;default:qr(t)}e=e.sibling}}function Gr(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,l=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Gr(l,a,n),yr(4,a);break;case 1:if(Gr(l,a,n),"function"==typeof(l=(r=a).stateNode).componentDidMount)try{l.componentDidMount()}catch(e){$l(r,r.return,e)}if(null!==(l=(r=a).updateQueue)){var i=r.stateNode;try{var u=l.shared.hiddenCallbacks;if(null!==u)for(l.shared.hiddenCallbacks=null,l=0;l<u.length;l++)Ge(u[l],i)}catch(e){$l(r,r.return,e)}}n&&64&o&&wr(a),Cr(a,a.return);break;case 27:Ki&&Ir(a);case 26:case 5:Gr(l,a,n),n&&null===r&&4&o&&Pr(a),Cr(a,a.return);break;case 12:Gr(l,a,n);break;case 31:Gr(l,a,n),n&&4&o&&Ar(l,a);break;case 13:Gr(l,a,n),n&&4&o&&Hr(l,a);break;case 22:null===a.memoizedState&&Gr(l,a,n),Cr(a,a.return);break;case 30:break;default:Gr(l,a,n)}t=t.sibling}}function Yr(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ue(n))}function Xr(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ue(e))}function Kr(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Zr(e,t,n,r),t=t.sibling}function Zr(e,t,n,r){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Kr(e,t,n,r),2048&l&&yr(9,t);break;case 1:case 31:case 13:default:Kr(e,t,n,r);break;case 3:Kr(e,t,n,r),2048&l&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ue(e)));break;case 12:if(2048&l){Kr(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,i=a.onPostCommit;"function"==typeof i&&i(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){$l(t,t.return,e)}}else Kr(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Kr(e,t,n,r):el(e,t):2&a._visibility?Kr(e,t,n,r):(a._visibility|=2,Jr(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&l&&Yr(o,t);break;case 24:Kr(e,t,n,r),2048&l&&Xr(t.alternate,t)}}function Jr(e,t,n,r,l){for(l=l&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,i=n,u=r,s=o.flags;switch(o.tag){case 0:case 11:case 15:Jr(a,o,i,u,l),yr(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?Jr(a,o,i,u,l):el(a,o):(c._visibility|=2,Jr(a,o,i,u,l)),l&&2048&s&&Yr(o.alternate,o);break;case 24:Jr(a,o,i,u,l),l&&2048&s&&Xr(o.alternate,o);break;default:Jr(a,o,i,u,l)}t=t.sibling}}function el(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,l=r.flags;switch(r.tag){case 22:el(n,r),2048&l&&Yr(r.alternate,r);break;case 24:el(n,r),2048&l&&Xr(r.alternate,r);break;default:el(n,r)}t=t.sibling}}function tl(e,t,n){if(e.subtreeFlags&oc)for(e=e.child;null!==e;)nl(e,t,n),e=e.sibling}function nl(e,t,n){switch(e.tag){case 26:if(tl(e,t,n),e.flags&oc)if(null!==e.memoizedState)Xi(n,ac,e.memoizedState,e.memoizedProps);else{var r=e.stateNode,l=e.type;e=e.memoizedProps,((335544128&t)===t||po(l,e))&&go(n,r,l,e)}break;case 5:tl(e,t,n),e.flags&oc&&(r=e.stateNode,l=e.type,e=e.memoizedProps,((335544128&t)===t||po(l,e))&&go(n,r,l,e));break;case 3:case 4:Fi?(r=ac,ac=Hi(e.stateNode.containerInfo),tl(e,t,n),ac=r):tl(e,t,n);break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=oc,oc=16777216,tl(e,t,n),oc=r):tl(e,t,n));break;default:tl(e,t,n)}}function rl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ll(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nc=r,il(r,e)}rl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)al(e),e=e.sibling}function al(e){switch(e.tag){case 0:case 11:case 15:ll(e),2048&e.flags&&Sr(9,e,e.return);break;case 3:case 12:default:ll(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ol(e)):ll(e)}}function ol(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nc=r,il(r,e)}rl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Sr(8,t,t.return),ol(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ol(t));break;default:ol(t)}e=e.sibling}}function il(e,t){for(;null!==nc;){var n=nc;switch(n.tag){case 0:case 11:case 15:Sr(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ue(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nc=r;else e:for(n=e;null!==nc;){var l=(r=nc).sibling,a=r.return;if(Rr(r),r===n){nc=null;break e}if(null!==l){l.return=a,nc=l;break e}nc=a}}}function ul(e){var t=ro(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(r(364));return t}if(null===(e=zo(e)))throw Error(r(362));return e.stateNode.current}function sl(e,t){var n=e.tag;switch(t.$$typeof){case uc:if(e.type===t.value)return!0;break;case sc:e:{for(t=t.value,e=[e,0],n=0;n<e.length;){var l=e[n++],a=l.tag,o=e[n++],i=t[o];if(5!==a&&26!==a&&27!==a||!Eo(l)){for(;null!=i&&sl(l,i);)i=t[++o];if(o===t.length){t=!0;break e}for(l=l.child;null!==l;)e.push(l,o),l=l.sibling}}t=!1}return t;case cc:if((5===n||26===n||27===n)&&jo(e.stateNode,t.value))return!0;break;case dc:if((5===n||6===n||26===n||27===n)&&null!==(e=xo(e))&&0<=e.indexOf(t.value))return!0;break;case fc:if((5===n||26===n||27===n)&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(r(365))}return!1}function cl(e){switch(e.$$typeof){case uc:return"<"+(c(e.value)||"Unknown")+">";case sc:return":has("+(cl(e)||"")+")";case cc:return'[role="'+e.value+'"]';case dc:return'"'+e.value+'"';case fc:return'[data-testname="'+e.value+'"]';default:throw Error(r(365))}}function fl(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var l=e[r++],a=l.tag,o=e[r++],i=t[o];if(5!==a&&26!==a&&27!==a||!Eo(l)){for(;null!=i&&sl(l,i);)i=t[++o];if(o===t.length)n.push(l);else for(l=l.child;null!==l;)e.push(l,o),l=l.sibling}}return n}function dl(e,t){if(!Co)throw Error(r(363));e=fl(e=ul(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var l=e[n++],a=l.tag;if(5===a||26===a||27===a)Eo(l)||t.push(l.stateNode);else for(l=l.child;null!==l;)e.push(l),l=l.sibling}return t}function pl(){return 2&hc&&0!==vc?vc&-vc:null!==Ma.T?be():io()}function ml(){if(0===Nc)if(536870912&vc&&!$u)Nc=536870912;else{var e=cu;!(3932160&(cu<<=1))&&(cu=262144),Nc=e}return null!==(e=_s.current)&&(e.flags|=32),Nc}function hl(e,t,n){(e===gc&&(2===yc||9===yc)||null!==e.cancelPendingCommit)&&(kl(e,0),yl(e,vc,Nc,!1)),k(e,n),(!(2&hc)||e!==gc)&&(e===gc&&(!(2&hc)&&(Ec|=n),4===Pc&&yl(e,vc,Nc,!1)),ce(e))}function gl(e,t,n){if(6&hc)throw Error(r(327));for(var l=!n&&!(127&t)&&0===(t&e.expiredLanes)||b(e,t),a=l?_l(e,t):jl(e,t,!0),o=l;;){if(0===a){kc&&!l&&yl(e,t,0,!1);break}if(n=e.current.alternate,!o||vl(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var i=0;else i=0!=(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var u=e;a=Tc;var s=no&&u.current.memoizedState.isDehydrated;if(s&&(kl(u,i).flags|=256),2!==(i=jl(u,i,!1))){if(Cc&&!s){u.errorRecoveryDisabledLanes|=o,Ec|=o,a=4;break e}o=Ic,Ic=a,null!==o&&(null===Ic?Ic=o:Ic.push.apply(Ic,o))}a=i}if(o=!1,2!==a)continue}}if(1===a){kl(e,0),yl(e,t,0,!0);break}e:{switch(l=e,o=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:yl(l,t,Nc,!wc);break e;case 2:Ic=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=Lc+300-gu())){if(yl(l,t,Nc,!wc),0!==g(l,0,!0))break e;Qc=t,l.timeoutHandle=Xa(bl.bind(null,l,n,Ic,Fc,Oc,t,Nc,Ec,_c,wc,o,"Throttled",-0,0),a)}else bl(l,n,Ic,Fc,Oc,t,Nc,Ec,_c,wc,o,null,-0,0)}break}a=jl(e,t,!1),o=!1}ce(e)}function bl(e,t,n,r,l,a,o,i,u,s,c,f,d,p){if(e.timeoutHandle=Za,8192&(f=t.subtreeFlags)||!(16785408&~f)){nl(t,a,f=ho());var m=(62914560&a)===a?Lc-gu():(4194048&a)===a?Rc-gu():0;if(null!==(m=bo(f,m)))return Qc=a,e.cancelPendingCommit=m(Fl.bind(null,e,t,a,n,r,l,o,i,u,c,f,null,d,p)),void yl(e,a,o,!s)}Fl(e,t,a,n,r,l,o,i,u)}function vl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!Pu(a(),l))return!1}catch{return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yl(e,t,n,r){t&=~jc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var l=t;0<l;){var a=31-ou(l),o=1<<a;r[a]=-1,l&=~o}0!==n&&z(e,n,t)}function Sl(){return!!(6&hc)||(fe(0,!1),!1)}function wl(){if(null!==bc){if(0===yc)var e=bc.return;else Ku=Xu=null,pt(e=bc),ys=null,Ss=0,e=bc;for(;null!==e;)vr(e.alternate,e),e=e.return;bc=null}}function kl(e,t){var n=e.timeoutHandle;n!==Za&&(e.timeoutHandle=Za,Ka(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Qc=0,wl(),gc=e,bc=n=ea(e.current,null),vc=t,yc=0,Sc=null,wc=!1,kc=b(e,t),Cc=!1,_c=Nc=jc=Ec=xc=Pc=0,Ic=Tc=null,Oc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var l=31-ou(r),a=1<<l;t|=e[l],r&=~a}return zc=t,Le(),n}function Cl(e,t){Ls=null,Ma.H=Bs,t===ms||t===gs?(t=je(),yc=3):t===hs?(t=je(),yc=4):yc=t===Ys?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,Sc=t,null===bc&&(Pc=1,zn(e,L(t,e.current)))}function zl(){var e=_s.current;return null===e||((4194048&vc)===vc?null===Ts:!!((62914560&vc)===vc||536870912&vc)&&e===Ts)}function Pl(){var e=Ma.H;return Ma.H=Bs,null===e?Bs:e}function xl(){var e=Ma.A;return Ma.A=ic,e}function El(){Pc=4,wc||(4194048&vc)!==vc&&null!==_s.current||(kc=!0),!(134217727&xc)&&!(134217727&Ec)||null===gc||yl(gc,vc,Nc,!1)}function jl(e,t,n){var r=hc;hc|=2;var l=Pl(),a=xl();(gc!==e||vc!==t)&&(Fc=null,kl(e,t)),t=!1;var o=Pc;e:for(;;)try{if(0!==yc&&null!==bc){var i=bc,u=Sc;switch(yc){case 8:wl(),o=6;break e;case 3:case 2:case 9:case 6:null===_s.current&&(t=!0);var s=yc;if(yc=0,Sc=null,Ll(e,i,u,s),n&&kc){o=0;break e}break;default:s=yc,yc=0,Sc=null,Ll(e,i,u,s)}}Nl(),o=Pc;break}catch(t){Cl(e,t)}return t&&e.shellSuspendCounter++,Ku=Xu=null,hc=r,Ma.H=l,Ma.A=a,null===bc&&(gc=null,vc=0,Le()),o}function Nl(){for(;null!==bc;)Il(bc)}function _l(e,t){var n=hc;hc|=2;var l=Pl(),a=xl();gc!==e||vc!==t?(Fc=null,Mc=gu()+500,kl(e,t)):kc=b(e,t);e:for(;;)try{if(0!==yc&&null!==bc){t=bc;var o=Sc;t:switch(yc){case 1:yc=0,Sc=null,Ll(e,t,o,1);break;case 2:case 9:if(Pe(o)){yc=0,Sc=null,Ol(t);break}t=function(){2!==yc&&9!==yc||gc!==e||(yc=7),ce(e)},o.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:Pe(o)?(yc=0,Sc=null,Ol(t)):(yc=0,Sc=null,Ll(e,t,o,7));break;case 5:var i=null;switch(bc.tag){case 26:i=bc.memoizedState;case 5:case 27:var u=bc,s=u.type,c=u.pendingProps;if(i?Yi(i):mo(u.stateNode,s,c)){yc=0,Sc=null;var f=u.sibling;if(null!==f)bc=f;else{var d=u.return;null!==d?(bc=d,Rl(d)):bc=null}break t}}yc=0,Sc=null,Ll(e,t,o,5);break;case 6:yc=0,Sc=null,Ll(e,t,o,6);break;case 8:wl(),Pc=6;break e;default:throw Error(r(462))}}Tl();break}catch(t){Cl(e,t)}return Ku=Xu=null,Ma.H=l,Ma.A=a,hc=n,null!==bc?0:(gc=null,vc=0,Le(),Pc)}function Tl(){for(;null!==bc&&!mu();)Il(bc)}function Il(e){var t=rr(e.alternate,e,zc);e.memoizedProps=e.pendingProps,null===t?Rl(e):bc=t}function Ol(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qn(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Qn(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:pt(t);default:vr(n,t),t=rr(n,t=bc=ta(t,zc),zc)}e.memoizedProps=e.pendingProps,null===t?Rl(e):bc=t}function Ll(e,t,n,r){Ku=Xu=null,pt(t),ys=null,Ss=0;var l=t.return;try{if(Nn(e,l,t,n,vc))return Pc=1,zn(e,L(n,e.current)),void(bc=null)}catch(t){if(null!==l)throw bc=l,t;return Pc=1,zn(e,L(n,e.current)),void(bc=null)}32768&t.flags?($u||1===r?e=!0:kc||536870912&vc?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=_s.current)&&13===r.tag&&(r.flags|=16384)),Ml(t,e)):Rl(t)}function Rl(e){var t=e;do{if(32768&t.flags)return void Ml(t,wc);e=t.return;var n=gr(t.alternate,t,zc);if(null!==n)return void(bc=n);if(null!==(t=t.sibling))return void(bc=t);bc=t=e}while(null!==t);0===Pc&&(Pc=5)}function Ml(e,t){do{var n=br(e.alternate,e);if(null!==n)return n.flags&=32767,void(bc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(bc=e);bc=e=n}while(null!==e);Pc=6,bc=null}function Fl(e,t,n,l,a,o,i,u,s){e.cancelPendingCommit=null;do{Ql()}while(0!==Hc);if(6&hc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,C(e,n,o|=Ps,i,u,s),e===gc&&(bc=gc=null,vc=0),Dc=t,Uc=e,Qc=n,Vc=o,Bc=a,$c=l,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Kl(yu,function(){return Vl(),null})):(e.callbackNode=null,e.callbackPriority=0),l=!!(13878&t.flags),13878&t.subtreeFlags||l){l=Ma.T,Ma.T=null,a=oo(),ao(2),i=hc,hc|=4;try{Or(e,t)}finally{hc=i,ao(a),Ma.T=l}}Hc=1,Al(),Hl(),Ul()}}function Al(){if(1===Hc){Hc=0;var e=Uc,t=Dc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=Ma.T,Ma.T=null;var r=oo();ao(2);var l=hc;hc|=4;try{Vr(t,e),Ba(e.containerInfo)}finally{hc=l,ao(r),Ma.T=n}}e.current=t,Hc=2}}function Hl(){if(2===Hc){Hc=0;var e=Uc,t=Dc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=Ma.T,Ma.T=null;var r=oo();ao(2);var l=hc;hc|=4;try{Lr(e,t.alternate,t)}finally{hc=l,ao(r),Ma.T=n}}Hc=3}}function Ul(){if(4===Hc||3===Hc){Hc=0,hu();var e=Uc,t=Dc,n=Qc,r=$c;10256&t.subtreeFlags||10256&t.flags?Hc=5:(Hc=0,Dc=Uc=null,Dl(e,e.pendingLanes));var l=e.pendingLanes;if(0===l&&(Ac=null),j(n),t=t.stateNode,zu&&"function"==typeof zu.onCommitFiberRoot)try{zu.onCommitFiberRoot(Cu,t,void 0,!(128&~t.current.flags))}catch{}if(null!==r){t=Ma.T,l=oo(),ao(2),Ma.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var i=r[o];a(i.value,{componentStack:i.stack})}}finally{Ma.T=t,ao(l)}}!!(3&Qc)&&Ql(),ce(e),l=e.pendingLanes,261930&n&&42&l?e===qc?Wc++:(Wc=0,qc=e):Wc=0,no&&Ei(),fe(0,!1)}}function Dl(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,ue(t))}function Ql(){return Al(),Hl(),Ul(),Vl()}function Vl(){if(5!==Hc)return!1;var e=Uc,t=Vc;Vc=0;var n=j(Qc),l=32>n?32:n;n=Ma.T;var a=oo();try{ao(l),Ma.T=null,l=Bc,Bc=null;var o=Uc,i=Qc;if(Hc=0,Dc=Uc=null,Qc=0,6&hc)throw Error(r(331));var u=hc;if(hc|=4,al(o.current),Zr(o,o.current,i,l),hc=u,fe(0,!1),zu&&"function"==typeof zu.onPostCommitFiberRoot)try{zu.onPostCommitFiberRoot(Cu,o)}catch{}return!0}finally{ao(a),Ma.T=n,Dl(e,t)}}function Bl(e,t,n){t=L(n,t),null!==(e=Ve(e,t=xn(e.stateNode,t,2),2))&&(k(e,2),ce(e))}function $l(e,t,n){if(3===e.tag)Bl(e,e,n);else for(;null!==t;){if(3===t.tag){Bl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ac||!Ac.has(r))){e=L(n,e),null!==(r=Ve(t,n=En(2),2))&&(jn(n,r,t,e),k(r,2),ce(r));break}}t=t.return}}function Wl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mc;var l=new Set;r.set(t,l)}else void 0===(l=r.get(t))&&(l=new Set,r.set(t,l));l.has(n)||(Cc=!0,l.add(n),e=ql.bind(null,e,t,n),t.then(e,e))}function ql(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(vc&n)===n&&(4===Pc||3===Pc&&(62914560&vc)===vc&&300>gu()-Lc?!(2&hc)&&kl(e,0):jc|=n,_c===vc&&(_c=0)),ce(e)}function Gl(e,t){0===t&&(t=S()),null!==(e=Fe(e,t))&&(k(e,t),ce(e))}function Yl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Gl(e,n)}function Xl(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==l&&l.delete(t),Gl(e,n)}function Kl(e,t){return du(e,t)}function Zl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ea(e,n){var r=e.alternate;return null===r?((r=t(e.tag,n,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function ta(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function na(e,n,l,a,o,i){var u=0;if(a=e,"function"==typeof e)Jl(e)&&(u=1);else if("string"==typeof e)u=Fi&&Ki?Ai(e,l,Hu.current)?26:tu(e)?27:5:Fi?Ai(e,l,Hu.current)?26:5:Ki&&tu(e)?27:5;else e:switch(e){case Ta:return(e=t(31,l,n,o)).elementType=Ta,e.lanes=i,e;case wa:return ra(l.children,o,i,n);case ka:u=8,o|=24;break;case Ca:return(e=t(12,l,n,2|o)).elementType=Ca,e.lanes=i,e;case Ea:return(e=t(13,l,n,o)).elementType=Ea,e.lanes=i,e;case ja:return(e=t(19,l,n,o)).elementType=ja,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Pa:u=10;break e;case za:u=9;break e;case xa:u=11;break e;case Na:u=14;break e;case _a:u=16,a=null;break e}u=29,l=Error(r(130,null===e?"null":typeof e,"")),a=null}return(n=t(u,l,n,o)).elementType=e,n.type=a,n.lanes=i,n}function ra(e,n,r,l){return(e=t(7,e,l,n)).lanes=r,e}function la(e,n,r){return(e=t(6,e,null,n)).lanes=r,e}function aa(e){var n=t(18,null,null,0);return n.stateNode=e,n}function oa(e,n,r){return(n=t(4,null!==e.children?e.children:[],e.key,n)).lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ia(e,t,n,r,l,a,o,i,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Za,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=w(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w(0),this.hiddenUpdates=w(null),this.identifierPrefix=r,this.onUncaughtError=l,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function ua(e,n,r,l,a,o,i,u,s,c,f,d){return e=new ia(e,n,r,i,s,c,f,d,u),n=1,!0===o&&(n|=24),o=t(3,null,null,n),e.current=o,o.stateNode=e,(n=ie()).refCount++,e.pooledCache=n,n.refCount++,o.memoizedState={element:l,isDehydrated:r,cache:n},Ue(o),e}function sa(e){return e?e=au:au}function ca(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return null===(e=null!==(e=o(t))?i(e):null)?null:Ua(e.stateNode)}function fa(e,t,n,r,l,a){l=sa(l),null===r.context?r.context=l:r.pendingContext=l,(r=Qe(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=Ve(e,r,t))&&(hl(n,0,t),Be(n,e,t))}function da(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function pa(e,t){da(e,t),(e=e.alternate)&&da(e,t)}var ma={},ha=m.default,ga=y.default,ba=Object.assign,va=Symbol.for("react.element"),ya=Symbol.for("react.transitional.element"),Sa=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),Ca=Symbol.for("react.profiler"),za=Symbol.for("react.consumer"),Pa=Symbol.for("react.context"),xa=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),ja=Symbol.for("react.suspense_list"),Na=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),Ta=Symbol.for("react.activity"),Ia=Symbol.for("react.memo_cache_sentinel"),Oa=Symbol.iterator,La=Symbol.for("react.client.reference"),Ra=Array.isArray,Ma=ha.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fa=e.rendererVersion,Aa=e.rendererPackageName,Ha=e.extraDevToolsConfig,Ua=e.getPublicInstance,Da=e.getRootHostContext,Qa=e.getChildHostContext,Va=e.prepareForCommit,Ba=e.resetAfterCommit,$a=e.createInstance;e.cloneMutableInstance;var Wa=e.appendInitialChild,qa=e.finalizeInitialChildren,Ga=e.shouldSetTextContent,Ya=e.createTextInstance;e.cloneMutableTextInstance;var Xa=e.scheduleTimeout,Ka=e.cancelTimeout,Za=e.noTimeout,Ja=e.isPrimaryRenderer;e.warnsIfNotActing;var eo=e.supportsMutation,to=e.supportsPersistence,no=e.supportsHydration,ro=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var lo=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ao=e.setCurrentUpdatePriority,oo=e.getCurrentUpdatePriority,io=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var uo=e.shouldAttemptEagerTransition,so=e.detachDeletedInstance;e.requestPostPaintCallback;var co=e.maySuspendCommit,fo=e.maySuspendCommitOnUpdate,po=e.maySuspendCommitInSyncRender,mo=e.preloadInstance,ho=e.startSuspendingCommit,go=e.suspendInstance;e.suspendOnActiveViewTransition;var bo=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var vo=e.NotPendingTransition,yo=e.HostTransitionContext,So=e.resetFormInstance;e.bindToConsole;var wo=e.supportsMicrotasks,ko=e.scheduleMicrotask,Co=e.supportsTestSelectors,zo=e.findFiberRoot,Po=e.getBoundingRect,xo=e.getTextContent,Eo=e.isHiddenSubtree,jo=e.matchAccessibilityRole,No=e.setFocusIfFocusable,_o=e.setupIntersectionObserver,To=e.appendChild,Io=e.appendChildToContainer,Oo=e.commitTextUpdate,Lo=e.commitMount,Ro=e.commitUpdate,Mo=e.insertBefore,Fo=e.insertInContainerBefore,Ao=e.removeChild,Ho=e.removeChildFromContainer,Uo=e.resetTextContent,Do=e.hideInstance,Qo=e.hideTextInstance,Vo=e.unhideInstance,Bo=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var $o=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var Wo=e.cloneInstance,qo=e.createContainerChildSet,Go=e.appendChildToContainerChildSet,Yo=e.finalizeContainerChildren,Xo=e.replaceContainerChildren,Ko=e.cloneHiddenInstance,Zo=e.cloneHiddenTextInstance,Jo=e.isSuspenseInstancePending,ei=e.isSuspenseInstanceFallback,ti=e.getSuspenseInstanceFallbackErrorDetails,ni=e.registerSuspenseInstanceRetry,ri=e.canHydrateFormStateMarker,li=e.isFormStateMarkerMatching,ai=e.getNextHydratableSibling,oi=e.getNextHydratableSiblingAfterSingleton,ii=e.getFirstHydratableChild,ui=e.getFirstHydratableChildWithinContainer,si=e.getFirstHydratableChildWithinActivityInstance,ci=e.getFirstHydratableChildWithinSuspenseInstance,fi=e.getFirstHydratableChildWithinSingleton,di=e.canHydrateInstance,pi=e.canHydrateTextInstance,mi=e.canHydrateActivityInstance,hi=e.canHydrateSuspenseInstance,gi=e.hydrateInstance,bi=e.hydrateTextInstance,vi=e.hydrateActivityInstance,yi=e.hydrateSuspenseInstance,Si=e.getNextHydratableInstanceAfterActivityInstance,wi=e.getNextHydratableInstanceAfterSuspenseInstance,ki=e.commitHydratedInstance,Ci=e.commitHydratedContainer,zi=e.commitHydratedActivityInstance,Pi=e.commitHydratedSuspenseInstance,xi=e.finalizeHydratedChildren,Ei=e.flushHydrationEvents;e.clearActivityBoundary;var ji=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var Ni=e.clearSuspenseBoundaryFromContainer,_i=e.hideDehydratedBoundary,Ti=e.unhideDehydratedBoundary,Ii=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Oi,Li,Ri=e.validateHydratableInstance,Mi=e.validateHydratableTextInstance,Fi=e.supportsResources,Ai=e.isHostHoistableType,Hi=e.getHoistableRoot,Ui=e.getResource,Di=e.acquireResource,Qi=e.releaseResource,Vi=e.hydrateHoistable,Bi=e.mountHoistable,$i=e.unmountHoistable,Wi=e.createHoistableInstance,qi=e.prepareToCommitHoistables,Gi=e.mayResourceSuspendCommit,Yi=e.preloadResource,Xi=e.suspendResource,Ki=e.supportsSingletons,Zi=e.resolveSingletonInstance,Ji=e.acquireSingletonInstance,eu=e.releaseSingletonInstance,tu=e.isHostSingletonType,nu=e.isSingletonScope,ru=[],lu=-1,au={},ou=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(iu(e)/uu|0)|0},iu=Math.log,uu=Math.LN2,su=256,cu=262144,fu=4194304,du=ga.unstable_scheduleCallback,pu=ga.unstable_cancelCallback,mu=ga.unstable_shouldYield,hu=ga.unstable_requestPaint,gu=ga.unstable_now,bu=ga.unstable_ImmediatePriority,vu=ga.unstable_UserBlockingPriority,yu=ga.unstable_NormalPriority,Su=ga.unstable_IdlePriority,wu=ga.log,ku=ga.unstable_setDisableYieldValue,Cu=null,zu=null,Pu="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},xu="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Eu=Object.prototype.hasOwnProperty,ju=!1,Nu=new WeakMap,_u=[],Tu=0,Iu=null,Ou=0,Lu=[],Ru=0,Mu=null,Fu=1,Au="",Hu=f(null),Uu=f(null),Du=f(null),Qu=f(null),Vu=null,Bu=null,$u=!1,Wu=null,qu=!1,Gu=Error(r(519)),Yu=f(null),Xu=null,Ku=null,Zu=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ju=ga.unstable_scheduleCallback,es=ga.unstable_NormalPriority,ts={$$typeof:Pa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ns=null,rs=null,ls=!1,as=!1,os=!1,is=0,us=null,ss=0,cs=0,fs=null,ds=Ma.S;Ma.S=function(e,t){Rc=gu(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&ve(0,t),null!==ds&&ds(e,t)};var ps=f(null),ms=Error(r(460)),hs=Error(r(474)),gs=Error(r(542)),bs={then:function(){}},vs=null,ys=null,Ss=0,ws=Oe(!0),ks=Oe(!1),Cs=[],zs=0,Ps=0,xs=!1,Es=!1,js=f(null),Ns=f(0),_s=f(null),Ts=null,Is=f(0),Os=0,Ls=null,Rs=null,Ms=null,Fs=!1,As=!1,Hs=!1,Us=0,Ds=0,Qs=null,Vs=0,Bs={readContext:le,use:bt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};Bs.useEffectEvent=at;var $s={readContext:le,use:bt,useCallback:function(e,t){return mt().memoizedState=[e,void 0===t?null:t],e},useContext:le,useEffect:qt,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,$t(4194308,4,Jt.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $t(4194308,4,e,t)},useInsertionEffect:function(e,t){$t(4,2,e,t)},useMemo:function(e,t){var n=mt();t=void 0===t?null:t;var r=e();if(Hs){N(!0);try{e()}finally{N(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=mt();if(void 0!==n){var l=n(t);if(Hs){N(!0);try{n(t)}finally{N(!1)}}}else l=t;return r.memoizedState=r.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},r.queue=e,e=e.dispatch=pn.bind(null,Ls,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},mt().memoizedState=e},useState:function(e){var t=(e=Nt(e)).queue,n=mn.bind(null,Ls,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tn,useDeferredValue:function(e,t){return ln(mt(),e,t)},useTransition:function(){var e=Nt(!1);return e=on.bind(null,Ls,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ls,a=mt();if($u){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===gc)throw Error(r(349));127&vc||zt(l,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,qt(xt.bind(null,l,o,e),[e]),l.flags|=2048,Vt(9,{destroy:void 0},Pt.bind(null,l,o,n,t),null),n},useId:function(){var e=mt(),t=gc.identifierPrefix;if($u){var n=Au;t="_"+t+"R_"+(n=(Fu&~(1<<32-ou(Fu)-1)).toString(32)+n),0<(n=Us++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Vs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sn,useFormState:At,useActionState:At,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=gn.bind(null,Ls,!0,n),n.dispatch=t,[e,t]},useMemoCache:vt,useCacheRefresh:function(){return mt().memoizedState=dn.bind(null,Ls)},useEffectEvent:function(e){var t=mt(),n={impl:e};return t.memoizedState=n,function(){if(2&hc)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Ws={readContext:le,use:bt,useCallback:nn,useContext:le,useEffect:Gt,useImperativeHandle:en,useInsertionEffect:Kt,useLayoutEffect:Zt,useMemo:rn,useReducer:St,useRef:Bt,useState:function(){return St(yt)},useDebugValue:tn,useDeferredValue:function(e,t){return an(ht(),Rs.memoizedState,e,t)},useTransition:function(){var e=St(yt)[0],t=ht().memoizedState;return["boolean"==typeof e?e:gt(e),t]},useSyncExternalStore:Ct,useId:cn,useHostTransitionStatus:sn,useFormState:Ht,useActionState:Ht,useOptimistic:function(e,t){return _t(ht(),0,e,t)},useMemoCache:vt,useCacheRefresh:fn};Ws.useEffectEvent=Xt;var qs={readContext:le,use:bt,useCallback:nn,useContext:le,useEffect:Gt,useImperativeHandle:en,useInsertionEffect:Kt,useLayoutEffect:Zt,useMemo:rn,useReducer:kt,useRef:Bt,useState:function(){return kt(yt)},useDebugValue:tn,useDeferredValue:function(e,t){var n=ht();return null===Rs?ln(n,e,t):an(n,Rs.memoizedState,e,t)},useTransition:function(){var e=kt(yt)[0],t=ht().memoizedState;return["boolean"==typeof e?e:gt(e),t]},useSyncExternalStore:Ct,useId:cn,useHostTransitionStatus:sn,useFormState:Qt,useActionState:Qt,useOptimistic:function(e,t){var n=ht();return null!==Rs?_t(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:vt,useCacheRefresh:fn};qs.useEffectEvent=Xt;var Gs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pl(),l=Qe(r);l.payload=t,null!=n&&(l.callback=n),null!==(t=Ve(e,l,r))&&(hl(t,0,r),Be(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pl(),l=Qe(r);l.tag=1,l.payload=t,null!=n&&(l.callback=n),null!==(t=Ve(e,l,r))&&(hl(t,0,r),Be(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pl(),r=Qe(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=Ve(e,r,n))&&(hl(t,0,n),Be(t,e,n))}},Ys=Error(r(461)),Xs=!1,Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Zs=!1,Js=!1,ec=!1,tc="function"==typeof WeakSet?WeakSet:Set,nc=null,rc=null,lc=!1,ac=null,oc=8192,ic={getCacheForType:function(e){var t=le(ts),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return le(ts).controller.signal}},uc=0,sc=1,cc=2,fc=3,dc=4;if("function"==typeof Symbol&&Symbol.for){var pc=Symbol.for;uc=pc("selector.component"),sc=pc("selector.has_pseudo_class"),cc=pc("selector.role"),fc=pc("selector.test_id"),dc=pc("selector.text")}var mc="function"==typeof WeakMap?WeakMap:Map,hc=0,gc=null,bc=null,vc=0,yc=0,Sc=null,wc=!1,kc=!1,Cc=!1,zc=0,Pc=0,xc=0,Ec=0,jc=0,Nc=0,_c=0,Tc=null,Ic=null,Oc=!1,Lc=0,Rc=0,Mc=1/0,Fc=null,Ac=null,Hc=0,Uc=null,Dc=null,Qc=0,Vc=0,Bc=null,$c=null,Wc=0,qc=null;return ma.attemptContinuousHydration=function(e){if(13===e.tag||31===e.tag){var t=Fe(e,67108864);null!==t&&hl(t,0,67108864),pa(e,67108864)}},ma.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag||31===e.tag){var t=pl(),n=Fe(e,t=E(t));null!==n&&hl(n,0,t),pa(e,t)}},ma.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if((e=e.stateNode).current.memoizedState.isDehydrated){var t=h(e.pendingLanes);if(0!==t){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-ou(t);e.entanglements[1]|=n,t&=~n}ce(e),!(6&hc)&&(Mc=gu()+500,fe(0,!1))}}break;case 31:case 13:null!==(t=Fe(e,2))&&hl(t,0,2),Sl(),pa(e,2)}},ma.batchedUpdates=function(e,t){return e(t)},ma.createComponentSelector=function(e){return{$$typeof:uc,value:e}},ma.createContainer=function(e,t,n,r,l,a,o,i,u,s){return ua(e,t,!1,null,0,r,a,null,o,i,u,s)},ma.createHasPseudoClassSelector=function(e){return{$$typeof:sc,value:e}},ma.createHydrationContainer=function(e,t,n,r,l,a,o,i,u,s,c,f,d,p){var m;return(e=ua(n,r,!0,e,0,a,i,p,u,s,c,f)).context=sa(null),n=e.current,(l=Qe(r=E(r=pl()))).callback=null!=(m=t)?m:null,Ve(n,l,r),t=r,e.current.lanes=t,k(e,t),ce(e),e},ma.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Sa,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},ma.createRoleSelector=function(e){return{$$typeof:cc,value:e}},ma.createTestNameSelector=function(e){return{$$typeof:fc,value:e}},ma.createTextSelector=function(e){return{$$typeof:dc,value:e}},ma.defaultOnCaughtError=function(e){console.error(e)},ma.defaultOnRecoverableError=function(e){xu(e)},ma.defaultOnUncaughtError=function(e){xu(e)},ma.deferredUpdates=function(e){var t=Ma.T,n=oo();try{return ao(32),Ma.T=null,e()}finally{ao(n),Ma.T=t}},ma.discreteUpdates=function(e,t,n,r,l){var a=Ma.T,o=oo();try{return ao(2),Ma.T=null,e(t,n,r,l)}finally{ao(o),Ma.T=a,0===hc&&(Mc=gu()+500)}},ma.findAllNodes=dl,ma.findBoundingRects=function(e,t){if(!Co)throw Error(r(363));t=dl(e,t),e=[];for(var n=0;n<t.length;n++)e.push(Po(t[n]));for(t=e.length-1;0<t;t--)for(var l=(n=e[t]).x,a=l+n.width,o=n.y,i=o+n.height,u=t-1;0<=u;u--)if(t!==u){var s=e[u],c=s.x,f=c+s.width,d=s.y,p=d+s.height;if(l>=c&&o>=d&&a<=f&&i<=p){e.splice(t,1);break}if(!(l!==c||n.width!==s.width||p<o||d>i)){d>o&&(s.height+=d-o,s.y=o),p<i&&(s.height=i-d),e.splice(t,1);break}if(!(o!==d||n.height!==s.height||f<l||c>a)){c>l&&(s.width+=c-l,s.x=l),f<a&&(s.width=a-c),e.splice(t,1);break}}return e},ma.findHostInstance=ca,ma.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=o(e))?u(e):null)?null:Ua(e.stateNode)},ma.findHostInstanceWithWarning=function(e){return ca(e)},ma.flushPassiveEffects=Ql,ma.flushSyncFromReconciler=function(e){var t=hc;hc|=1;var n=Ma.T,r=oo();try{if(ao(2),Ma.T=null,e)return e()}finally{ao(r),Ma.T=n,!(6&(hc=t))&&fe(0,!1)}},ma.flushSyncWork=Sl,ma.focusWithin=function(e,t){if(!Co)throw Error(r(363));for(t=fl(e=ul(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++],l=n.tag;if(!Eo(n)){if((5===l||26===l||27===l)&&No(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},ma.getFindAllNodesFailureDescription=function(e,t){if(!Co)throw Error(r(363));var n=0,l=[];e=[ul(e),0];for(var a=0;a<e.length;){var o=e[a++],i=o.tag,u=e[a++],s=t[u];if((5!==i&&26!==i&&27!==i||!Eo(o))&&(sl(o,s)&&(l.push(cl(s)),++u>n&&(n=u)),u<t.length))for(o=o.child;null!==o;)e.push(o,u),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(cl(t[n]));return"findAllNodes was able to match part of the selector:\n  "+l.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},ma.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 27:case 5:return Ua(e.child.stateNode);default:return e.child.stateNode}},ma.injectIntoDevTools=function(){var e={bundleType:0,version:Fa,rendererPackageName:Aa,currentDispatcherRef:Ma,reconcilerVersion:"19.2.0"};if(null!==Ha&&(e.rendererConfig=Ha),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Cu=t.inject(e),zu=t}catch{}e=!!t.checkDCE}}return e},ma.isAlreadyRendering=function(){return!!(6&hc)},ma.observeVisibleRects=function(e,t,n,l){if(!Co)throw Error(r(363));e=dl(e,t);var a=_o(e,n,l).disconnect;return{disconnect:function(){a()}}},ma.shouldError=function(){return null},ma.shouldSuspend=function(){return!1},ma.startHostTransition=function(e,t,l,a){if(5!==e.tag)throw Error(r(476));var o=un(e).queue;on(e,o,t,vo,null===l?n:function(){var t=un(e);return null===t.next&&(t=e.alternate.memoizedState),hn(e,t.next.queue,{},pl()),l(a)})},ma.updateContainer=function(e,t,n,r){var l=t.current,a=pl();return fa(l,a,e,t,n,r),a},ma.updateContainerSync=function(e,t,n,r){return fa(t.current,2,e,t,n,r),2},ma},ke.exports.default=ke.exports,Object.defineProperty(ke.exports,"__esModule",{value:!0})),Se.exports)),ye.exports);const ze=(function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e})(Ce);function Pe(e){const t=ze(e);return t.injectIntoDevTools(),t}const xe={},Ee=/^three(?=[A-Z])/,je=e=>`${e[0].toUpperCase()}${e.slice(1)}`;let Ne=0;const _e=e=>'function'==typeof e;function Te(e){if(_e(e)){const t=""+Ne++;return xe[t]=e,t}Object.assign(xe,e)}function Ie(e,t){const n=je(e),r=xe[n];if('primitive'!==e&&!r)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if('primitive'===e&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw new Error('R3F: The args prop must be an array!')}function Oe(e){var t;e.isHidden&&(e.props.attach&&null!=(t=e.parent)&&t.object?V(e.parent,e):ee(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,Z(e))}function Le(e,t,n){const r=t.root.getState();if(e.parent||e.object===r.scene){if(!t.object){var l,a;const e=xe[je(t.type)];t.object=null!=(l=t.props.object)?l:new e(...null!=(a=t.props.args)?a:[]),t.object.__r3f=t}if(K(t.object,t.props),t.props.attach)V(e,t);else if(ee(t.object)&&ee(e.object)){const r=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==r){const n=e.object.children.indexOf(t.object);if(-1!==n){e.object.children.splice(n,1);const l=n<r?r-1:r;e.object.children.splice(l,0,t.object)}else t.object.parent=e.object,e.object.children.splice(r,0,t.object),t.object.dispatchEvent({type:'added'}),e.object.dispatchEvent({type:'childadded',child:t.object})}else e.object.add(t.object)}for(const e of t.children)Le(t,e);Z(t)}}function Re(e,t){t&&(t.parent=e,e.children.push(t),Le(e,t))}function Me(e,t,n){if(!t||!n)return;t.parent=e;const r=e.children.indexOf(n);-1!==r?e.children.splice(r,0,t):e.children.push(t),Le(e,t,n)}function Fe(e){if('function'==typeof e.dispose){const t=()=>{try{e.dispose()}catch{}};'undefined'!=typeof IS_REACT_ACT_ENVIRONMENT?t():(0,v.unstable_scheduleCallback)(v.unstable_IdlePriority,t)}}function Ae(e,t,n){if(!t)return;t.parent=null;const r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1),t.props.attach?B(e,t):ee(t.object)&&ee(e.object)&&(e.object.remove(t.object),re(C(t),t.object));const l=null!==t.props.dispose&&!1!==n;for(let e=t.children.length-1;e>=0;e--){Ae(t,t.children[e],l)}t.children.length=0,delete t.object.__r3f,l&&'primitive'!==t.type&&'Scene'!==t.object.type&&Fe(t.object),void 0===n&&Z(t)}function He(e,t){for(const n of[e,e.alternate])if(null!==n)if('function'==typeof n.ref){null==n.refCleanup||n.refCleanup();const e=n.ref(t);'function'==typeof e&&(n.refCleanup=e)}else n.ref&&(n.ref.current=t)}const Ue=[];function De(){for(const[e]of Ue){const t=e.parent;if(t){e.props.attach?B(t,e):ee(e.object)&&ee(t.object)&&t.object.remove(e.object);for(const t of e.children)t.props.attach?B(e,t):ee(t.object)&&ee(e.object)&&e.object.remove(t.object)}e.isHidden&&Oe(e),e.object.__r3f&&delete e.object.__r3f,'primitive'!==e.type&&Fe(e.object)}for(const[n,r,l]of Ue){n.props=r;const a=n.parent;if(a){var e,t;const r=xe[je(n.type)];n.object=null!=(e=n.props.object)?e:new r(...null!=(t=n.props.args)?t:[]),n.object.__r3f=n,He(l,n.object),K(n.object,n.props),n.props.attach?V(a,n):ee(n.object)&&ee(a.object)&&a.object.add(n.object);for(const e of n.children)e.props.attach?V(n,e):ee(e.object)&&ee(n.object)&&n.object.add(e.object);Z(n)}}Ue.length=0}const Qe=()=>{},Ve={};let Be=0;const $e=Pe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var r;return Ie(e=je(e)in xe?e:e.replace(Ee,''),t),'primitive'===e&&null!=(r=t.object)&&r.__r3f&&delete t.object.__r3f,U(t.object,n,e,t)},removeChild:Ae,appendChild:Re,appendInitialChild:Re,insertBefore:Me,appendChildToContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&Re(n,t)},removeChildFromContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&Ae(n,t)},insertInContainerBefore(e,t,n){const r=e.getState().scene.__r3f;t&&n&&r&&Me(r,t,n)},getRootHostContext:()=>Ve,getChildHostContext:()=>Ve,commitUpdate(e,t,n,r,l){var a,o,i;Ie(t,r);let u=!1;if(('primitive'===e.type&&n.object!==r.object||(null==(a=r.args)?void 0:a.length)!==(null==(o=n.args)?void 0:o.length)||null!=(i=r.args)&&i.some((e,t)=>{var r;return e!==(null==(r=n.args)?void 0:r[t])}))&&(u=!0),u)Ue.push([e,Object.assign({},r),l]);else{const t=G(e,r);Object.keys(t).length&&(Object.assign(e.props,t),K(e.object,t))}(null===l.sibling||!(4&l.flags))&&De()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>U(e.getState().scene,e,'',{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){var t;e.isHidden||(e.props.attach&&null!=(t=e.parent)&&t.object?B(e.parent,e):ee(e.object)&&(e.object.visible=!1),e.isHidden=!0,Z(e))},unhideInstance:Oe,createTextInstance:Qe,hideTextInstance:Qe,unhideTextInstance:Qe,scheduleTimeout:'function'==typeof setTimeout?setTimeout:void 0,cancelTimeout:'function'==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:p.createContext(null),setCurrentUpdatePriority(e){Be=e},getCurrentUpdatePriority:()=>Be,resolveUpdatePriority(){var e;if(0!==Be)return Be;switch('undefined'!=typeof window&&(null==(e=window.event)?void 0:e.type)){case'click':case'contextmenu':case'dblclick':case'pointercancel':case'pointerdown':case'pointerup':return 2;case'pointermove':case'pointerout':case'pointerover':case'pointerenter':case'pointerleave':case'wheel':return 8;default:return 32}},resetFormInstance(){},rendererPackageName:'@react-three/fiber',rendererVersion:"9.5.0",applyViewTransitionName(e,t,n){},restoreViewTransitionName(e,t){},cancelViewTransitionName(e,t,n){},cancelRootViewTransitionName(e){},restoreRootViewTransitionName(e){},InstanceMeasurement:null,measureInstance:e=>null,wasInstanceInViewport:e=>!0,hasInstanceChanged:(e,t)=>!1,hasInstanceAffectedParent:(e,t)=>!1,suspendOnActiveViewTransition(e,t){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(e){},createViewTransitionInstance:e=>null,getCurrentGestureOffset(e){throw new Error('startGestureTransition is not yet supported in react-three-fiber.')},cloneMutableInstance:(e,t)=>e,cloneMutableTextInstance:e=>e,cloneRootViewTransitionContainer(e){throw new Error('Not implemented.')},removeRootViewTransitionClone(e,t){throw new Error('Not implemented.')},createFragmentInstance:e=>null,updateFragmentInstanceFiber(e,t){},commitNewChildToFragmentInstance(e,t){},deleteChildFromFragmentInstance(e,t){},measureClonedInstance:e=>null,maySuspendCommitOnUpdate:(e,t,n)=>!1,maySuspendCommitInSyncRender:(e,t)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(e,t)=>null}),We=new Map,qe={objects:'shallow',strict:!1};function Ge(e,t){if(!t&&'undefined'!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:n,top:r,left:l}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:l}}return!t&&'undefined'!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:Object.assign({width:0,height:0,top:0,left:0},t)}function Ye(e){const t=We.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn('R3F.createRoot should only be called once!');const l='function'==typeof reportError?reportError:console.error,a=r||ie(yt,St),o=n||$e.createContainer(a,be,null,!1,null,'',l,l,l,null);let u,s;t||We.set(e,{fiber:o,store:a});let c=!1,d=null;return{async configure(t={}){let n;d=new Promise(e=>n=e);let{gl:r,size:l,scene:o,events:p,onCreated:m,shadows:g=!1,linear:b=!1,flat:v=!1,legacy:y=!1,orthographic:S=!1,frameloop:w="always",dpr:k=[1,2],performance:C,raycaster:z,camera:P,onPointerMissed:x}=t,E=a.getState(),j=E.gl;if(!E.gl){const t={canvas:e,powerPreference:'high-performance',antialias:!0,alpha:!0},n='function'==typeof r?await r(t):r;j=ae(n)?n:new h.WebGLRenderer(Object.assign({},t,r)),E.set({gl:j})}let N=E.raycaster;N||E.set({raycaster:N=new h.Raycaster});const _=z||{},{params:T}=_,I=(0,f.default)(_,i);if(R.equ(I,N,qe)||K(N,Object.assign({},I)),R.equ(T,N.params,qe)||K(N,{params:Object.assign({},N.params,T)}),!E.camera||E.camera===s&&!R.equ(s,P,qe)){s=P;const e=null==P?void 0:P.isCamera,t=e?P:S?new h.OrthographicCamera(0,0,0,0,.1,1e3):new h.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,P&&(K(t,P),t.manual||('aspect'in P||'left'in P||'right'in P||'bottom'in P||'top'in P)&&(t.manual=!0,t.updateProjectionMatrix())),E.camera||null!=P&&P.rotation||t.lookAt(0,0,0)),E.set({camera:t}),N.camera=t}if(!E.scene){let e;null!=o&&o.isScene?(e=o,U(e,a,'',{})):(e=new h.Scene,U(e,a,'',{}),o&&K(e,o)),E.set({scene:e})}p&&!E.events.handlers&&E.set({events:p(a)});const L=Ge(e,l);if(R.equ(L,E.size,qe)||E.setSize(L.width,L.height,L.top,L.left),k&&E.viewport.dpr!==O(k)&&E.setDpr(k),E.frameloop!==w&&E.setFrameloop(w),E.onPointerMissed||E.set({onPointerMissed:x}),C&&!R.equ(C,E.performance,qe)&&E.set(e=>({performance:Object.assign({},e.performance,C)})),!E.xr){var M;const e=(e,t)=>{const n=a.getState();'never'!==n.frameloop&&St(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||yt(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener('sessionstart',t),e.xr.addEventListener('sessionend',t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener('sessionstart',t),e.xr.removeEventListener('sessionend',t)}};'function'==typeof(null==(M=j.xr)?void 0:M.addEventListener)&&n.connect(),E.set({xr:n})}if(j.shadowMap){const e=j.shadowMap.enabled,t=j.shadowMap.type;if(j.shadowMap.enabled=!!g,R.boo(g))j.shadowMap.type=h.PCFSoftShadowMap;else if(R.str(g)){var F;const e={basic:h.BasicShadowMap,percentage:h.PCFShadowMap,soft:h.PCFSoftShadowMap,variance:h.VSMShadowMap};j.shadowMap.type=null!=(F=e[g])?F:h.PCFSoftShadowMap}else R.obj(g)&&Object.assign(j.shadowMap,g);e===j.shadowMap.enabled&&t===j.shadowMap.type||(j.shadowMap.needsUpdate=!0)}return h.ColorManagement.enabled=!y,c||(j.outputColorSpace=b?h.LinearSRGBColorSpace:h.SRGBColorSpace,j.toneMapping=v?h.NoToneMapping:h.ACESFilmicToneMapping),E.legacy!==y&&E.set(()=>({legacy:y})),E.linear!==b&&E.set(()=>({linear:b})),E.flat!==v&&E.set(()=>({flat:v})),!r||R.fun(r)||ae(r)||R.equ(r,j,qe)||K(j,r),u=m,c=!0,n(),this},render(t){return c||d||this.configure(),d.then(()=>{$e.updateContainer((0,S.jsx)(Xe,{store:a,children:t,onCreated:u,rootElement:e}),o,null,()=>{})}),a},unmount(){Ke(e)}}}function Xe({store:e,children:t,onCreated:n,rootElement:r}){return j(()=>{const t=e.getState();t.set(e=>({internal:Object.assign({},e.internal,{active:!0})})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),(0,S.jsx)(oe.Provider,{value:e,children:t})}function Ke(e,t){const n=We.get(e),r=null==n?void 0:n.fiber;if(r){const l=null==n?void 0:n.store.getState();l&&(l.internal.active=!1),$e.updateContainer(null,r,null,()=>{l&&setTimeout(()=>{try{var n,r,a,o;null==l.events.disconnect||l.events.disconnect(),null==(n=l.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=l.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=l.gl)&&o.xr&&l.xr.disconnect(),F(l.scene),We.delete(e),t&&t(e)}catch(e){}},500)})}}function Ze(e,t,n){return(0,S.jsx)(Je,{children:e,container:t,state:n})}function Je({state:e={},children:t,container:n}){const{events:r,size:l}=e,a=(0,f.default)(e,u),o=se(),[i]=p.useState(()=>new h.Raycaster),[s]=p.useState(()=>new h.Vector2),c=N((e,t)=>{let a;if(t.camera&&l){const n=t.camera;a=e.viewport.getCurrentViewport(n,new h.Vector3,l),n!==e.camera&&J(n,l)}return Object.assign({},e,t,{scene:n,raycaster:i,pointer:s,mouse:s,previousRoot:o,events:Object.assign({},e.events,t.events,r),size:Object.assign({},e.size,l),viewport:Object.assign({},e.viewport,a),setEvents:e=>t.set(t=>Object.assign({},t,{events:Object.assign({},t.events,e)}))})}),d=p.useMemo(()=>{const e=(0,g.createWithEqualityFn)((e,t)=>Object.assign({},a,{set:e,get:t})),t=t=>e.setState(e=>c.current(t,e));return t(o.getState()),o.subscribe(t),e},[o,n]);return(0,S.jsx)(S.Fragment,{children:$e.createPortal((0,S.jsx)(oe.Provider,{value:d,children:t}),d,null)})}function et(e){return $e.flushSyncFromReconciler(e)}function tt(e,t){const n={callback:e};return t.add(n),()=>{t.delete(n)}}const nt=new Set,rt=new Set,lt=new Set,at=e=>tt(e,nt),ot=e=>tt(e,rt),it=e=>tt(e,lt);function ut(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function st(e,t){switch(e){case'before':return ut(nt,t);case'after':return ut(rt,t);case'tail':return ut(lt,t)}}let ct,ft;function dt(e,t,n){let r=t.clock.getDelta();'never'===t.frameloop&&'number'==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),ct=t.internal.subscribers;for(let e=0;e<ct.length;e++)ft=ct[e],ft.ref.current(ft.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),'always'===t.frameloop?1:t.internal.frames}let pt,mt,ht,gt=!1,bt=!1;function vt(e){mt=requestAnimationFrame(vt),gt=!0,pt=0,st('before',e),bt=!0;for(const n of We.values()){var t;ht=n.store.getState(),!ht.internal.active||!('always'===ht.frameloop||ht.internal.frames>0)||null!=(t=ht.gl.xr)&&t.isPresenting||(pt+=dt(e,ht))}if(bt=!1,st('after',e),0===pt)return st('tail',e),gt=!1,cancelAnimationFrame(mt)}function yt(e,t=1){var n;if(!e)return We.forEach(e=>yt(e.store.getState(),t));null!=(n=e.gl.xr)&&n.isPresenting||!e.internal.active||'never'===e.frameloop||(e.internal.frames=t>1?Math.min(60,e.internal.frames+t):bt?2:1,gt||(gt=!0,requestAnimationFrame(vt)))}function St(e,t=!0,n,r){if(t&&st('before',e),n)dt(e,n,r);else for(const t of We.values())dt(e,t.store.getState());t&&st('after',e)}const wt={onClick:['click',!1],onContextMenu:['contextmenu',!1],onDoubleClick:['dblclick',!1],onWheel:['wheel',!0],onPointerDown:['pointerdown',!0],onPointerUp:['pointerup',!0],onPointerLeave:['pointerleave',!0],onPointerMove:['pointermove',!0],onPointerCancel:['pointercancel',!0],onLostPointerCapture:['lostpointercapture',!0]};function kt(e){const{handlePointer:t}=le(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(wt).reduce((e,n)=>Object.assign({},e,{[n]:t(n)}),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=e.getState();if(null==r.disconnect||r.disconnect(),n(e=>({events:Object.assign({},e.events,{connected:t})})),r.handlers)for(const e in r.handlers){const n=r.handlers[e],[l,a]=wt[e];t.addEventListener(l,n,{passive:a})}},disconnect:()=>{const{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(const e in n.handlers){const t=n.handlers[e],[r]=wt[e];n.connected.removeEventListener(r,t)}t(e=>({events:Object.assign({},e.events,{connected:void 0})}))}}}}},212,[129,36,213,215,220,221,208,223]);
__d(function(e,t,n,r,i,a,o){"use strict";Object.defineProperty(a,'__esModule',{value:!0}),Object.defineProperty(a,"AdditiveAnimationBlendMode",{enumerable:!0,get:function(){return s.AdditiveAnimationBlendMode}}),Object.defineProperty(a,"AlwaysStencilFunc",{enumerable:!0,get:function(){return s.AlwaysStencilFunc}}),Object.defineProperty(a,"AmbientLight",{enumerable:!0,get:function(){return s.AmbientLight}}),Object.defineProperty(a,"AnimationAction",{enumerable:!0,get:function(){return s.AnimationAction}}),Object.defineProperty(a,"AnimationClip",{enumerable:!0,get:function(){return s.AnimationClip}}),Object.defineProperty(a,"AnimationLoader",{enumerable:!0,get:function(){return s.AnimationLoader}}),Object.defineProperty(a,"AnimationMixer",{enumerable:!0,get:function(){return s.AnimationMixer}}),Object.defineProperty(a,"AnimationObjectGroup",{enumerable:!0,get:function(){return s.AnimationObjectGroup}}),Object.defineProperty(a,"AnimationUtils",{enumerable:!0,get:function(){return s.AnimationUtils}}),Object.defineProperty(a,"ArcCurve",{enumerable:!0,get:function(){return s.ArcCurve}}),Object.defineProperty(a,"ArrowHelper",{enumerable:!0,get:function(){return s.ArrowHelper}}),Object.defineProperty(a,"AttachedBindMode",{enumerable:!0,get:function(){return s.AttachedBindMode}}),Object.defineProperty(a,"Audio",{enumerable:!0,get:function(){return s.Audio}}),Object.defineProperty(a,"AudioAnalyser",{enumerable:!0,get:function(){return s.AudioAnalyser}}),Object.defineProperty(a,"AudioContext",{enumerable:!0,get:function(){return s.AudioContext}}),Object.defineProperty(a,"AudioListener",{enumerable:!0,get:function(){return s.AudioListener}}),Object.defineProperty(a,"AudioLoader",{enumerable:!0,get:function(){return s.AudioLoader}}),Object.defineProperty(a,"AxesHelper",{enumerable:!0,get:function(){return s.AxesHelper}}),Object.defineProperty(a,"BasicDepthPacking",{enumerable:!0,get:function(){return s.BasicDepthPacking}}),Object.defineProperty(a,"BasicShadowMap",{enumerable:!0,get:function(){return s.BasicShadowMap}}),Object.defineProperty(a,"BatchedMesh",{enumerable:!0,get:function(){return s.BatchedMesh}}),Object.defineProperty(a,"BezierInterpolant",{enumerable:!0,get:function(){return s.BezierInterpolant}}),Object.defineProperty(a,"Bone",{enumerable:!0,get:function(){return s.Bone}}),Object.defineProperty(a,"BooleanKeyframeTrack",{enumerable:!0,get:function(){return s.BooleanKeyframeTrack}}),Object.defineProperty(a,"Box2",{enumerable:!0,get:function(){return s.Box2}}),Object.defineProperty(a,"Box3",{enumerable:!0,get:function(){return s.Box3}}),Object.defineProperty(a,"Box3Helper",{enumerable:!0,get:function(){return s.Box3Helper}}),Object.defineProperty(a,"BoxHelper",{enumerable:!0,get:function(){return s.BoxHelper}}),Object.defineProperty(a,"BufferGeometryLoader",{enumerable:!0,get:function(){return s.BufferGeometryLoader}}),Object.defineProperty(a,"Cache",{enumerable:!0,get:function(){return s.Cache}}),Object.defineProperty(a,"Camera",{enumerable:!0,get:function(){return s.Camera}}),Object.defineProperty(a,"CameraHelper",{enumerable:!0,get:function(){return s.CameraHelper}}),Object.defineProperty(a,"CanvasTexture",{enumerable:!0,get:function(){return s.CanvasTexture}}),Object.defineProperty(a,"CapsuleGeometry",{enumerable:!0,get:function(){return s.CapsuleGeometry}}),Object.defineProperty(a,"CatmullRomCurve3",{enumerable:!0,get:function(){return s.CatmullRomCurve3}}),Object.defineProperty(a,"CircleGeometry",{enumerable:!0,get:function(){return s.CircleGeometry}}),Object.defineProperty(a,"Clock",{enumerable:!0,get:function(){return s.Clock}}),Object.defineProperty(a,"ColorKeyframeTrack",{enumerable:!0,get:function(){return s.ColorKeyframeTrack}}),Object.defineProperty(a,"Compatibility",{enumerable:!0,get:function(){return s.Compatibility}}),Object.defineProperty(a,"CompressedArrayTexture",{enumerable:!0,get:function(){return s.CompressedArrayTexture}}),Object.defineProperty(a,"CompressedCubeTexture",{enumerable:!0,get:function(){return s.CompressedCubeTexture}}),Object.defineProperty(a,"CompressedTexture",{enumerable:!0,get:function(){return s.CompressedTexture}}),Object.defineProperty(a,"CompressedTextureLoader",{enumerable:!0,get:function(){return s.CompressedTextureLoader}}),Object.defineProperty(a,"ConeGeometry",{enumerable:!0,get:function(){return s.ConeGeometry}}),Object.defineProperty(a,"Controls",{enumerable:!0,get:function(){return s.Controls}}),Object.defineProperty(a,"CubeTextureLoader",{enumerable:!0,get:function(){return s.CubeTextureLoader}}),Object.defineProperty(a,"CubicBezierCurve",{enumerable:!0,get:function(){return s.CubicBezierCurve}}),Object.defineProperty(a,"CubicBezierCurve3",{enumerable:!0,get:function(){return s.CubicBezierCurve3}}),Object.defineProperty(a,"CubicInterpolant",{enumerable:!0,get:function(){return s.CubicInterpolant}}),Object.defineProperty(a,"CullFaceFrontBack",{enumerable:!0,get:function(){return s.CullFaceFrontBack}}),Object.defineProperty(a,"Curve",{enumerable:!0,get:function(){return s.Curve}}),Object.defineProperty(a,"CurvePath",{enumerable:!0,get:function(){return s.CurvePath}}),Object.defineProperty(a,"CylinderGeometry",{enumerable:!0,get:function(){return s.CylinderGeometry}}),Object.defineProperty(a,"Cylindrical",{enumerable:!0,get:function(){return s.Cylindrical}}),Object.defineProperty(a,"DataTextureLoader",{enumerable:!0,get:function(){return s.DataTextureLoader}}),Object.defineProperty(a,"DataUtils",{enumerable:!0,get:function(){return s.DataUtils}}),Object.defineProperty(a,"DecrementStencilOp",{enumerable:!0,get:function(){return s.DecrementStencilOp}}),Object.defineProperty(a,"DecrementWrapStencilOp",{enumerable:!0,get:function(){return s.DecrementWrapStencilOp}}),Object.defineProperty(a,"DefaultLoadingManager",{enumerable:!0,get:function(){return s.DefaultLoadingManager}}),Object.defineProperty(a,"DetachedBindMode",{enumerable:!0,get:function(){return s.DetachedBindMode}}),Object.defineProperty(a,"DirectionalLight",{enumerable:!0,get:function(){return s.DirectionalLight}}),Object.defineProperty(a,"DirectionalLightHelper",{enumerable:!0,get:function(){return s.DirectionalLightHelper}}),Object.defineProperty(a,"DiscreteInterpolant",{enumerable:!0,get:function(){return s.DiscreteInterpolant}}),Object.defineProperty(a,"DodecahedronGeometry",{enumerable:!0,get:function(){return s.DodecahedronGeometry}}),Object.defineProperty(a,"DynamicCopyUsage",{enumerable:!0,get:function(){return s.DynamicCopyUsage}}),Object.defineProperty(a,"DynamicDrawUsage",{enumerable:!0,get:function(){return s.DynamicDrawUsage}}),Object.defineProperty(a,"DynamicReadUsage",{enumerable:!0,get:function(){return s.DynamicReadUsage}}),Object.defineProperty(a,"EdgesGeometry",{enumerable:!0,get:function(){return s.EdgesGeometry}}),Object.defineProperty(a,"EllipseCurve",{enumerable:!0,get:function(){return s.EllipseCurve}}),Object.defineProperty(a,"EqualStencilFunc",{enumerable:!0,get:function(){return s.EqualStencilFunc}}),Object.defineProperty(a,"ExtrudeGeometry",{enumerable:!0,get:function(){return s.ExtrudeGeometry}}),Object.defineProperty(a,"FileLoader",{enumerable:!0,get:function(){return s.FileLoader}}),Object.defineProperty(a,"Float16BufferAttribute",{enumerable:!0,get:function(){return s.Float16BufferAttribute}}),Object.defineProperty(a,"Fog",{enumerable:!0,get:function(){return s.Fog}}),Object.defineProperty(a,"FogExp2",{enumerable:!0,get:function(){return s.FogExp2}}),Object.defineProperty(a,"FramebufferTexture",{enumerable:!0,get:function(){return s.FramebufferTexture}}),Object.defineProperty(a,"FrustumArray",{enumerable:!0,get:function(){return s.FrustumArray}}),Object.defineProperty(a,"GLBufferAttribute",{enumerable:!0,get:function(){return s.GLBufferAttribute}}),Object.defineProperty(a,"GLSL1",{enumerable:!0,get:function(){return s.GLSL1}}),Object.defineProperty(a,"GreaterEqualStencilFunc",{enumerable:!0,get:function(){return s.GreaterEqualStencilFunc}}),Object.defineProperty(a,"GreaterStencilFunc",{enumerable:!0,get:function(){return s.GreaterStencilFunc}}),Object.defineProperty(a,"GridHelper",{enumerable:!0,get:function(){return s.GridHelper}}),Object.defineProperty(a,"Group",{enumerable:!0,get:function(){return s.Group}}),Object.defineProperty(a,"HemisphereLight",{enumerable:!0,get:function(){return s.HemisphereLight}}),Object.defineProperty(a,"HemisphereLightHelper",{enumerable:!0,get:function(){return s.HemisphereLightHelper}}),Object.defineProperty(a,"IcosahedronGeometry",{enumerable:!0,get:function(){return s.IcosahedronGeometry}}),Object.defineProperty(a,"ImageBitmapLoader",{enumerable:!0,get:function(){return s.ImageBitmapLoader}}),Object.defineProperty(a,"ImageLoader",{enumerable:!0,get:function(){return s.ImageLoader}}),Object.defineProperty(a,"ImageUtils",{enumerable:!0,get:function(){return s.ImageUtils}}),Object.defineProperty(a,"IncrementStencilOp",{enumerable:!0,get:function(){return s.IncrementStencilOp}}),Object.defineProperty(a,"IncrementWrapStencilOp",{enumerable:!0,get:function(){return s.IncrementWrapStencilOp}}),Object.defineProperty(a,"InstancedBufferAttribute",{enumerable:!0,get:function(){return s.InstancedBufferAttribute}}),Object.defineProperty(a,"InstancedBufferGeometry",{enumerable:!0,get:function(){return s.InstancedBufferGeometry}}),Object.defineProperty(a,"InstancedInterleavedBuffer",{enumerable:!0,get:function(){return s.InstancedInterleavedBuffer}}),Object.defineProperty(a,"InstancedMesh",{enumerable:!0,get:function(){return s.InstancedMesh}}),Object.defineProperty(a,"Int16BufferAttribute",{enumerable:!0,get:function(){return s.Int16BufferAttribute}}),Object.defineProperty(a,"Int32BufferAttribute",{enumerable:!0,get:function(){return s.Int32BufferAttribute}}),Object.defineProperty(a,"Int8BufferAttribute",{enumerable:!0,get:function(){return s.Int8BufferAttribute}}),Object.defineProperty(a,"InterleavedBuffer",{enumerable:!0,get:function(){return s.InterleavedBuffer}}),Object.defineProperty(a,"InterleavedBufferAttribute",{enumerable:!0,get:function(){return s.InterleavedBufferAttribute}}),Object.defineProperty(a,"Interpolant",{enumerable:!0,get:function(){return s.Interpolant}}),Object.defineProperty(a,"InterpolateBezier",{enumerable:!0,get:function(){return s.InterpolateBezier}}),Object.defineProperty(a,"InterpolateDiscrete",{enumerable:!0,get:function(){return s.InterpolateDiscrete}}),Object.defineProperty(a,"InterpolateLinear",{enumerable:!0,get:function(){return s.InterpolateLinear}}),Object.defineProperty(a,"InterpolateSmooth",{enumerable:!0,get:function(){return s.InterpolateSmooth}}),Object.defineProperty(a,"InterpolationSamplingMode",{enumerable:!0,get:function(){return s.InterpolationSamplingMode}}),Object.defineProperty(a,"InterpolationSamplingType",{enumerable:!0,get:function(){return s.InterpolationSamplingType}}),Object.defineProperty(a,"InvertStencilOp",{enumerable:!0,get:function(){return s.InvertStencilOp}}),Object.defineProperty(a,"KeepStencilOp",{enumerable:!0,get:function(){return s.KeepStencilOp}}),Object.defineProperty(a,"KeyframeTrack",{enumerable:!0,get:function(){return s.KeyframeTrack}}),Object.defineProperty(a,"LOD",{enumerable:!0,get:function(){return s.LOD}}),Object.defineProperty(a,"LatheGeometry",{enumerable:!0,get:function(){return s.LatheGeometry}}),Object.defineProperty(a,"LessEqualStencilFunc",{enumerable:!0,get:function(){return s.LessEqualStencilFunc}}),Object.defineProperty(a,"LessStencilFunc",{enumerable:!0,get:function(){return s.LessStencilFunc}}),Object.defineProperty(a,"Light",{enumerable:!0,get:function(){return s.Light}}),Object.defineProperty(a,"LightProbe",{enumerable:!0,get:function(){return s.LightProbe}}),Object.defineProperty(a,"Line",{enumerable:!0,get:function(){return s.Line}}),Object.defineProperty(a,"Line3",{enumerable:!0,get:function(){return s.Line3}}),Object.defineProperty(a,"LineBasicMaterial",{enumerable:!0,get:function(){return s.LineBasicMaterial}}),Object.defineProperty(a,"LineCurve",{enumerable:!0,get:function(){return s.LineCurve}}),Object.defineProperty(a,"LineCurve3",{enumerable:!0,get:function(){return s.LineCurve3}}),Object.defineProperty(a,"LineDashedMaterial",{enumerable:!0,get:function(){return s.LineDashedMaterial}}),Object.defineProperty(a,"LineLoop",{enumerable:!0,get:function(){return s.LineLoop}}),Object.defineProperty(a,"LineSegments",{enumerable:!0,get:function(){return s.LineSegments}}),Object.defineProperty(a,"LinearInterpolant",{enumerable:!0,get:function(){return s.LinearInterpolant}}),Object.defineProperty(a,"LinearMipMapLinearFilter",{enumerable:!0,get:function(){return s.LinearMipMapLinearFilter}}),Object.defineProperty(a,"LinearMipMapNearestFilter",{enumerable:!0,get:function(){return s.LinearMipMapNearestFilter}}),Object.defineProperty(a,"Loader",{enumerable:!0,get:function(){return s.Loader}}),Object.defineProperty(a,"LoaderUtils",{enumerable:!0,get:function(){return s.LoaderUtils}}),Object.defineProperty(a,"LoadingManager",{enumerable:!0,get:function(){return s.LoadingManager}}),Object.defineProperty(a,"LoopOnce",{enumerable:!0,get:function(){return s.LoopOnce}}),Object.defineProperty(a,"LoopPingPong",{enumerable:!0,get:function(){return s.LoopPingPong}}),Object.defineProperty(a,"LoopRepeat",{enumerable:!0,get:function(){return s.LoopRepeat}}),Object.defineProperty(a,"MOUSE",{enumerable:!0,get:function(){return s.MOUSE}}),Object.defineProperty(a,"Material",{enumerable:!0,get:function(){return s.Material}}),Object.defineProperty(a,"MaterialBlending",{enumerable:!0,get:function(){return s.MaterialBlending}}),Object.defineProperty(a,"MaterialLoader",{enumerable:!0,get:function(){return s.MaterialLoader}}),Object.defineProperty(a,"MathUtils",{enumerable:!0,get:function(){return s.MathUtils}}),Object.defineProperty(a,"Matrix2",{enumerable:!0,get:function(){return s.Matrix2}}),Object.defineProperty(a,"MeshLambertMaterial",{enumerable:!0,get:function(){return s.MeshLambertMaterial}}),Object.defineProperty(a,"MeshMatcapMaterial",{enumerable:!0,get:function(){return s.MeshMatcapMaterial}}),Object.defineProperty(a,"MeshNormalMaterial",{enumerable:!0,get:function(){return s.MeshNormalMaterial}}),Object.defineProperty(a,"MeshPhongMaterial",{enumerable:!0,get:function(){return s.MeshPhongMaterial}}),Object.defineProperty(a,"MeshPhysicalMaterial",{enumerable:!0,get:function(){return s.MeshPhysicalMaterial}}),Object.defineProperty(a,"MeshStandardMaterial",{enumerable:!0,get:function(){return s.MeshStandardMaterial}}),Object.defineProperty(a,"MeshToonMaterial",{enumerable:!0,get:function(){return s.MeshToonMaterial}}),Object.defineProperty(a,"NearestMipMapLinearFilter",{enumerable:!0,get:function(){return s.NearestMipMapLinearFilter}}),Object.defineProperty(a,"NearestMipMapNearestFilter",{enumerable:!0,get:function(){return s.NearestMipMapNearestFilter}}),Object.defineProperty(a,"NeverStencilFunc",{enumerable:!0,get:function(){return s.NeverStencilFunc}}),Object.defineProperty(a,"NoNormalPacking",{enumerable:!0,get:function(){return s.NoNormalPacking}}),Object.defineProperty(a,"NormalAnimationBlendMode",{enumerable:!0,get:function(){return s.NormalAnimationBlendMode}}),Object.defineProperty(a,"NormalGAPacking",{enumerable:!0,get:function(){return s.NormalGAPacking}}),Object.defineProperty(a,"NormalRGPacking",{enumerable:!0,get:function(){return s.NormalRGPacking}}),Object.defineProperty(a,"NotEqualStencilFunc",{enumerable:!0,get:function(){return s.NotEqualStencilFunc}}),Object.defineProperty(a,"NumberKeyframeTrack",{enumerable:!0,get:function(){return s.NumberKeyframeTrack}}),Object.defineProperty(a,"Object3D",{enumerable:!0,get:function(){return s.Object3D}}),Object.defineProperty(a,"ObjectLoader",{enumerable:!0,get:function(){return s.ObjectLoader}}),Object.defineProperty(a,"OctahedronGeometry",{enumerable:!0,get:function(){return s.OctahedronGeometry}}),Object.defineProperty(a,"Path",{enumerable:!0,get:function(){return s.Path}}),Object.defineProperty(a,"PlaneHelper",{enumerable:!0,get:function(){return s.PlaneHelper}}),Object.defineProperty(a,"PointLight",{enumerable:!0,get:function(){return s.PointLight}}),Object.defineProperty(a,"PointLightHelper",{enumerable:!0,get:function(){return s.PointLightHelper}}),Object.defineProperty(a,"Points",{enumerable:!0,get:function(){return s.Points}}),Object.defineProperty(a,"PointsMaterial",{enumerable:!0,get:function(){return s.PointsMaterial}}),Object.defineProperty(a,"PolarGridHelper",{enumerable:!0,get:function(){return s.PolarGridHelper}}),Object.defineProperty(a,"PolyhedronGeometry",{enumerable:!0,get:function(){return s.PolyhedronGeometry}}),Object.defineProperty(a,"PositionalAudio",{enumerable:!0,get:function(){return s.PositionalAudio}}),Object.defineProperty(a,"PropertyBinding",{enumerable:!0,get:function(){return s.PropertyBinding}}),Object.defineProperty(a,"PropertyMixer",{enumerable:!0,get:function(){return s.PropertyMixer}}),Object.defineProperty(a,"QuadraticBezierCurve",{enumerable:!0,get:function(){return s.QuadraticBezierCurve}}),Object.defineProperty(a,"QuadraticBezierCurve3",{enumerable:!0,get:function(){return s.QuadraticBezierCurve3}}),Object.defineProperty(a,"Quaternion",{enumerable:!0,get:function(){return s.Quaternion}}),Object.defineProperty(a,"QuaternionKeyframeTrack",{enumerable:!0,get:function(){return s.QuaternionKeyframeTrack}}),Object.defineProperty(a,"QuaternionLinearInterpolant",{enumerable:!0,get:function(){return s.QuaternionLinearInterpolant}}),Object.defineProperty(a,"RGBADepthPacking",{enumerable:!0,get:function(){return s.RGBADepthPacking}}),Object.defineProperty(a,"RGBDepthPacking",{enumerable:!0,get:function(){return s.RGBDepthPacking}}),Object.defineProperty(a,"RGBIntegerFormat",{enumerable:!0,get:function(){return s.RGBIntegerFormat}}),Object.defineProperty(a,"RGDepthPacking",{enumerable:!0,get:function(){return s.RGDepthPacking}}),Object.defineProperty(a,"Ray",{enumerable:!0,get:function(){return s.Ray}}),Object.defineProperty(a,"Raycaster",{enumerable:!0,get:function(){return s.Raycaster}}),Object.defineProperty(a,"RectAreaLight",{enumerable:!0,get:function(){return s.RectAreaLight}}),Object.defineProperty(a,"RenderTarget",{enumerable:!0,get:function(){return s.RenderTarget}}),Object.defineProperty(a,"RenderTarget3D",{enumerable:!0,get:function(){return s.RenderTarget3D}}),Object.defineProperty(a,"ReplaceStencilOp",{enumerable:!0,get:function(){return s.ReplaceStencilOp}}),Object.defineProperty(a,"RingGeometry",{enumerable:!0,get:function(){return s.RingGeometry}}),Object.defineProperty(a,"Scene",{enumerable:!0,get:function(){return s.Scene}}),Object.defineProperty(a,"ShadowMaterial",{enumerable:!0,get:function(){return s.ShadowMaterial}}),Object.defineProperty(a,"Shape",{enumerable:!0,get:function(){return s.Shape}}),Object.defineProperty(a,"ShapeGeometry",{enumerable:!0,get:function(){return s.ShapeGeometry}}),Object.defineProperty(a,"ShapePath",{enumerable:!0,get:function(){return s.ShapePath}}),Object.defineProperty(a,"ShapeUtils",{enumerable:!0,get:function(){return s.ShapeUtils}}),Object.defineProperty(a,"Skeleton",{enumerable:!0,get:function(){return s.Skeleton}}),Object.defineProperty(a,"SkeletonHelper",{enumerable:!0,get:function(){return s.SkeletonHelper}}),Object.defineProperty(a,"SkinnedMesh",{enumerable:!0,get:function(){return s.SkinnedMesh}}),Object.defineProperty(a,"Source",{enumerable:!0,get:function(){return s.Source}}),Object.defineProperty(a,"Sphere",{enumerable:!0,get:function(){return s.Sphere}}),Object.defineProperty(a,"SphereGeometry",{enumerable:!0,get:function(){return s.SphereGeometry}}),Object.defineProperty(a,"Spherical",{enumerable:!0,get:function(){return s.Spherical}}),Object.defineProperty(a,"SphericalHarmonics3",{enumerable:!0,get:function(){return s.SphericalHarmonics3}}),Object.defineProperty(a,"SplineCurve",{enumerable:!0,get:function(){return s.SplineCurve}}),Object.defineProperty(a,"SpotLight",{enumerable:!0,get:function(){return s.SpotLight}}),Object.defineProperty(a,"SpotLightHelper",{enumerable:!0,get:function(){return s.SpotLightHelper}}),Object.defineProperty(a,"Sprite",{enumerable:!0,get:function(){return s.Sprite}}),Object.defineProperty(a,"SpriteMaterial",{enumerable:!0,get:function(){return s.SpriteMaterial}}),Object.defineProperty(a,"StaticCopyUsage",{enumerable:!0,get:function(){return s.StaticCopyUsage}}),Object.defineProperty(a,"StaticDrawUsage",{enumerable:!0,get:function(){return s.StaticDrawUsage}}),Object.defineProperty(a,"StaticReadUsage",{enumerable:!0,get:function(){return s.StaticReadUsage}}),Object.defineProperty(a,"StereoCamera",{enumerable:!0,get:function(){return s.StereoCamera}}),Object.defineProperty(a,"StreamCopyUsage",{enumerable:!0,get:function(){return s.StreamCopyUsage}}),Object.defineProperty(a,"StreamDrawUsage",{enumerable:!0,get:function(){return s.StreamDrawUsage}}),Object.defineProperty(a,"StreamReadUsage",{enumerable:!0,get:function(){return s.StreamReadUsage}}),Object.defineProperty(a,"StringKeyframeTrack",{enumerable:!0,get:function(){return s.StringKeyframeTrack}}),Object.defineProperty(a,"TOUCH",{enumerable:!0,get:function(){return s.TOUCH}}),Object.defineProperty(a,"TetrahedronGeometry",{enumerable:!0,get:function(){return s.TetrahedronGeometry}}),Object.defineProperty(a,"TextureLoader",{enumerable:!0,get:function(){return s.TextureLoader}}),Object.defineProperty(a,"TextureUtils",{enumerable:!0,get:function(){return s.TextureUtils}}),Object.defineProperty(a,"Timer",{enumerable:!0,get:function(){return s.Timer}}),Object.defineProperty(a,"TimestampQuery",{enumerable:!0,get:function(){return s.TimestampQuery}}),Object.defineProperty(a,"TorusGeometry",{enumerable:!0,get:function(){return s.TorusGeometry}}),Object.defineProperty(a,"TorusKnotGeometry",{enumerable:!0,get:function(){return s.TorusKnotGeometry}}),Object.defineProperty(a,"Triangle",{enumerable:!0,get:function(){return s.Triangle}}),Object.defineProperty(a,"TriangleFanDrawMode",{enumerable:!0,get:function(){return s.TriangleFanDrawMode}}),Object.defineProperty(a,"TriangleStripDrawMode",{enumerable:!0,get:function(){return s.TriangleStripDrawMode}}),Object.defineProperty(a,"TrianglesDrawMode",{enumerable:!0,get:function(){return s.TrianglesDrawMode}}),Object.defineProperty(a,"TubeGeometry",{enumerable:!0,get:function(){return s.TubeGeometry}}),Object.defineProperty(a,"UVMapping",{enumerable:!0,get:function(){return s.UVMapping}}),Object.defineProperty(a,"Uint8BufferAttribute",{enumerable:!0,get:function(){return s.Uint8BufferAttribute}}),Object.defineProperty(a,"Uint8ClampedBufferAttribute",{enumerable:!0,get:function(){return s.Uint8ClampedBufferAttribute}}),Object.defineProperty(a,"Uniform",{enumerable:!0,get:function(){return s.Uniform}}),Object.defineProperty(a,"UniformsGroup",{enumerable:!0,get:function(){return s.UniformsGroup}}),Object.defineProperty(a,"VectorKeyframeTrack",{enumerable:!0,get:function(){return s.VectorKeyframeTrack}}),Object.defineProperty(a,"VideoFrameTexture",{enumerable:!0,get:function(){return s.VideoFrameTexture}}),Object.defineProperty(a,"VideoTexture",{enumerable:!0,get:function(){return s.VideoTexture}}),Object.defineProperty(a,"WebGL3DRenderTarget",{enumerable:!0,get:function(){return s.WebGL3DRenderTarget}}),Object.defineProperty(a,"WebGLArrayRenderTarget",{enumerable:!0,get:function(){return s.WebGLArrayRenderTarget}}),Object.defineProperty(a,"WebGPUCoordinateSystem",{enumerable:!0,get:function(){return s.WebGPUCoordinateSystem}}),Object.defineProperty(a,"WireframeGeometry",{enumerable:!0,get:function(){return s.WireframeGeometry}}),Object.defineProperty(a,"WrapAroundEnding",{enumerable:!0,get:function(){return s.WrapAroundEnding}}),Object.defineProperty(a,"ZeroCurvatureEnding",{enumerable:!0,get:function(){return s.ZeroCurvatureEnding}}),Object.defineProperty(a,"ZeroSlopeEnding",{enumerable:!0,get:function(){return s.ZeroSlopeEnding}}),Object.defineProperty(a,"ZeroStencilOp",{enumerable:!0,get:function(){return s.ZeroStencilOp}}),Object.defineProperty(a,"getConsoleFunction",{enumerable:!0,get:function(){return s.getConsoleFunction}}),Object.defineProperty(a,"setConsoleFunction",{enumerable:!0,get:function(){return s.setConsoleFunction}}),Object.defineProperty(a,"ACESFilmicToneMapping",{enumerable:!0,get:function(){return s.ACESFilmicToneMapping}}),Object.defineProperty(a,"AddEquation",{enumerable:!0,get:function(){return s.AddEquation}}),Object.defineProperty(a,"AddOperation",{enumerable:!0,get:function(){return s.AddOperation}}),Object.defineProperty(a,"AdditiveBlending",{enumerable:!0,get:function(){return s.AdditiveBlending}}),Object.defineProperty(a,"AgXToneMapping",{enumerable:!0,get:function(){return s.AgXToneMapping}}),Object.defineProperty(a,"AlphaFormat",{enumerable:!0,get:function(){return s.AlphaFormat}}),Object.defineProperty(a,"AlwaysCompare",{enumerable:!0,get:function(){return s.AlwaysCompare}}),Object.defineProperty(a,"AlwaysDepth",{enumerable:!0,get:function(){return s.AlwaysDepth}}),Object.defineProperty(a,"ArrayCamera",{enumerable:!0,get:function(){return s.ArrayCamera}}),Object.defineProperty(a,"BackSide",{enumerable:!0,get:function(){return s.BackSide}}),Object.defineProperty(a,"BoxGeometry",{enumerable:!0,get:function(){return s.BoxGeometry}}),Object.defineProperty(a,"BufferAttribute",{enumerable:!0,get:function(){return s.BufferAttribute}}),Object.defineProperty(a,"BufferGeometry",{enumerable:!0,get:function(){return s.BufferGeometry}}),Object.defineProperty(a,"ByteType",{enumerable:!0,get:function(){return s.ByteType}}),Object.defineProperty(a,"CineonToneMapping",{enumerable:!0,get:function(){return s.CineonToneMapping}}),Object.defineProperty(a,"ClampToEdgeWrapping",{enumerable:!0,get:function(){return s.ClampToEdgeWrapping}}),Object.defineProperty(a,"Color",{enumerable:!0,get:function(){return s.Color}}),Object.defineProperty(a,"ColorManagement",{enumerable:!0,get:function(){return s.ColorManagement}}),Object.defineProperty(a,"ConstantAlphaFactor",{enumerable:!0,get:function(){return s.ConstantAlphaFactor}}),Object.defineProperty(a,"ConstantColorFactor",{enumerable:!0,get:function(){return s.ConstantColorFactor}}),Object.defineProperty(a,"CubeCamera",{enumerable:!0,get:function(){return s.CubeCamera}}),Object.defineProperty(a,"CubeDepthTexture",{enumerable:!0,get:function(){return s.CubeDepthTexture}}),Object.defineProperty(a,"CubeReflectionMapping",{enumerable:!0,get:function(){return s.CubeReflectionMapping}}),Object.defineProperty(a,"CubeRefractionMapping",{enumerable:!0,get:function(){return s.CubeRefractionMapping}}),Object.defineProperty(a,"CubeTexture",{enumerable:!0,get:function(){return s.CubeTexture}}),Object.defineProperty(a,"CubeUVReflectionMapping",{enumerable:!0,get:function(){return s.CubeUVReflectionMapping}}),Object.defineProperty(a,"CullFaceBack",{enumerable:!0,get:function(){return s.CullFaceBack}}),Object.defineProperty(a,"CullFaceFront",{enumerable:!0,get:function(){return s.CullFaceFront}}),Object.defineProperty(a,"CullFaceNone",{enumerable:!0,get:function(){return s.CullFaceNone}}),Object.defineProperty(a,"CustomBlending",{enumerable:!0,get:function(){return s.CustomBlending}}),Object.defineProperty(a,"CustomToneMapping",{enumerable:!0,get:function(){return s.CustomToneMapping}}),Object.defineProperty(a,"Data3DTexture",{enumerable:!0,get:function(){return s.Data3DTexture}}),Object.defineProperty(a,"DataArrayTexture",{enumerable:!0,get:function(){return s.DataArrayTexture}}),Object.defineProperty(a,"DataTexture",{enumerable:!0,get:function(){return s.DataTexture}}),Object.defineProperty(a,"DepthFormat",{enumerable:!0,get:function(){return s.DepthFormat}}),Object.defineProperty(a,"DepthStencilFormat",{enumerable:!0,get:function(){return s.DepthStencilFormat}}),Object.defineProperty(a,"DepthTexture",{enumerable:!0,get:function(){return s.DepthTexture}}),Object.defineProperty(a,"DoubleSide",{enumerable:!0,get:function(){return s.DoubleSide}}),Object.defineProperty(a,"DstAlphaFactor",{enumerable:!0,get:function(){return s.DstAlphaFactor}}),Object.defineProperty(a,"DstColorFactor",{enumerable:!0,get:function(){return s.DstColorFactor}}),Object.defineProperty(a,"EqualCompare",{enumerable:!0,get:function(){return s.EqualCompare}}),Object.defineProperty(a,"EqualDepth",{enumerable:!0,get:function(){return s.EqualDepth}}),Object.defineProperty(a,"EquirectangularReflectionMapping",{enumerable:!0,get:function(){return s.EquirectangularReflectionMapping}}),Object.defineProperty(a,"EquirectangularRefractionMapping",{enumerable:!0,get:function(){return s.EquirectangularRefractionMapping}}),Object.defineProperty(a,"Euler",{enumerable:!0,get:function(){return s.Euler}}),Object.defineProperty(a,"EventDispatcher",{enumerable:!0,get:function(){return s.EventDispatcher}}),Object.defineProperty(a,"ExternalTexture",{enumerable:!0,get:function(){return s.ExternalTexture}}),Object.defineProperty(a,"Float32BufferAttribute",{enumerable:!0,get:function(){return s.Float32BufferAttribute}}),Object.defineProperty(a,"FloatType",{enumerable:!0,get:function(){return s.FloatType}}),Object.defineProperty(a,"FrontSide",{enumerable:!0,get:function(){return s.FrontSide}}),Object.defineProperty(a,"Frustum",{enumerable:!0,get:function(){return s.Frustum}}),Object.defineProperty(a,"GLSL3",{enumerable:!0,get:function(){return s.GLSL3}}),Object.defineProperty(a,"GreaterCompare",{enumerable:!0,get:function(){return s.GreaterCompare}}),Object.defineProperty(a,"GreaterDepth",{enumerable:!0,get:function(){return s.GreaterDepth}}),Object.defineProperty(a,"GreaterEqualCompare",{enumerable:!0,get:function(){return s.GreaterEqualCompare}}),Object.defineProperty(a,"GreaterEqualDepth",{enumerable:!0,get:function(){return s.GreaterEqualDepth}}),Object.defineProperty(a,"HalfFloatType",{enumerable:!0,get:function(){return s.HalfFloatType}}),Object.defineProperty(a,"IntType",{enumerable:!0,get:function(){return s.IntType}}),Object.defineProperty(a,"Layers",{enumerable:!0,get:function(){return s.Layers}}),Object.defineProperty(a,"LessCompare",{enumerable:!0,get:function(){return s.LessCompare}}),Object.defineProperty(a,"LessDepth",{enumerable:!0,get:function(){return s.LessDepth}}),Object.defineProperty(a,"LessEqualCompare",{enumerable:!0,get:function(){return s.LessEqualCompare}}),Object.defineProperty(a,"LessEqualDepth",{enumerable:!0,get:function(){return s.LessEqualDepth}}),Object.defineProperty(a,"LinearFilter",{enumerable:!0,get:function(){return s.LinearFilter}}),Object.defineProperty(a,"LinearMipmapLinearFilter",{enumerable:!0,get:function(){return s.LinearMipmapLinearFilter}}),Object.defineProperty(a,"LinearMipmapNearestFilter",{enumerable:!0,get:function(){return s.LinearMipmapNearestFilter}}),Object.defineProperty(a,"LinearSRGBColorSpace",{enumerable:!0,get:function(){return s.LinearSRGBColorSpace}}),Object.defineProperty(a,"LinearToneMapping",{enumerable:!0,get:function(){return s.LinearToneMapping}}),Object.defineProperty(a,"LinearTransfer",{enumerable:!0,get:function(){return s.LinearTransfer}}),Object.defineProperty(a,"Matrix3",{enumerable:!0,get:function(){return s.Matrix3}}),Object.defineProperty(a,"Matrix4",{enumerable:!0,get:function(){return s.Matrix4}}),Object.defineProperty(a,"MaxEquation",{enumerable:!0,get:function(){return s.MaxEquation}}),Object.defineProperty(a,"Mesh",{enumerable:!0,get:function(){return s.Mesh}}),Object.defineProperty(a,"MeshBasicMaterial",{enumerable:!0,get:function(){return s.MeshBasicMaterial}}),Object.defineProperty(a,"MeshDepthMaterial",{enumerable:!0,get:function(){return s.MeshDepthMaterial}}),Object.defineProperty(a,"MeshDistanceMaterial",{enumerable:!0,get:function(){return s.MeshDistanceMaterial}}),Object.defineProperty(a,"MinEquation",{enumerable:!0,get:function(){return s.MinEquation}}),Object.defineProperty(a,"MirroredRepeatWrapping",{enumerable:!0,get:function(){return s.MirroredRepeatWrapping}}),Object.defineProperty(a,"MixOperation",{enumerable:!0,get:function(){return s.MixOperation}}),Object.defineProperty(a,"MultiplyBlending",{enumerable:!0,get:function(){return s.MultiplyBlending}}),Object.defineProperty(a,"MultiplyOperation",{enumerable:!0,get:function(){return s.MultiplyOperation}}),Object.defineProperty(a,"NearestFilter",{enumerable:!0,get:function(){return s.NearestFilter}}),Object.defineProperty(a,"NearestMipmapLinearFilter",{enumerable:!0,get:function(){return s.NearestMipmapLinearFilter}}),Object.defineProperty(a,"NearestMipmapNearestFilter",{enumerable:!0,get:function(){return s.NearestMipmapNearestFilter}}),Object.defineProperty(a,"NeutralToneMapping",{enumerable:!0,get:function(){return s.NeutralToneMapping}}),Object.defineProperty(a,"NeverCompare",{enumerable:!0,get:function(){return s.NeverCompare}}),Object.defineProperty(a,"NeverDepth",{enumerable:!0,get:function(){return s.NeverDepth}}),Object.defineProperty(a,"NoBlending",{enumerable:!0,get:function(){return s.NoBlending}}),Object.defineProperty(a,"NoColorSpace",{enumerable:!0,get:function(){return s.NoColorSpace}}),Object.defineProperty(a,"NoToneMapping",{enumerable:!0,get:function(){return s.NoToneMapping}}),Object.defineProperty(a,"NormalBlending",{enumerable:!0,get:function(){return s.NormalBlending}}),Object.defineProperty(a,"NotEqualCompare",{enumerable:!0,get:function(){return s.NotEqualCompare}}),Object.defineProperty(a,"NotEqualDepth",{enumerable:!0,get:function(){return s.NotEqualDepth}}),Object.defineProperty(a,"ObjectSpaceNormalMap",{enumerable:!0,get:function(){return s.ObjectSpaceNormalMap}}),Object.defineProperty(a,"OneFactor",{enumerable:!0,get:function(){return s.OneFactor}}),Object.defineProperty(a,"OneMinusConstantAlphaFactor",{enumerable:!0,get:function(){return s.OneMinusConstantAlphaFactor}}),Object.defineProperty(a,"OneMinusConstantColorFactor",{enumerable:!0,get:function(){return s.OneMinusConstantColorFactor}}),Object.defineProperty(a,"OneMinusDstAlphaFactor",{enumerable:!0,get:function(){return s.OneMinusDstAlphaFactor}}),Object.defineProperty(a,"OneMinusDstColorFactor",{enumerable:!0,get:function(){return s.OneMinusDstColorFactor}}),Object.defineProperty(a,"OneMinusSrcAlphaFactor",{enumerable:!0,get:function(){return s.OneMinusSrcAlphaFactor}}),Object.defineProperty(a,"OneMinusSrcColorFactor",{enumerable:!0,get:function(){return s.OneMinusSrcColorFactor}}),Object.defineProperty(a,"OrthographicCamera",{enumerable:!0,get:function(){return s.OrthographicCamera}}),Object.defineProperty(a,"PCFShadowMap",{enumerable:!0,get:function(){return s.PCFShadowMap}}),Object.defineProperty(a,"PCFSoftShadowMap",{enumerable:!0,get:function(){return s.PCFSoftShadowMap}}),Object.defineProperty(a,"PMREMGenerator",{enumerable:!0,get:function(){return L}}),Object.defineProperty(a,"PerspectiveCamera",{enumerable:!0,get:function(){return s.PerspectiveCamera}}),Object.defineProperty(a,"Plane",{enumerable:!0,get:function(){return s.Plane}}),Object.defineProperty(a,"PlaneGeometry",{enumerable:!0,get:function(){return s.PlaneGeometry}}),Object.defineProperty(a,"R11_EAC_Format",{enumerable:!0,get:function(){return s.R11_EAC_Format}}),Object.defineProperty(a,"RED_GREEN_RGTC2_Format",{enumerable:!0,get:function(){return s.RED_GREEN_RGTC2_Format}}),Object.defineProperty(a,"RED_RGTC1_Format",{enumerable:!0,get:function(){return s.RED_RGTC1_Format}}),Object.defineProperty(a,"REVISION",{enumerable:!0,get:function(){return s.REVISION}}),Object.defineProperty(a,"RG11_EAC_Format",{enumerable:!0,get:function(){return s.RG11_EAC_Format}}),Object.defineProperty(a,"RGBAFormat",{enumerable:!0,get:function(){return s.RGBAFormat}}),Object.defineProperty(a,"RGBAIntegerFormat",{enumerable:!0,get:function(){return s.RGBAIntegerFormat}}),Object.defineProperty(a,"RGBA_ASTC_10x10_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_10x10_Format}}),Object.defineProperty(a,"RGBA_ASTC_10x5_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_10x5_Format}}),Object.defineProperty(a,"RGBA_ASTC_10x6_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_10x6_Format}}),Object.defineProperty(a,"RGBA_ASTC_10x8_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_10x8_Format}}),Object.defineProperty(a,"RGBA_ASTC_12x10_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_12x10_Format}}),Object.defineProperty(a,"RGBA_ASTC_12x12_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_12x12_Format}}),Object.defineProperty(a,"RGBA_ASTC_4x4_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_4x4_Format}}),Object.defineProperty(a,"RGBA_ASTC_5x4_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_5x4_Format}}),Object.defineProperty(a,"RGBA_ASTC_5x5_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_5x5_Format}}),Object.defineProperty(a,"RGBA_ASTC_6x5_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_6x5_Format}}),Object.defineProperty(a,"RGBA_ASTC_6x6_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_6x6_Format}}),Object.defineProperty(a,"RGBA_ASTC_8x5_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_8x5_Format}}),Object.defineProperty(a,"RGBA_ASTC_8x6_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_8x6_Format}}),Object.defineProperty(a,"RGBA_ASTC_8x8_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_8x8_Format}}),Object.defineProperty(a,"RGBA_BPTC_Format",{enumerable:!0,get:function(){return s.RGBA_BPTC_Format}}),Object.defineProperty(a,"RGBA_ETC2_EAC_Format",{enumerable:!0,get:function(){return s.RGBA_ETC2_EAC_Format}}),Object.defineProperty(a,"RGBA_PVRTC_2BPPV1_Format",{enumerable:!0,get:function(){return s.RGBA_PVRTC_2BPPV1_Format}}),Object.defineProperty(a,"RGBA_PVRTC_4BPPV1_Format",{enumerable:!0,get:function(){return s.RGBA_PVRTC_4BPPV1_Format}}),Object.defineProperty(a,"RGBA_S3TC_DXT1_Format",{enumerable:!0,get:function(){return s.RGBA_S3TC_DXT1_Format}}),Object.defineProperty(a,"RGBA_S3TC_DXT3_Format",{enumerable:!0,get:function(){return s.RGBA_S3TC_DXT3_Format}}),Object.defineProperty(a,"RGBA_S3TC_DXT5_Format",{enumerable:!0,get:function(){return s.RGBA_S3TC_DXT5_Format}}),Object.defineProperty(a,"RGBFormat",{enumerable:!0,get:function(){return s.RGBFormat}}),Object.defineProperty(a,"RGB_BPTC_SIGNED_Format",{enumerable:!0,get:function(){return s.RGB_BPTC_SIGNED_Format}}),Object.defineProperty(a,"RGB_BPTC_UNSIGNED_Format",{enumerable:!0,get:function(){return s.RGB_BPTC_UNSIGNED_Format}}),Object.defineProperty(a,"RGB_ETC1_Format",{enumerable:!0,get:function(){return s.RGB_ETC1_Format}}),Object.defineProperty(a,"RGB_ETC2_Format",{enumerable:!0,get:function(){return s.RGB_ETC2_Format}}),Object.defineProperty(a,"RGB_PVRTC_2BPPV1_Format",{enumerable:!0,get:function(){return s.RGB_PVRTC_2BPPV1_Format}}),Object.defineProperty(a,"RGB_PVRTC_4BPPV1_Format",{enumerable:!0,get:function(){return s.RGB_PVRTC_4BPPV1_Format}}),Object.defineProperty(a,"RGB_S3TC_DXT1_Format",{enumerable:!0,get:function(){return s.RGB_S3TC_DXT1_Format}}),Object.defineProperty(a,"RGFormat",{enumerable:!0,get:function(){return s.RGFormat}}),Object.defineProperty(a,"RGIntegerFormat",{enumerable:!0,get:function(){return s.RGIntegerFormat}}),Object.defineProperty(a,"RawShaderMaterial",{enumerable:!0,get:function(){return s.RawShaderMaterial}}),Object.defineProperty(a,"RedFormat",{enumerable:!0,get:function(){return s.RedFormat}}),Object.defineProperty(a,"RedIntegerFormat",{enumerable:!0,get:function(){return s.RedIntegerFormat}}),Object.defineProperty(a,"ReinhardToneMapping",{enumerable:!0,get:function(){return s.ReinhardToneMapping}}),Object.defineProperty(a,"RepeatWrapping",{enumerable:!0,get:function(){return s.RepeatWrapping}}),Object.defineProperty(a,"ReverseSubtractEquation",{enumerable:!0,get:function(){return s.ReverseSubtractEquation}}),Object.defineProperty(a,"SIGNED_R11_EAC_Format",{enumerable:!0,get:function(){return s.SIGNED_R11_EAC_Format}}),Object.defineProperty(a,"SIGNED_RED_GREEN_RGTC2_Format",{enumerable:!0,get:function(){return s.SIGNED_RED_GREEN_RGTC2_Format}}),Object.defineProperty(a,"SIGNED_RED_RGTC1_Format",{enumerable:!0,get:function(){return s.SIGNED_RED_RGTC1_Format}}),Object.defineProperty(a,"SIGNED_RG11_EAC_Format",{enumerable:!0,get:function(){return s.SIGNED_RG11_EAC_Format}}),Object.defineProperty(a,"SRGBColorSpace",{enumerable:!0,get:function(){return s.SRGBColorSpace}}),Object.defineProperty(a,"SRGBTransfer",{enumerable:!0,get:function(){return s.SRGBTransfer}}),Object.defineProperty(a,"ShaderChunk",{enumerable:!0,get:function(){return u}}),Object.defineProperty(a,"ShaderLib",{enumerable:!0,get:function(){return f}}),Object.defineProperty(a,"ShaderMaterial",{enumerable:!0,get:function(){return s.ShaderMaterial}}),Object.defineProperty(a,"ShortType",{enumerable:!0,get:function(){return s.ShortType}}),Object.defineProperty(a,"SrcAlphaFactor",{enumerable:!0,get:function(){return s.SrcAlphaFactor}}),Object.defineProperty(a,"SrcAlphaSaturateFactor",{enumerable:!0,get:function(){return s.SrcAlphaSaturateFactor}}),Object.defineProperty(a,"SrcColorFactor",{enumerable:!0,get:function(){return s.SrcColorFactor}}),Object.defineProperty(a,"SubtractEquation",{enumerable:!0,get:function(){return s.SubtractEquation}}),Object.defineProperty(a,"SubtractiveBlending",{enumerable:!0,get:function(){return s.SubtractiveBlending}}),Object.defineProperty(a,"TangentSpaceNormalMap",{enumerable:!0,get:function(){return s.TangentSpaceNormalMap}}),Object.defineProperty(a,"Texture",{enumerable:!0,get:function(){return s.Texture}}),Object.defineProperty(a,"Uint16BufferAttribute",{enumerable:!0,get:function(){return s.Uint16BufferAttribute}}),Object.defineProperty(a,"Uint32BufferAttribute",{enumerable:!0,get:function(){return s.Uint32BufferAttribute}}),Object.defineProperty(a,"UniformsLib",{enumerable:!0,get:function(){return d}}),Object.defineProperty(a,"UniformsUtils",{enumerable:!0,get:function(){return s.UniformsUtils}}),Object.defineProperty(a,"UnsignedByteType",{enumerable:!0,get:function(){return s.UnsignedByteType}}),Object.defineProperty(a,"UnsignedInt101111Type",{enumerable:!0,get:function(){return s.UnsignedInt101111Type}}),Object.defineProperty(a,"UnsignedInt248Type",{enumerable:!0,get:function(){return s.UnsignedInt248Type}}),Object.defineProperty(a,"UnsignedInt5999Type",{enumerable:!0,get:function(){return s.UnsignedInt5999Type}}),Object.defineProperty(a,"UnsignedIntType",{enumerable:!0,get:function(){return s.UnsignedIntType}}),Object.defineProperty(a,"UnsignedShort4444Type",{enumerable:!0,get:function(){return s.UnsignedShort4444Type}}),Object.defineProperty(a,"UnsignedShort5551Type",{enumerable:!0,get:function(){return s.UnsignedShort5551Type}}),Object.defineProperty(a,"UnsignedShortType",{enumerable:!0,get:function(){return s.UnsignedShortType}}),Object.defineProperty(a,"VSMShadowMap",{enumerable:!0,get:function(){return s.VSMShadowMap}}),Object.defineProperty(a,"Vector2",{enumerable:!0,get:function(){return s.Vector2}}),Object.defineProperty(a,"Vector3",{enumerable:!0,get:function(){return s.Vector3}}),Object.defineProperty(a,"Vector4",{enumerable:!0,get:function(){return s.Vector4}}),Object.defineProperty(a,"WebGLCoordinateSystem",{enumerable:!0,get:function(){return s.WebGLCoordinateSystem}}),Object.defineProperty(a,"WebGLCubeRenderTarget",{enumerable:!0,get:function(){return G}}),Object.defineProperty(a,"WebGLRenderTarget",{enumerable:!0,get:function(){return s.WebGLRenderTarget}}),Object.defineProperty(a,"WebGLRenderer",{enumerable:!0,get:function(){return hn}}),Object.defineProperty(a,"WebGLUtils",{enumerable:!0,get:function(){return ln}}),Object.defineProperty(a,"WebXRController",{enumerable:!0,get:function(){return s.WebXRController}}),Object.defineProperty(a,"ZeroFactor",{enumerable:!0,get:function(){return s.ZeroFactor}}),Object.defineProperty(a,"createCanvasElement",{enumerable:!0,get:function(){return s.createCanvasElement}}),Object.defineProperty(a,"error",{enumerable:!0,get:function(){return s.error}}),Object.defineProperty(a,"log",{enumerable:!0,get:function(){return s.log}}),Object.defineProperty(a,"warn",{enumerable:!0,get:function(){return s.warn}}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s.warnOnce}});var s=t(o[0]);
/**
   * @license
   * Copyright 2010-2026 Three.js Authors
   * SPDX-License-Identifier: MIT
   */function l(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function c(e){const t=new WeakMap;function n(t,n){const r=t.array,i=t.usage,a=r.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if('undefined'!=typeof Float16Array&&r instanceof Float16Array)s=e.HALF_FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes: Unsupported buffer data format: '+r);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}function r(t,n,r){const i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){const n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,a[t]=r)}a.length=t+1;for(let t=0,n=a.length;t<n;t++){const n=a[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(e,i){if(e.isInterleavedBufferAttribute&&(e=e.data),e.isGLBufferAttribute){const n=t.get(e);return void((!n||n.version<e.version)&&t.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}const a=t.get(e);if(void 0===a)t.set(e,n(e,i));else if(a.version<e.version){if(a.size!==e.array.byteLength)throw new Error('THREE.WebGLAttributes: The size of the buffer attribute\'s array buffer does not match the original size. Resizing buffer attributes is not supported.');r(a.buffer,e,i),a.version=e.version}}}}const u={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec4 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec4 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec4( 1.0 );\n#endif\n#ifdef USE_COLOR_ALPHA\n\tvColor *= color;\n#elif defined( USE_COLOR )\n\tvColor.rgb *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.rgb *= instanceColor.rgb;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvColor *= getBatchingColor( getIndirectIndex( gl_DrawID ) );\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t\t#endif\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.metalness = metalnessFactor;\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;\n\tmaterial.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = vec3( 0.04 );\n\tmaterial.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"uniform sampler2D dfgLUT;\nstruct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tvec3 diffuseContribution;\n\tvec3 specularColor;\n\tvec3 specularColorBlended;\n\tfloat roughness;\n\tfloat metalness;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t\tvec3 iridescenceFresnelDielectric;\n\t\tvec3 iridescenceFresnelMetallic;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn v;\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColorBlended;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat rInv = 1.0 / ( roughness + 0.1 );\n\tfloat a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;\n\tfloat b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;\n\tfloat DG = exp( a * dotNV + b );\n\treturn saturate( DG );\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nvec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;\n\tvec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;\n\tvec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;\n\tvec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;\n\tfloat Ess_V = dfgV.x + dfgV.y;\n\tfloat Ess_L = dfgL.x + dfgL.y;\n\tfloat Ems_V = 1.0 - Ess_V;\n\tfloat Ems_L = 1.0 - Ess_L;\n\tvec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;\n\tvec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );\n\tfloat compensationFactor = Ems_V * Ems_L;\n\tvec3 multiScatter = Fms * compensationFactor;\n\treturn singleScatter + multiScatter;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColorBlended * t2.x + ( material.specularF90 - material.specularColorBlended ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t\t#ifdef USE_CLEARCOAT\n\t\t\tvec3 Ncc = geometryClearcoatNormal;\n\t\t\tvec2 uvClearcoat = LTC_Uv( Ncc, viewDir, material.clearcoatRoughness );\n\t\t\tvec4 t1Clearcoat = texture2D( ltc_1, uvClearcoat );\n\t\t\tvec4 t2Clearcoat = texture2D( ltc_2, uvClearcoat );\n\t\t\tmat3 mInvClearcoat = mat3(\n\t\t\t\tvec3( t1Clearcoat.x, 0, t1Clearcoat.y ),\n\t\t\t\tvec3(             0, 1,             0 ),\n\t\t\t\tvec3( t1Clearcoat.z, 0, t1Clearcoat.w )\n\t\t\t);\n\t\t\tvec3 fresnelClearcoat = material.clearcoatF0 * t2Clearcoat.x + ( material.clearcoatF90 - material.clearcoatF0 ) * t2Clearcoat.y;\n\t\t\tclearcoatSpecularDirect += lightColor * fresnelClearcoat * LTC_Evaluate( Ncc, viewDir, position, mInvClearcoat, rectCoords );\n\t\t#endif\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n \n \t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n \n \t\tfloat sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n \t\tfloat sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );\n \n \t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );\n \n \t\tirradiance *= sheenEnergyComp;\n \n \t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );\n\t#ifdef USE_SHEEN\n\t\tfloat sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;\n\t\tdiffuse *= sheenEnergyComp;\n\t#endif\n\treflectedLight.indirectDiffuse += diffuse;\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;\n \t#endif\n\tvec3 singleScatteringDielectric = vec3( 0.0 );\n\tvec3 multiScatteringDielectric = vec3( 0.0 );\n\tvec3 singleScatteringMetallic = vec3( 0.0 );\n\tvec3 multiScatteringMetallic = vec3( 0.0 );\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );\n\t#endif\n\tvec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );\n\tvec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );\n\tvec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;\n\tvec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tvec3 indirectSpecular = radiance * singleScattering;\n\tindirectSpecular += multiScattering * cosineWeightedIrradiance;\n\tvec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;\n\t\tindirectSpecular *= sheenEnergyComp;\n\t\tindirectDiffuse *= sheenEnergyComp;\n\t#endif\n\treflectedLight.indirectSpecular += indirectSpecular;\n\treflectedLight.indirectDiffuse += indirectDiffuse;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );\n\t\tmaterial.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\t#if defined( STANDARD ) || defined( LAMBERT ) || defined( PHONG )\n\t\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t\t#endif\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\t#if defined( LAMBERT ) || defined( PHONG )\n\t\tirradiance += iblIrradiance;\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\n\t\treturn depth * ( far - near ) - far;\n\t#else\n\t\treturn depth * ( near - far ) - near;\n\t#endif\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\t\n\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\treturn ( near * far ) / ( ( near - far ) * depth - near );\n\t#else\n\t\treturn ( near * far ) / ( ( far - near ) * depth - far );\n\t#endif\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\t#else\n\t\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\t#else\n\t\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\t#elif defined( SHADOWMAP_TYPE_BASIC )\n\t\t\tuniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\tfloat interleavedGradientNoise( vec2 position ) {\n\t\t\treturn fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );\n\t\t}\n\t\tvec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {\n\t\t\tconst float goldenAngle = 2.399963229728653;\n\t\t\tfloat r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );\n\t\t\tfloat theta = float( sampleIndex ) * goldenAngle + phi;\n\t\t\treturn vec2( cos( theta ), sin( theta ) ) * r;\n\t\t}\n\t#endif\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\tfloat getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\tshadowCoord.z += shadowBias;\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\t\tfloat radius = shadowRadius * texelSize.x;\n\t\t\t\tfloat phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )\n\t\t\t\t) * 0.2;\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\tshadowCoord.z -= shadowBias;\n\t\t\t#else\n\t\t\t\tshadowCoord.z += shadowBias;\n\t\t\t#endif\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tvec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;\n\t\t\t\tfloat mean = distribution.x;\n\t\t\t\tfloat variance = distribution.y * distribution.y;\n\t\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\t\tfloat hard_shadow = step( mean, shadowCoord.z );\n\t\t\t\t#else\n\t\t\t\t\tfloat hard_shadow = step( shadowCoord.z, mean );\n\t\t\t\t#endif\n\t\t\t\t\n\t\t\t\tif ( hard_shadow == 1.0 ) {\n\t\t\t\t\tshadow = 1.0;\n\t\t\t\t} else {\n\t\t\t\t\tvariance = max( variance, 0.0000001 );\n\t\t\t\t\tfloat d = shadowCoord.z - mean;\n\t\t\t\t\tfloat p_max = variance / ( variance + d * d );\n\t\t\t\t\tp_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );\n\t\t\t\t\tshadow = max( hard_shadow, p_max );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#else\n\t\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\tshadowCoord.z -= shadowBias;\n\t\t\t#else\n\t\t\t\tshadowCoord.z += shadowBias;\n\t\t\t#endif\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tfloat depth = texture2D( shadowMap, shadowCoord.xy ).r;\n\t\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\t\tshadow = step( depth, shadowCoord.z );\n\t\t\t\t#else\n\t\t\t\t\tshadow = step( shadowCoord.z, depth );\n\t\t\t\t#endif\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\tfloat getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tvec3 absVec = abs( lightToPosition );\n\t\tfloat viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );\n\t\tif ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {\n\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\tfloat dp = ( shadowCameraNear * ( shadowCameraFar - viewSpaceZ ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n\t\t\t\tdp -= shadowBias;\n\t\t\t#else\n\t\t\t\tfloat dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n\t\t\t\tdp += shadowBias;\n\t\t\t#endif\n\t\t\tfloat texelSize = shadowRadius / shadowMapSize.x;\n\t\t\tvec3 absDir = abs( bd3D );\n\t\t\tvec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );\n\t\t\ttangent = normalize( cross( bd3D, tangent ) );\n\t\t\tvec3 bitangent = cross( bd3D, tangent );\n\t\t\tfloat phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;\n\t\t\tvec2 sample0 = vogelDiskSample( 0, 5, phi );\n\t\t\tvec2 sample1 = vogelDiskSample( 1, 5, phi );\n\t\t\tvec2 sample2 = vogelDiskSample( 2, 5, phi );\n\t\t\tvec2 sample3 = vogelDiskSample( 3, 5, phi );\n\t\t\tvec2 sample4 = vogelDiskSample( 4, 5, phi );\n\t\t\tshadow = (\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * sample0.x + bitangent * sample0.y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * sample1.x + bitangent * sample1.y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * sample2.x + bitangent * sample2.y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * sample3.x + bitangent * sample3.y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * sample4.x + bitangent * sample4.y ) * texelSize, dp ) )\n\t\t\t) * 0.2;\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\t#elif defined( SHADOWMAP_TYPE_BASIC )\n\tfloat getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 absVec = abs( lightToPosition );\n\t\tfloat viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );\n\t\tif ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tfloat depth = textureCube( shadowMap, bd3D ).r;\n\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\tdepth = 1.0 - depth;\n\t\t\t#endif\n\t\t\tshadow = step( dp, depth );\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\t#endif\n\t#endif\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\tfloat fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];\n\t#else\n\t\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;\n\t#endif\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distance_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distance_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n \n\t\toutgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;\n \n \t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},d={common:{diffuse:{value:new s.Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new s.Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new s.Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new s.Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new s.Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new s.Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new s.Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new s.Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new s.Matrix3},normalScale:{value:new s.Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new s.Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new s.Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new s.Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new s.Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new s.Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new s.Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new s.Matrix3},alphaTest:{value:0},uvTransform:{value:new s.Matrix3}},sprite:{diffuse:{value:new s.Color(16777215)},opacity:{value:1},center:{value:new s.Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new s.Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new s.Matrix3},alphaTest:{value:0}}},f={basic:{uniforms:(0,s.mergeUniforms)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.fog]),vertexShader:u.meshbasic_vert,fragmentShader:u.meshbasic_frag},lambert:{uniforms:(0,s.mergeUniforms)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.fog,d.lights,{emissive:{value:new s.Color(0)},envMapIntensity:{value:1}}]),vertexShader:u.meshlambert_vert,fragmentShader:u.meshlambert_frag},phong:{uniforms:(0,s.mergeUniforms)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.fog,d.lights,{emissive:{value:new s.Color(0)},specular:{value:new s.Color(1118481)},shininess:{value:30},envMapIntensity:{value:1}}]),vertexShader:u.meshphong_vert,fragmentShader:u.meshphong_frag},standard:{uniforms:(0,s.mergeUniforms)([d.common,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.roughnessmap,d.metalnessmap,d.fog,d.lights,{emissive:{value:new s.Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:u.meshphysical_vert,fragmentShader:u.meshphysical_frag},toon:{uniforms:(0,s.mergeUniforms)([d.common,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.gradientmap,d.fog,d.lights,{emissive:{value:new s.Color(0)}}]),vertexShader:u.meshtoon_vert,fragmentShader:u.meshtoon_frag},matcap:{uniforms:(0,s.mergeUniforms)([d.common,d.bumpmap,d.normalmap,d.displacementmap,d.fog,{matcap:{value:null}}]),vertexShader:u.meshmatcap_vert,fragmentShader:u.meshmatcap_frag},points:{uniforms:(0,s.mergeUniforms)([d.points,d.fog]),vertexShader:u.points_vert,fragmentShader:u.points_frag},dashed:{uniforms:(0,s.mergeUniforms)([d.common,d.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:u.linedashed_vert,fragmentShader:u.linedashed_frag},depth:{uniforms:(0,s.mergeUniforms)([d.common,d.displacementmap]),vertexShader:u.depth_vert,fragmentShader:u.depth_frag},normal:{uniforms:(0,s.mergeUniforms)([d.common,d.bumpmap,d.normalmap,d.displacementmap,{opacity:{value:1}}]),vertexShader:u.meshnormal_vert,fragmentShader:u.meshnormal_frag},sprite:{uniforms:(0,s.mergeUniforms)([d.sprite,d.fog]),vertexShader:u.sprite_vert,fragmentShader:u.sprite_frag},background:{uniforms:{uvTransform:{value:new s.Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:u.background_vert,fragmentShader:u.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new s.Matrix3}},vertexShader:u.backgroundCube_vert,fragmentShader:u.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:u.cube_vert,fragmentShader:u.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:u.equirect_vert,fragmentShader:u.equirect_frag},distance:{uniforms:(0,s.mergeUniforms)([d.common,d.displacementmap,{referencePosition:{value:new s.Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:u.distance_vert,fragmentShader:u.distance_frag},shadow:{uniforms:(0,s.mergeUniforms)([d.lights,d.fog,{color:{value:new s.Color(0)},opacity:{value:1}}]),vertexShader:u.shadow_vert,fragmentShader:u.shadow_frag}};f.physical={uniforms:(0,s.mergeUniforms)([f.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new s.Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new s.Matrix3},clearcoatNormalScale:{value:new s.Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new s.Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new s.Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new s.Matrix3},sheen:{value:0},sheenColor:{value:new s.Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new s.Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new s.Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new s.Matrix3},transmissionSamplerSize:{value:new s.Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new s.Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new s.Color(0)},specularColor:{value:new s.Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new s.Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new s.Matrix3},anisotropyVector:{value:new s.Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new s.Matrix3}}]),vertexShader:u.meshphysical_vert,fragmentShader:u.meshphysical_frag};const p={r:0,b:0,g:0},m=new s.Euler,g=new s.Matrix4;function _(e,t,n,r,i,a){const o=new s.Color(0);let l,c,u=!0===i?0:1,d=null,_=0,h=null;function v(e){let n=!0===e.isScene?e.background:null;if(n&&n.isTexture){const r=e.backgroundBlurriness>0;n=t.get(n,r)}return n}function S(t,r){t.getRGB(p,(0,s.getUnlitUniformColorSpace)(e)),n.buffers.color.setClear(p.r,p.g,p.b,r,a)}return{getClearColor:function(){return o},setClearColor:function(e,t=1){o.set(e),u=t,S(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,S(o,u)},render:function(t){let r=!1;const i=v(t);null===i?S(o,u):i&&i.isColor&&(S(i,1),r=!0);const s=e.xr.getEnvironmentBlendMode();'additive'===s?n.buffers.color.setClear(0,0,0,1,a):'alpha-blend'===s&&n.buffers.color.setClear(0,0,0,0,a),(e.autoClear||r)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const i=v(n);i&&(i.isCubeTexture||i.mapping===s.CubeUVReflectionMapping)?(void 0===c&&(c=new s.Mesh(new s.BoxGeometry(1,1,1),new s.ShaderMaterial({name:'BackgroundCubeMaterial',uniforms:(0,s.cloneUniforms)(f.backgroundCube.uniforms),vertexShader:f.backgroundCube.vertexShader,fragmentShader:f.backgroundCube.fragmentShader,side:s.BackSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute('normal'),c.geometry.deleteAttribute('uv'),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,'envMap',{get:function(){return this.uniforms.envMap.value}}),r.update(c)),m.copy(n.backgroundRotation),m.x*=-1,m.y*=-1,m.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(m.y*=-1,m.z*=-1),c.material.uniforms.envMap.value=i,c.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(g.makeRotationFromEuler(m)),c.material.toneMapped=s.ColorManagement.getTransfer(i.colorSpace)!==s.SRGBTransfer,d===i&&_===i.version&&h===e.toneMapping||(c.material.needsUpdate=!0,d=i,_=i.version,h=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):i&&i.isTexture&&(void 0===l&&(l=new s.Mesh(new s.PlaneGeometry(2,2),new s.ShaderMaterial({name:'BackgroundMaterial',uniforms:(0,s.cloneUniforms)(f.background.uniforms),vertexShader:f.background.vertexShader,fragmentShader:f.background.fragmentShader,side:s.FrontSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute('normal'),Object.defineProperty(l.material,'map',{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=i,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=s.ColorManagement.getTransfer(i.colorSpace)!==s.SRGBTransfer,!0===i.matrixAutoUpdate&&i.updateMatrix(),l.material.uniforms.uvTransform.value.copy(i.matrix),d===i&&_===i.version&&h===e.toneMapping||(l.material.needsUpdate=!0,d=i,_=i.version,h=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function h(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=d(null);let a=i,o=!1;function l(t){return e.bindVertexArray(t)}function c(t){return e.deleteVertexArray(t)}function u(t,n,i,a){const o=!0===a.wireframe;let s=r[n.id];void 0===s&&(s={},r[n.id]=s);const l=!0===t.isInstancedMesh?t.id:0;let c=s[l];void 0===c&&(c={},s[l]=c);let u=c[i.id];void 0===u&&(u={},c[i.id]=u);let f=u[o];return void 0===f&&(f=d(e.createVertexArray()),u[o]=f),f}function d(e){const t=[],r=[],i=[];for(let e=0;e<n;e++)t[e]=0,r[e]=0,i[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function f(e,t,n,r){const i=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const t in l){if(l[t].location>=0){const n=i[t];let r=o[t];if(void 0===r&&('instanceMatrix'===t&&e.instanceMatrix&&(r=e.instanceMatrix),'instanceColor'===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n)return!0;if(n.attribute!==r)return!0;if(r&&n.data!==r.data)return!0;s++}}return a.attributesNum!==s||a.index!==r}function p(e,t,n,r){const i={},o=t.attributes;let s=0;const l=n.getAttributes();for(const t in l){if(l[t].location>=0){let n=o[t];void 0===n&&('instanceMatrix'===t&&e.instanceMatrix&&(n=e.instanceMatrix),'instanceColor'===t&&e.instanceColor&&(n=e.instanceColor));const r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,s++}}a.attributes=i,a.attributesNum=s,a.index=r}function m(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function g(e){_(e,0)}function _(t,n){const r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function h(){const t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function v(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function S(n,r,i,a){m();const o=a.attributes,l=i.getAttributes(),c=r.defaultAttributeValues;for(const r in l){const i=l[r];if(i.location>=0){let l=o[r];if(void 0===l&&('instanceMatrix'===r&&n.instanceMatrix&&(l=n.instanceMatrix),'instanceColor'===r&&n.instanceColor&&(l=n.instanceColor)),void 0!==l){const r=l.normalized,o=l.itemSize,c=t.get(l);if(void 0===c)continue;const u=c.buffer,d=c.type,f=c.bytesPerElement,p=d===e.INT||d===e.UNSIGNED_INT||l.gpuType===s.IntType;if(l.isInterleavedBufferAttribute){const t=l.data,s=t.stride,c=l.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)_(i.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<i.locationSize;e++)g(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<i.locationSize;e++)v(i.location+e,o/i.locationSize,d,r,s*f,(c+o/i.locationSize*e)*f,p)}else{if(l.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)_(i.location+e,l.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=l.meshPerAttribute*l.count)}else for(let e=0;e<i.locationSize;e++)g(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<i.locationSize;e++)v(i.location+e,o/i.locationSize,d,r,o*f,o/i.locationSize*e*f,p)}}else if(void 0!==c){const t=c[r];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(i.location,t);break;case 3:e.vertexAttrib3fv(i.location,t);break;case 4:e.vertexAttrib4fv(i.location,t);break;default:e.vertexAttrib1fv(i.location,t)}}}}h()}function E(){T(),o=!0,a!==i&&(a=i,l(a.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,r,i,s,c){let d=!1;const m=u(n,s,i,r);a!==m&&(a=m,l(a.object)),d=f(n,s,i,c),d&&p(n,s,i,c),null!==c&&t.update(c,e.ELEMENT_ARRAY_BUFFER),(d||o)&&(o=!1,S(n,r,i,s),null!==c&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(c).buffer))},reset:E,resetDefaultState:T,dispose:function(){E();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n){const t=n[e];for(const e in t)c(t[e].object),delete t[e];delete n[e]}}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const e in t){const n=t[e];for(const e in n){const t=n[e];for(const e in t)c(t[e].object),delete t[e];delete n[e]}}delete r[e.id]},releaseStatesOfObject:function(e){for(const t in r){const n=r[t],i=!0===e.isInstancedMesh?e.id:0,a=n[i];if(void 0!==a){for(const e in a){const t=a[e];for(const e in t)c(t[e].object),delete t[e];delete a[e]}delete n[i],0===Object.keys(n).length&&delete r[t]}}},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];for(const t in n){const r=n[t];if(void 0===r[e.id])continue;const i=r[e.id];for(const e in i)c(i[e].object),delete i[e];delete r[e.id]}}},initAttributes:m,enableAttribute:g,disableUnusedAttributes:h}}function v(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get('WEBGL_multi_draw').multiDrawArraysWEBGL(r,e,0,i,0,a);let o=0;for(let e=0;e<a;e++)o+=i[e];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get('WEBGL_multi_draw');if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,r,1)}}}function S(e,t,n,r){let i;function a(t){if('highp'===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return'highp';t='mediump'}return'mediump'===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?'mediump':'lowp'}let o=void 0!==n.precision?n.precision:'highp';const l=a(o);l!==o&&((0,s.warn)('WebGLRenderer:',o,'not supported, using',l,'instead.'),o=l);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has('EXT_texture_filter_anisotropic')){const n=t.get('EXT_texture_filter_anisotropic');i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===s.RGBAFormat||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===s.HalfFloatType&&(t.has('EXT_color_buffer_half_float')||t.has('EXT_color_buffer_float'));return!(n!==s.UnsignedByteType&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==s.FloatType&&!i)},precision:o,logarithmicDepthBuffer:!0===n.logarithmicDepthBuffer,reversedDepthBuffer:!0===n.reversedDepthBuffer&&t.has('EXT_clip_control'),maxTextures:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),maxVertexTextures:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),maxSamples:e.getParameter(e.MAX_SAMPLES),samples:e.getParameter(e.SAMPLES)}}function E(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new s.Plane,l=new s.Matrix3,c={value:null,needsUpdate:!1};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function d(e,n,r,i){const a=null!==e?e.length:0;let s=null;if(0!==a){if(s=c.value,!0!==i||null===s){const t=r+4*a,i=n.matrixWorldInverse;l.getNormalMatrix(i),(null===s||s.length<t)&&(s=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,l),o.normal.toArray(s,n),s[n+3]=o.constant}c.value=s,c.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,s}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=d(e,t,0)},this.setState=function(t,o,s){const l=t.clippingPlanes,f=t.clipIntersection,p=t.clipShadows,m=e.get(t);if(!i||null===l||0===l.length||a&&!p)a?d(null):u();else{const e=a?0:r,t=4*e;let i=m.clippingState||null;c.value=i,i=d(l,o,t,s);for(let e=0;e!==t;++e)i[e]=n[e];m.clippingState=i,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=e}}}const T=[.125,.215,.35,.446,.526,.582],M=20,b=new s.OrthographicCamera,x=new s.Color;let R=null,A=0,C=0,P=!1;const y=new s.Vector3;class L{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,i={}){const{size:a=256,position:o=y}=i;R=this._renderer.getRenderTarget(),A=this._renderer.getActiveCubeFace(),C=this._renderer.getActiveMipmapLevel(),P=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=F(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=I(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose(),null!==this._backgroundBox&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._ggxMaterial&&this._ggxMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(R,A,C),this._renderer.xr.enabled=P,e.scissorTest=!1,O(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===s.CubeReflectionMapping||e.mapping===s.CubeRefractionMapping?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),R=this._renderer.getRenderTarget(),A=this._renderer.getActiveCubeFace(),C=this._renderer.getActiveMipmapLevel(),P=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:s.LinearFilter,minFilter:s.LinearFilter,generateMipmaps:!1,type:s.HalfFloatType,format:s.RGBAFormat,colorSpace:s.LinearSRGBColorSpace,depthBuffer:!1},r=U(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=U(e,t,n);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=D(r)),this._blurMaterial=N(r,e,t),this._ggxMaterial=w(r,e,t)}return r}_compileMaterial(e){const t=new s.Mesh(new s.BufferGeometry,e);this._renderer.compile(t,b)}_sceneToCubeUV(e,t,n,r,i){const a=new s.PerspectiveCamera(90,1,t,n),o=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,d=c.toneMapping;c.getClearColor(x),c.toneMapping=s.NoToneMapping,c.autoClear=!1;c.state.buffers.depth.getReversed()&&(c.setRenderTarget(r),c.clearDepth(),c.setRenderTarget(null)),null===this._backgroundBox&&(this._backgroundBox=new s.Mesh(new s.BoxGeometry,new s.MeshBasicMaterial({name:'PMREM.Background',side:s.BackSide,depthWrite:!1,depthTest:!1})));const f=this._backgroundBox,p=f.material;let m=!1;const g=e.background;g?g.isColor&&(p.color.copy(g),e.background=null,m=!0):(p.color.copy(x),m=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(a.up.set(0,o[t],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+l[t],i.y,i.z)):1===n?(a.up.set(0,0,o[t]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+l[t],i.z)):(a.up.set(0,o[t],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+l[t]));const s=this._cubeSize;O(r,n*s,t>2?s:0,s,s),c.setRenderTarget(r),m&&c.render(f,a),c.render(e,a)}c.toneMapping=d,c.autoClear=u,e.background=g}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===s.CubeReflectionMapping||e.mapping===s.CubeRefractionMapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=F()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=I());const i=r?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=i;i.uniforms.envMap.value=e;const o=this._cubeSize;O(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,b)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let t=1;t<r;t++)this._applyGGXFilter(e,t-1,t);t.autoClear=n}_applyGGXFilter(e,t,n){const r=this._renderer,i=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[n];o.material=a;const s=a.uniforms,l=n/(this._lodMeshes.length-1),c=t/(this._lodMeshes.length-1),u=Math.sqrt(l*l-c*c)*(0+1.25*l),{_lodMax:d}=this,f=this._sizeLods[n],p=3*f*(n>d-4?n-d+4:0),m=4*(this._cubeSize-f);s.envMap.value=e.texture,s.roughness.value=u,s.mipInt.value=d-t,O(i,p,m,3*f,2*f),r.setRenderTarget(i),r.render(o,b),s.envMap.value=i.texture,s.roughness.value=0,s.mipInt.value=d-n,O(e,p,m,3*f,2*f),r.setRenderTarget(e),r.render(o,b)}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,'latitudinal',i),this._halfBlur(a,e,n,n,r,'longitudinal',i)}_halfBlur(e,t,n,r,i,a,o){const l=this._renderer,c=this._blurMaterial;'latitudinal'!==a&&'longitudinal'!==a&&(0,s.error)('blur direction must be either latitudinal or longitudinal!');const u=this._lodMeshes[r];u.material=c;const d=c.uniforms,f=this._sizeLods[n]-1,p=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,m=i/p,g=isFinite(i)?1+Math.floor(3*m):M;g>M&&(0,s.warn)(`sigmaRadians, ${i}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const _=[];let h=0;for(let e=0;e<M;++e){const t=e/m,n=Math.exp(-t*t/2);_.push(n),0===e?h+=n:e<g&&(h+=2*n)}for(let e=0;e<_.length;e++)_[e]=_[e]/h;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=_,d.latitudinal.value='latitudinal'===a,o&&(d.poleAxis.value=o);const{_lodMax:v}=this;d.dTheta.value=p,d.mipInt.value=v-n;const S=this._sizeLods[r];O(t,3*S*(r>v-4?r-v+4:0),4*(this._cubeSize-S),3*S,2*S),l.setRenderTarget(t),l.render(u,b)}}function D(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+T.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>e-4?l=T[o-e+4-1]:0===o&&(l=0),n.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,m=3,g=2,_=1,h=new Float32Array(108),v=new Float32Array(72),S=new Float32Array(36);for(let e=0;e<p;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+.6666666666666666,n,0,t+.6666666666666666,n+1,0,t,n,0,t+.6666666666666666,n+1,0,t,n+1,0];h.set(r,18*e),v.set(f,12*e);const i=[e,e,e,e,e,e];S.set(i,6*e)}const E=new s.BufferGeometry;E.setAttribute('position',new s.BufferAttribute(h,m)),E.setAttribute('uv',new s.BufferAttribute(v,g)),E.setAttribute('faceIndex',new s.BufferAttribute(S,_)),r.push(new s.Mesh(E,null)),i>4&&i--}return{lodMeshes:r,sizeLods:t,sigmas:n}}function U(e,t,n){const r=new s.WebGLRenderTarget(e,t,n);return r.texture.mapping=s.CubeUVReflectionMapping,r.texture.name='PMREM.cubeUv',r.scissorTest=!0,r}function O(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function w(e,t,n){return new s.ShaderMaterial({name:'PMREMGGXConvolution',defines:{GGX_SAMPLES:256,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:B(),fragmentShader:"\n\n\t\t\tprecision highp float;\n\t\t\tprecision highp int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform float roughness;\n\t\t\tuniform float mipInt;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\t#define PI 3.14159265359\n\n\t\t\t// Van der Corput radical inverse\n\t\t\tfloat radicalInverse_VdC(uint bits) {\n\t\t\t\tbits = (bits << 16u) | (bits >> 16u);\n\t\t\t\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\t\t\t\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\t\t\t\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\t\t\t\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\t\t\t\treturn float(bits) * 2.3283064365386963e-10; // / 0x100000000\n\t\t\t}\n\n\t\t\t// Hammersley sequence\n\t\t\tvec2 hammersley(uint i, uint N) {\n\t\t\t\treturn vec2(float(i) / float(N), radicalInverse_VdC(i));\n\t\t\t}\n\n\t\t\t// GGX VNDF importance sampling (Eric Heitz 2018)\n\t\t\t// \"Sampling the GGX Distribution of Visible Normals\"\n\t\t\t// https://jcgt.org/published/0007/04/01/\n\t\t\tvec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {\n\t\t\t\tfloat alpha = roughness * roughness;\n\n\t\t\t\t// Section 4.1: Orthonormal basis\n\t\t\t\tvec3 T1 = vec3(1.0, 0.0, 0.0);\n\t\t\t\tvec3 T2 = cross(V, T1);\n\n\t\t\t\t// Section 4.2: Parameterization of projected area\n\t\t\t\tfloat r = sqrt(Xi.x);\n\t\t\t\tfloat phi = 2.0 * PI * Xi.y;\n\t\t\t\tfloat t1 = r * cos(phi);\n\t\t\t\tfloat t2 = r * sin(phi);\n\t\t\t\tfloat s = 0.5 * (1.0 + V.z);\n\t\t\t\tt2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;\n\n\t\t\t\t// Section 4.3: Reprojection onto hemisphere\n\t\t\t\tvec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * V;\n\n\t\t\t\t// Section 3.4: Transform back to ellipsoid configuration\n\t\t\t\treturn normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tvec3 N = normalize(vOutputDirection);\n\t\t\t\tvec3 V = N; // Assume view direction equals normal for pre-filtering\n\n\t\t\t\tvec3 prefilteredColor = vec3(0.0);\n\t\t\t\tfloat totalWeight = 0.0;\n\n\t\t\t\t// For very low roughness, just sample the environment directly\n\t\t\t\tif (roughness < 0.001) {\n\t\t\t\t\tgl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Tangent space basis for VNDF sampling\n\t\t\t\tvec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n\t\t\t\tvec3 tangent = normalize(cross(up, N));\n\t\t\t\tvec3 bitangent = cross(N, tangent);\n\n\t\t\t\tfor(uint i = 0u; i < uint(GGX_SAMPLES); i++) {\n\t\t\t\t\tvec2 Xi = hammersley(i, uint(GGX_SAMPLES));\n\n\t\t\t\t\t// For PMREM, V = N, so in tangent space V is always (0, 0, 1)\n\t\t\t\t\tvec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);\n\n\t\t\t\t\t// Transform H back to world space\n\t\t\t\t\tvec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);\n\t\t\t\t\tvec3 L = normalize(2.0 * dot(V, H) * H - V);\n\n\t\t\t\t\tfloat NdotL = max(dot(N, L), 0.0);\n\n\t\t\t\t\tif(NdotL > 0.0) {\n\t\t\t\t\t\t// Sample environment at fixed mip level\n\t\t\t\t\t\t// VNDF importance sampling handles the distribution filtering\n\t\t\t\t\t\tvec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);\n\n\t\t\t\t\t\t// Weight by NdotL for the split-sum approximation\n\t\t\t\t\t\t// VNDF PDF naturally accounts for the visible microfacet distribution\n\t\t\t\t\t\tprefilteredColor += sampleColor * NdotL;\n\t\t\t\t\t\ttotalWeight += NdotL;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (totalWeight > 0.0) {\n\t\t\t\t\tprefilteredColor = prefilteredColor / totalWeight;\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = vec4(prefilteredColor, 1.0);\n\t\t\t}\n\t\t",blending:s.NoBlending,depthTest:!1,depthWrite:!1})}function N(e,t,n){const r=new Float32Array(M),i=new s.Vector3(0,1,0);return new s.ShaderMaterial({name:'SphericalGaussianBlur',defines:{n:M,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:B(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:s.NoBlending,depthTest:!1,depthWrite:!1})}function I(){return new s.ShaderMaterial({name:'EquirectangularToCubeUV',uniforms:{envMap:{value:null}},vertexShader:B(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:s.NoBlending,depthTest:!1,depthWrite:!1})}function F(){return new s.ShaderMaterial({name:'CubemapToCubeUV',uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:B(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:s.NoBlending,depthTest:!1,depthWrite:!1})}function B(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}class G extends s.WebGLRenderTarget{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new s.CubeTexture(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new s.BoxGeometry(5,5,5),i=new s.ShaderMaterial({name:'CubemapFromEquirect',uniforms:(0,s.cloneUniforms)(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:s.BackSide,blending:s.NoBlending});i.uniforms.tEquirect.value=t;const a=new s.Mesh(r,i),o=t.minFilter;t.minFilter===s.LinearMipmapLinearFilter&&(t.minFilter=s.LinearFilter);return new s.CubeCamera(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(i)}}function H(e){let t=new WeakMap,n=new WeakMap,r=null;function i(n){if(n&&n.isTexture){const r=n.mapping;if(r===s.EquirectangularReflectionMapping||r===s.EquirectangularRefractionMapping){if(t.has(n)){return o(t.get(n).texture,n.mapping)}{const r=n.image;if(r&&r.height>0){const i=new G(r.height);return i.fromEquirectangularTexture(e,n),t.set(n,i),n.addEventListener('dispose',c),o(i.texture,n.mapping)}return null}}}return n}function a(t){if(t&&t.isTexture){const i=t.mapping,a=i===s.EquirectangularReflectionMapping||i===s.EquirectangularRefractionMapping,o=i===s.CubeReflectionMapping||i===s.CubeRefractionMapping;if(a||o){let i=n.get(t);const s=void 0!==i?i.texture.pmremVersion:0;if(t.isRenderTargetTexture&&t.pmremVersion!==s)return null===r&&(r=new L(e)),i=a?r.fromEquirectangular(t,i):r.fromCubemap(t,i),i.texture.pmremVersion=t.pmremVersion,n.set(t,i),i.texture;if(void 0!==i)return i.texture;{const s=t.image;return a&&s&&s.height>0||o&&s&&l(s)?(null===r&&(r=new L(e)),i=a?r.fromEquirectangular(t):r.fromCubemap(t),i.texture.pmremVersion=t.pmremVersion,n.set(t,i),t.addEventListener('dispose',u),i.texture):null}}}return t}function o(e,t){return t===s.EquirectangularReflectionMapping?e.mapping=s.CubeReflectionMapping:t===s.EquirectangularRefractionMapping&&(e.mapping=s.CubeRefractionMapping),e}function l(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}function c(e){const n=e.target;n.removeEventListener('dispose',c);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}function u(e){const t=e.target;t.removeEventListener('dispose',u);const r=n.get(t);void 0!==r&&(n.delete(t),r.dispose())}return{get:function(e,t=!1){return null==e?null:t?a(e):i(e)},dispose:function(){t=new WeakMap,n=new WeakMap,null!==r&&(r.dispose(),r=null)}}}function V(e){const t={};function n(n){if(void 0!==t[n])return t[n];const r=e.getExtension(n);return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n('EXT_color_buffer_float'),n('WEBGL_clip_cull_distance'),n('OES_texture_float_linear'),n('EXT_color_buffer_half_float'),n('WEBGL_multisampled_render_to_texture'),n('WEBGL_render_shared_exponent')},get:function(e){const t=n(e);return null===t&&(0,s.warnOnce)('WebGLRenderer: '+e+' extension not supported.'),t}}}function j(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener('dispose',o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function l(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(void 0===i)return;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const l=new(i.count>=65535?s.Uint32BufferAttribute:s.Uint16BufferAttribute)(n,1);l.version=o;const c=a.get(e);c&&t.remove(c),a.set(e,l)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener('dispose',o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const n in r)t.update(r[n],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&l(e)}else l(e);return a.get(e)}}}function W(e,t,n){let r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get('WEBGL_multi_draw').multiDrawElementsWEBGL(r,a,0,i,e,0,o);let s=0;for(let e=0;e<o;e++)s+=a[e];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get('WEBGL_multi_draw');if(null===u)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,r,1)}}}function k(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:(0,s.error)('WebGLInfo: Unknown draw mode:',r)}}}}function z(e,t,n){const r=new WeakMap,i=new s.Vector4;return{update:function(a,o,l){const c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=void 0!==u?u.length:0;let f=r.get(o);if(void 0===f||f.count!==d){void 0!==f&&f.texture.dispose();const p=void 0!==o.morphAttributes.position,m=void 0!==o.morphAttributes.normal,g=void 0!==o.morphAttributes.color,_=o.morphAttributes.position||[],h=o.morphAttributes.normal||[],v=o.morphAttributes.color||[];let S=0;!0===p&&(S=1),!0===m&&(S=2),!0===g&&(S=3);let E=o.attributes.position.count*S,T=1;E>t.maxTextureSize&&(T=Math.ceil(E/t.maxTextureSize),E=t.maxTextureSize);const M=new Float32Array(E*T*4*d),b=new s.DataArrayTexture(M,E,T,d);b.type=s.FloatType,b.needsUpdate=!0;const x=4*S;for(let A=0;A<d;A++){const C=_[A],P=h[A],y=v[A],L=E*T*4*A;for(let D=0;D<C.count;D++){const U=D*x;!0===p&&(i.fromBufferAttribute(C,D),M[L+U+0]=i.x,M[L+U+1]=i.y,M[L+U+2]=i.z,M[L+U+3]=0),!0===m&&(i.fromBufferAttribute(P,D),M[L+U+4]=i.x,M[L+U+5]=i.y,M[L+U+6]=i.z,M[L+U+7]=0),!0===g&&(i.fromBufferAttribute(y,D),M[L+U+8]=i.x,M[L+U+9]=i.y,M[L+U+10]=i.z,M[L+U+11]=4===y.itemSize?i.w:1)}}function R(){b.dispose(),r.delete(o),o.removeEventListener('dispose',R)}f={count:d,texture:b,size:new s.Vector2(E,T)},r.set(o,f),o.addEventListener('dispose',R)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)l.getUniforms().setValue(e,'morphTexture',a.morphTexture,n);else{let O=0;for(let N=0;N<c.length;N++)O+=c[N];const w=o.morphTargetsRelative?1:1-O;l.getUniforms().setValue(e,'morphTargetBaseInfluence',w),l.getUniforms().setValue(e,'morphTargetInfluences',c)}l.getUniforms().setValue(e,'morphTargetsTexture',f.texture,n),l.getUniforms().setValue(e,'morphTargetsTextureSize',f.size)}}}function X(e,t,n,r,i){let a=new WeakMap;function o(e){const t=e.target;t.removeEventListener('dispose',o),r.releaseStatesOfObject(t),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(r){const s=i.render.frame,l=r.geometry,c=t.get(r,l);if(a.get(c)!==s&&(t.update(c),a.set(c,s)),r.isInstancedMesh&&(!1===r.hasEventListener('dispose',o)&&r.addEventListener('dispose',o),a.get(r)!==s&&(n.update(r.instanceMatrix,e.ARRAY_BUFFER),null!==r.instanceColor&&n.update(r.instanceColor,e.ARRAY_BUFFER),a.set(r,s))),r.isSkinnedMesh){const e=r.skeleton;a.get(e)!==s&&(e.update(),a.set(e,s))}return c},dispose:function(){a=new WeakMap}}}const q={[s.LinearToneMapping]:'LINEAR_TONE_MAPPING',[s.ReinhardToneMapping]:'REINHARD_TONE_MAPPING',[s.CineonToneMapping]:'CINEON_TONE_MAPPING',[s.ACESFilmicToneMapping]:'ACES_FILMIC_TONE_MAPPING',[s.AgXToneMapping]:'AGX_TONE_MAPPING',[s.NeutralToneMapping]:'NEUTRAL_TONE_MAPPING',[s.CustomToneMapping]:'CUSTOM_TONE_MAPPING'};function Y(e,t,n,r,i){const a=new s.WebGLRenderTarget(t,n,{type:e,depthBuffer:r,stencilBuffer:i}),o=new s.WebGLRenderTarget(t,n,{type:s.HalfFloatType,depthBuffer:!1,stencilBuffer:!1}),l=new s.BufferGeometry;l.setAttribute('position',new s.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),l.setAttribute('uv',new s.Float32BufferAttribute([0,2,0,0,2,0],2));const c=new s.RawShaderMaterial({uniforms:{tDiffuse:{value:null}},vertexShader:"\n\t\t\tprecision highp float;\n\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}",fragmentShader:"\n\t\t\tprecision highp float;\n\n\t\t\tuniform sampler2D tDiffuse;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\t#include <tonemapping_pars_fragment>\n\t\t\t#include <colorspace_pars_fragment>\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\n\t\t\t\t#ifdef LINEAR_TONE_MAPPING\n\t\t\t\t\tgl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( REINHARD_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( CINEON_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( ACES_FILMIC_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( AGX_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( NEUTRAL_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( CUSTOM_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );\n\t\t\t\t#endif\n\n\t\t\t\t#ifdef SRGB_TRANSFER\n\t\t\t\t\tgl_FragColor = sRGBTransferOETF( gl_FragColor );\n\t\t\t\t#endif\n\t\t\t}",depthTest:!1,depthWrite:!1}),u=new s.Mesh(l,c),d=new s.OrthographicCamera(-1,1,1,-1,0,1);let f,p=null,m=null,g=!1,_=null,h=[],v=!1;this.setSize=function(e,t){a.setSize(e,t),o.setSize(e,t);for(let n=0;n<h.length;n++){const r=h[n];r.setSize&&r.setSize(e,t)}},this.setEffects=function(e){h=e,v=h.length>0&&!0===h[0].isRenderPass;const t=a.width,n=a.height;for(let e=0;e<h.length;e++){const r=h[e];r.setSize&&r.setSize(t,n)}},this.begin=function(e,t){if(g)return!1;if(e.toneMapping===s.NoToneMapping&&0===h.length)return!1;if(_=t,null!==t){const e=t.width,n=t.height;a.width===e&&a.height===n||this.setSize(e,n)}return!1===v&&e.setRenderTarget(a),f=e.toneMapping,e.toneMapping=s.NoToneMapping,!0},this.hasRenderPass=function(){return v},this.end=function(e,t){e.toneMapping=f,g=!0;let n=a,r=o;for(let i=0;i<h.length;i++){const a=h[i];if(!1!==a.enabled&&(a.render(e,r,n,t),!1!==a.needsSwap)){const e=n;n=r,r=e}}if(p!==e.outputColorSpace||m!==e.toneMapping){p=e.outputColorSpace,m=e.toneMapping,c.defines={},s.ColorManagement.getTransfer(p)===s.SRGBTransfer&&(c.defines.SRGB_TRANSFER='');const t=q[m];t&&(c.defines[t]=''),c.needsUpdate=!0}c.uniforms.tDiffuse.value=n.texture,e.setRenderTarget(_),e.render(u,d),_=null,g=!1},this.isCompositing=function(){return g},this.dispose=function(){a.dispose(),o.dispose(),l.dispose(),c.dispose()}}const K=new s.Texture,Z=new s.DepthTexture(1,1),$=new s.DataArrayTexture,Q=new s.Data3DTexture,J=new s.CubeTexture,ee=[],te=[],ne=new Float32Array(16),re=new Float32Array(9),ie=new Float32Array(4);function ae(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=ee[i];if(void 0===a&&(a=new Float32Array(i),ee[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function oe(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function se(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function le(e,t){let n=te[t];void 0===n&&(n=new Int32Array(t),te[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ce(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(oe(n,t))return;e.uniform2fv(this.addr,t),se(n,t)}}function de(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(oe(n,t))return;e.uniform3fv(this.addr,t),se(n,t)}}function fe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(oe(n,t))return;e.uniform4fv(this.addr,t),se(n,t)}}function pe(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(oe(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),se(n,t)}else{if(oe(n,r))return;ie.set(r),e.uniformMatrix2fv(this.addr,!1,ie),se(n,r)}}function me(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(oe(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),se(n,t)}else{if(oe(n,r))return;re.set(r),e.uniformMatrix3fv(this.addr,!1,re),se(n,r)}}function ge(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(oe(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),se(n,t)}else{if(oe(n,r))return;ne.set(r),e.uniformMatrix4fv(this.addr,!1,ne),se(n,r)}}function _e(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function he(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(oe(n,t))return;e.uniform2iv(this.addr,t),se(n,t)}}function ve(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(oe(n,t))return;e.uniform3iv(this.addr,t),se(n,t)}}function Se(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(oe(n,t))return;e.uniform4iv(this.addr,t),se(n,t)}}function Ee(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Te(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(oe(n,t))return;e.uniform2uiv(this.addr,t),se(n,t)}}function Me(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(oe(n,t))return;e.uniform3uiv(this.addr,t),se(n,t)}}function be(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(oe(n,t))return;e.uniform4uiv(this.addr,t),se(n,t)}}function xe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let a;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(Z.compareFunction=n.isReversedDepthBuffer()?s.GreaterEqualCompare:s.LessEqualCompare,a=Z):a=K,n.setTexture2D(t||a,i)}function Re(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Q,i)}function Ae(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||J,i)}function Ce(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||$,i)}function Pe(e){switch(e){case 5126:return ce;case 35664:return ue;case 35665:return de;case 35666:return fe;case 35674:return pe;case 35675:return me;case 35676:return ge;case 5124:case 35670:return _e;case 35667:case 35671:return he;case 35668:case 35672:return ve;case 35669:case 35673:return Se;case 5125:return Ee;case 36294:return Te;case 36295:return Me;case 36296:return be;case 35678:case 36198:case 36298:case 36306:case 35682:return xe;case 35679:case 36299:case 36307:return Re;case 35680:case 36300:case 36308:case 36293:return Ae;case 36289:case 36303:case 36311:case 36292:return Ce}}function ye(e,t){e.uniform1fv(this.addr,t)}function Le(e,t){const n=ae(t,this.size,2);e.uniform2fv(this.addr,n)}function De(e,t){const n=ae(t,this.size,3);e.uniform3fv(this.addr,n)}function Ue(e,t){const n=ae(t,this.size,4);e.uniform4fv(this.addr,n)}function Oe(e,t){const n=ae(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function we(e,t){const n=ae(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ne(e,t){const n=ae(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ie(e,t){e.uniform1iv(this.addr,t)}function Fe(e,t){e.uniform2iv(this.addr,t)}function Be(e,t){e.uniform3iv(this.addr,t)}function Ge(e,t){e.uniform4iv(this.addr,t)}function He(e,t){e.uniform1uiv(this.addr,t)}function Ve(e,t){e.uniform2uiv(this.addr,t)}function je(e,t){e.uniform3uiv(this.addr,t)}function We(e,t){e.uniform4uiv(this.addr,t)}function ke(e,t,n){const r=this.cache,i=t.length,a=le(n,i);let o;oe(r,a)||(e.uniform1iv(this.addr,a),se(r,a)),o=this.type===e.SAMPLER_2D_SHADOW?Z:K;for(let e=0;e!==i;++e)n.setTexture2D(t[e]||o,a[e])}function ze(e,t,n){const r=this.cache,i=t.length,a=le(n,i);oe(r,a)||(e.uniform1iv(this.addr,a),se(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||Q,a[e])}function Xe(e,t,n){const r=this.cache,i=t.length,a=le(n,i);oe(r,a)||(e.uniform1iv(this.addr,a),se(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||J,a[e])}function qe(e,t,n){const r=this.cache,i=t.length,a=le(n,i);oe(r,a)||(e.uniform1iv(this.addr,a),se(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||$,a[e])}function Ye(e){switch(e){case 5126:return ye;case 35664:return Le;case 35665:return De;case 35666:return Ue;case 35674:return Oe;case 35675:return we;case 35676:return Ne;case 5124:case 35670:return Ie;case 35667:case 35671:return Fe;case 35668:case 35672:return Be;case 35669:case 35673:return Ge;case 5125:return He;case 36294:return Ve;case 36295:return je;case 36296:return We;case 35678:case 36198:case 36298:case 36306:case 35682:return ke;case 35679:case 36299:case 36307:return ze;case 35680:case 36300:case 36308:case 36293:return Xe;case 36289:case 36303:case 36311:case 36292:return qe}}class Ke{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=Pe(t.type)}}class Ze{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Ye(t.type)}}class $e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const Qe=/(\w+)(\])?(\[|\.)?/g;function Je(e,t){e.seq.push(t),e.map[t.id]=t}function et(e,t,n){const r=e.name,i=r.length;for(Qe.lastIndex=0;;){const a=Qe.exec(r),o=Qe.lastIndex;let s=a[1];const l=']'===a[2],c=a[3];if(l&&(s|=0),void 0===c||'['===c&&o+2===i){Je(n,void 0===c?new Ke(s,e,t):new Ze(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new $e(s),Je(n,e)),n=e}}}class tt{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);et(n,e.getUniformLocation(t,n.name),this)}const r=[],i=[];for(const t of this.seq)t.type===e.SAMPLER_2D_SHADOW||t.type===e.SAMPLER_CUBE_SHADOW||t.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(t):i.push(t);r.length>0&&(this.seq=r.concat(i))}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function nt(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let rt=0;function it(e,t){const n=e.split('\n'),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){const i=e+1;r.push(`${i===t?'>':' '} ${i}: ${n[e]}`)}return r.join('\n')}const at=new s.Matrix3;function ot(e){s.ColorManagement._getMatrix(at,s.ColorManagement.workingColorSpace,e);const t=`mat3( ${at.elements.map(e=>e.toFixed(4))} )`;switch(s.ColorManagement.getTransfer(e)){case s.LinearTransfer:return[t,'LinearTransferOETF'];case s.SRGBTransfer:return[t,'sRGBTransferOETF'];default:return(0,s.warn)('WebGLProgram: Unsupported color space: ',e),[t,'LinearTransferOETF']}}function st(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=(e.getShaderInfoLog(t)||'').trim();if(r&&''===i)return'';const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+'\n\n'+i+'\n\n'+it(e.getShaderSource(t),r)}return i}function lt(e,t){const n=ot(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,'}'].join('\n')}const ct={[s.LinearToneMapping]:'Linear',[s.ReinhardToneMapping]:'Reinhard',[s.CineonToneMapping]:'Cineon',[s.ACESFilmicToneMapping]:'ACESFilmic',[s.AgXToneMapping]:'AgX',[s.NeutralToneMapping]:'Neutral',[s.CustomToneMapping]:'Custom'};function ut(e,t){const n=ct[t];return void 0===n?((0,s.warn)('WebGLProgram: Unsupported toneMapping:',t),'vec3 '+e+'( vec3 color ) { return LinearToneMapping( color ); }'):'vec3 '+e+'( vec3 color ) { return '+n+'ToneMapping( color ); }'}const dt=new s.Vector3;function ft(){s.ColorManagement.getLuminanceCoefficients(dt);return['float luminance( const in vec3 rgb ) {',`\tconst vec3 weights = vec3( ${dt.x.toFixed(4)}, ${dt.y.toFixed(4)}, ${dt.z.toFixed(4)} );`,'\treturn dot( weights, rgb );','}'].join('\n')}function pt(e){return[e.extensionClipCullDistance?'#extension GL_ANGLE_clip_cull_distance : require':'',e.extensionMultiDraw?'#extension GL_ANGLE_multi_draw : require':''].filter(_t).join('\n')}function mt(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push('#define '+n+' '+r)}return t.join('\n')}function gt(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}function _t(e){return''!==e}function ht(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function vt(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const St=/^[ \t]*#include +<([\w\d./]+)>/gm;function Et(e){return e.replace(St,Mt)}const Tt=new Map;function Mt(e,t){let n=u[t];if(void 0===n){const e=Tt.get(t);if(void 0===e)throw new Error('Can not resolve #include <'+t+'>');n=u[e],(0,s.warn)('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return Et(n)}const bt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function xt(e){return e.replace(bt,Rt)}function Rt(e,t,n,r){let i='';for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,'[ '+e+' ]').replace(/UNROLLED_LOOP_INDEX/g,e);return i}function At(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return'highp'===e.precision?t+='\n#define HIGH_PRECISION':'mediump'===e.precision?t+='\n#define MEDIUM_PRECISION':'lowp'===e.precision&&(t+='\n#define LOW_PRECISION'),t}const Ct={[s.PCFShadowMap]:'SHADOWMAP_TYPE_PCF',[s.VSMShadowMap]:'SHADOWMAP_TYPE_VSM'};function Pt(e){return Ct[e.shadowMapType]||'SHADOWMAP_TYPE_BASIC'}const yt={[s.CubeReflectionMapping]:'ENVMAP_TYPE_CUBE',[s.CubeRefractionMapping]:'ENVMAP_TYPE_CUBE',[s.CubeUVReflectionMapping]:'ENVMAP_TYPE_CUBE_UV'};function Lt(e){return!1===e.envMap?'ENVMAP_TYPE_CUBE':yt[e.envMapMode]||'ENVMAP_TYPE_CUBE'}const Dt={[s.CubeRefractionMapping]:'ENVMAP_MODE_REFRACTION'};function Ut(e){return!1===e.envMap?'ENVMAP_MODE_REFLECTION':Dt[e.envMapMode]||'ENVMAP_MODE_REFLECTION'}const Ot={[s.MultiplyOperation]:'ENVMAP_BLENDING_MULTIPLY',[s.MixOperation]:'ENVMAP_BLENDING_MIX',[s.AddOperation]:'ENVMAP_BLENDING_ADD'};function wt(e){return!1===e.envMap?'ENVMAP_BLENDING_NONE':Ot[e.combine]||'ENVMAP_BLENDING_NONE'}function Nt(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function It(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,l=n.fragmentShader;const c=Pt(n),d=Lt(n),f=Ut(n),p=wt(n),m=Nt(n),g=pt(n),_=mt(a),h=i.createProgram();let v,S,E=n.glslVersion?'#version '+n.glslVersion+'\n':'';n.isRawShaderMaterial?(v=['#define SHADER_TYPE '+n.shaderType,'#define SHADER_NAME '+n.shaderName,_].filter(_t).join('\n'),v.length>0&&(v+='\n'),S=['#define SHADER_TYPE '+n.shaderType,'#define SHADER_NAME '+n.shaderName,_].filter(_t).join('\n'),S.length>0&&(S+='\n')):(v=[At(n),'#define SHADER_TYPE '+n.shaderType,'#define SHADER_NAME '+n.shaderName,_,n.extensionClipCullDistance?'#define USE_CLIP_DISTANCE':'',n.batching?'#define USE_BATCHING':'',n.batchingColor?'#define USE_BATCHING_COLOR':'',n.instancing?'#define USE_INSTANCING':'',n.instancingColor?'#define USE_INSTANCING_COLOR':'',n.instancingMorph?'#define USE_INSTANCING_MORPH':'',n.useFog&&n.fog?'#define USE_FOG':'',n.useFog&&n.fogExp2?'#define FOG_EXP2':'',n.map?'#define USE_MAP':'',n.envMap?'#define USE_ENVMAP':'',n.envMap?'#define '+f:'',n.lightMap?'#define USE_LIGHTMAP':'',n.aoMap?'#define USE_AOMAP':'',n.bumpMap?'#define USE_BUMPMAP':'',n.normalMap?'#define USE_NORMALMAP':'',n.normalMapObjectSpace?'#define USE_NORMALMAP_OBJECTSPACE':'',n.normalMapTangentSpace?'#define USE_NORMALMAP_TANGENTSPACE':'',n.displacementMap?'#define USE_DISPLACEMENTMAP':'',n.emissiveMap?'#define USE_EMISSIVEMAP':'',n.anisotropy?'#define USE_ANISOTROPY':'',n.anisotropyMap?'#define USE_ANISOTROPYMAP':'',n.clearcoatMap?'#define USE_CLEARCOATMAP':'',n.clearcoatRoughnessMap?'#define USE_CLEARCOAT_ROUGHNESSMAP':'',n.clearcoatNormalMap?'#define USE_CLEARCOAT_NORMALMAP':'',n.iridescenceMap?'#define USE_IRIDESCENCEMAP':'',n.iridescenceThicknessMap?'#define USE_IRIDESCENCE_THICKNESSMAP':'',n.specularMap?'#define USE_SPECULARMAP':'',n.specularColorMap?'#define USE_SPECULAR_COLORMAP':'',n.specularIntensityMap?'#define USE_SPECULAR_INTENSITYMAP':'',n.roughnessMap?'#define USE_ROUGHNESSMAP':'',n.metalnessMap?'#define USE_METALNESSMAP':'',n.alphaMap?'#define USE_ALPHAMAP':'',n.alphaHash?'#define USE_ALPHAHASH':'',n.transmission?'#define USE_TRANSMISSION':'',n.transmissionMap?'#define USE_TRANSMISSIONMAP':'',n.thicknessMap?'#define USE_THICKNESSMAP':'',n.sheenColorMap?'#define USE_SHEEN_COLORMAP':'',n.sheenRoughnessMap?'#define USE_SHEEN_ROUGHNESSMAP':'',n.mapUv?'#define MAP_UV '+n.mapUv:'',n.alphaMapUv?'#define ALPHAMAP_UV '+n.alphaMapUv:'',n.lightMapUv?'#define LIGHTMAP_UV '+n.lightMapUv:'',n.aoMapUv?'#define AOMAP_UV '+n.aoMapUv:'',n.emissiveMapUv?'#define EMISSIVEMAP_UV '+n.emissiveMapUv:'',n.bumpMapUv?'#define BUMPMAP_UV '+n.bumpMapUv:'',n.normalMapUv?'#define NORMALMAP_UV '+n.normalMapUv:'',n.displacementMapUv?'#define DISPLACEMENTMAP_UV '+n.displacementMapUv:'',n.metalnessMapUv?'#define METALNESSMAP_UV '+n.metalnessMapUv:'',n.roughnessMapUv?'#define ROUGHNESSMAP_UV '+n.roughnessMapUv:'',n.anisotropyMapUv?'#define ANISOTROPYMAP_UV '+n.anisotropyMapUv:'',n.clearcoatMapUv?'#define CLEARCOATMAP_UV '+n.clearcoatMapUv:'',n.clearcoatNormalMapUv?'#define CLEARCOAT_NORMALMAP_UV '+n.clearcoatNormalMapUv:'',n.clearcoatRoughnessMapUv?'#define CLEARCOAT_ROUGHNESSMAP_UV '+n.clearcoatRoughnessMapUv:'',n.iridescenceMapUv?'#define IRIDESCENCEMAP_UV '+n.iridescenceMapUv:'',n.iridescenceThicknessMapUv?'#define IRIDESCENCE_THICKNESSMAP_UV '+n.iridescenceThicknessMapUv:'',n.sheenColorMapUv?'#define SHEEN_COLORMAP_UV '+n.sheenColorMapUv:'',n.sheenRoughnessMapUv?'#define SHEEN_ROUGHNESSMAP_UV '+n.sheenRoughnessMapUv:'',n.specularMapUv?'#define SPECULARMAP_UV '+n.specularMapUv:'',n.specularColorMapUv?'#define SPECULAR_COLORMAP_UV '+n.specularColorMapUv:'',n.specularIntensityMapUv?'#define SPECULAR_INTENSITYMAP_UV '+n.specularIntensityMapUv:'',n.transmissionMapUv?'#define TRANSMISSIONMAP_UV '+n.transmissionMapUv:'',n.thicknessMapUv?'#define THICKNESSMAP_UV '+n.thicknessMapUv:'',n.vertexTangents&&!1===n.flatShading?'#define USE_TANGENT':'',n.vertexColors?'#define USE_COLOR':'',n.vertexAlphas?'#define USE_COLOR_ALPHA':'',n.vertexUv1s?'#define USE_UV1':'',n.vertexUv2s?'#define USE_UV2':'',n.vertexUv3s?'#define USE_UV3':'',n.pointsUvs?'#define USE_POINTS_UV':'',n.flatShading?'#define FLAT_SHADED':'',n.skinning?'#define USE_SKINNING':'',n.morphTargets?'#define USE_MORPHTARGETS':'',n.morphNormals&&!1===n.flatShading?'#define USE_MORPHNORMALS':'',n.morphColors?'#define USE_MORPHCOLORS':'',n.morphTargetsCount>0?'#define MORPHTARGETS_TEXTURE_STRIDE '+n.morphTextureStride:'',n.morphTargetsCount>0?'#define MORPHTARGETS_COUNT '+n.morphTargetsCount:'',n.doubleSided?'#define DOUBLE_SIDED':'',n.flipSided?'#define FLIP_SIDED':'',n.shadowMapEnabled?'#define USE_SHADOWMAP':'',n.shadowMapEnabled?'#define '+c:'',n.sizeAttenuation?'#define USE_SIZEATTENUATION':'',n.numLightProbes>0?'#define USE_LIGHT_PROBES':'',n.logarithmicDepthBuffer?'#define USE_LOGARITHMIC_DEPTH_BUFFER':'',n.reversedDepthBuffer?'#define USE_REVERSED_DEPTH_BUFFER':'','uniform mat4 modelMatrix;','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform mat4 viewMatrix;','uniform mat3 normalMatrix;','uniform vec3 cameraPosition;','uniform bool isOrthographic;','#ifdef USE_INSTANCING','\tattribute mat4 instanceMatrix;','#endif','#ifdef USE_INSTANCING_COLOR','\tattribute vec3 instanceColor;','#endif','#ifdef USE_INSTANCING_MORPH','\tuniform sampler2D morphTexture;','#endif','attribute vec3 position;','attribute vec3 normal;','attribute vec2 uv;','#ifdef USE_UV1','\tattribute vec2 uv1;','#endif','#ifdef USE_UV2','\tattribute vec2 uv2;','#endif','#ifdef USE_UV3','\tattribute vec2 uv3;','#endif','#ifdef USE_TANGENT','\tattribute vec4 tangent;','#endif','#if defined( USE_COLOR_ALPHA )','\tattribute vec4 color;','#elif defined( USE_COLOR )','\tattribute vec3 color;','#endif','#ifdef USE_SKINNING','\tattribute vec4 skinIndex;','\tattribute vec4 skinWeight;','#endif','\n'].filter(_t).join('\n'),S=[At(n),'#define SHADER_TYPE '+n.shaderType,'#define SHADER_NAME '+n.shaderName,_,n.useFog&&n.fog?'#define USE_FOG':'',n.useFog&&n.fogExp2?'#define FOG_EXP2':'',n.alphaToCoverage?'#define ALPHA_TO_COVERAGE':'',n.map?'#define USE_MAP':'',n.matcap?'#define USE_MATCAP':'',n.envMap?'#define USE_ENVMAP':'',n.envMap?'#define '+d:'',n.envMap?'#define '+f:'',n.envMap?'#define '+p:'',m?'#define CUBEUV_TEXEL_WIDTH '+m.texelWidth:'',m?'#define CUBEUV_TEXEL_HEIGHT '+m.texelHeight:'',m?'#define CUBEUV_MAX_MIP '+m.maxMip+'.0':'',n.lightMap?'#define USE_LIGHTMAP':'',n.aoMap?'#define USE_AOMAP':'',n.bumpMap?'#define USE_BUMPMAP':'',n.normalMap?'#define USE_NORMALMAP':'',n.normalMapObjectSpace?'#define USE_NORMALMAP_OBJECTSPACE':'',n.normalMapTangentSpace?'#define USE_NORMALMAP_TANGENTSPACE':'',n.emissiveMap?'#define USE_EMISSIVEMAP':'',n.anisotropy?'#define USE_ANISOTROPY':'',n.anisotropyMap?'#define USE_ANISOTROPYMAP':'',n.clearcoat?'#define USE_CLEARCOAT':'',n.clearcoatMap?'#define USE_CLEARCOATMAP':'',n.clearcoatRoughnessMap?'#define USE_CLEARCOAT_ROUGHNESSMAP':'',n.clearcoatNormalMap?'#define USE_CLEARCOAT_NORMALMAP':'',n.dispersion?'#define USE_DISPERSION':'',n.iridescence?'#define USE_IRIDESCENCE':'',n.iridescenceMap?'#define USE_IRIDESCENCEMAP':'',n.iridescenceThicknessMap?'#define USE_IRIDESCENCE_THICKNESSMAP':'',n.specularMap?'#define USE_SPECULARMAP':'',n.specularColorMap?'#define USE_SPECULAR_COLORMAP':'',n.specularIntensityMap?'#define USE_SPECULAR_INTENSITYMAP':'',n.roughnessMap?'#define USE_ROUGHNESSMAP':'',n.metalnessMap?'#define USE_METALNESSMAP':'',n.alphaMap?'#define USE_ALPHAMAP':'',n.alphaTest?'#define USE_ALPHATEST':'',n.alphaHash?'#define USE_ALPHAHASH':'',n.sheen?'#define USE_SHEEN':'',n.sheenColorMap?'#define USE_SHEEN_COLORMAP':'',n.sheenRoughnessMap?'#define USE_SHEEN_ROUGHNESSMAP':'',n.transmission?'#define USE_TRANSMISSION':'',n.transmissionMap?'#define USE_TRANSMISSIONMAP':'',n.thicknessMap?'#define USE_THICKNESSMAP':'',n.vertexTangents&&!1===n.flatShading?'#define USE_TANGENT':'',n.vertexColors||n.instancingColor?'#define USE_COLOR':'',n.vertexAlphas||n.batchingColor?'#define USE_COLOR_ALPHA':'',n.vertexUv1s?'#define USE_UV1':'',n.vertexUv2s?'#define USE_UV2':'',n.vertexUv3s?'#define USE_UV3':'',n.pointsUvs?'#define USE_POINTS_UV':'',n.gradientMap?'#define USE_GRADIENTMAP':'',n.flatShading?'#define FLAT_SHADED':'',n.doubleSided?'#define DOUBLE_SIDED':'',n.flipSided?'#define FLIP_SIDED':'',n.shadowMapEnabled?'#define USE_SHADOWMAP':'',n.shadowMapEnabled?'#define '+c:'',n.premultipliedAlpha?'#define PREMULTIPLIED_ALPHA':'',n.numLightProbes>0?'#define USE_LIGHT_PROBES':'',n.decodeVideoTexture?'#define DECODE_VIDEO_TEXTURE':'',n.decodeVideoTextureEmissive?'#define DECODE_VIDEO_TEXTURE_EMISSIVE':'',n.logarithmicDepthBuffer?'#define USE_LOGARITHMIC_DEPTH_BUFFER':'',n.reversedDepthBuffer?'#define USE_REVERSED_DEPTH_BUFFER':'','uniform mat4 viewMatrix;','uniform vec3 cameraPosition;','uniform bool isOrthographic;',n.toneMapping!==s.NoToneMapping?'#define TONE_MAPPING':'',n.toneMapping!==s.NoToneMapping?u.tonemapping_pars_fragment:'',n.toneMapping!==s.NoToneMapping?ut('toneMapping',n.toneMapping):'',n.dithering?'#define DITHERING':'',n.opaque?'#define OPAQUE':'',u.colorspace_pars_fragment,lt('linearToOutputTexel',n.outputColorSpace),ft(),n.useDepthPacking?'#define DEPTH_PACKING '+n.depthPacking:'','\n'].filter(_t).join('\n')),o=Et(o),o=ht(o,n),o=vt(o,n),l=Et(l),l=ht(l,n),l=vt(l,n),o=xt(o),l=xt(l),!0!==n.isRawShaderMaterial&&(E='#version 300 es\n',v=[g,'#define attribute in','#define varying out','#define texture2D texture'].join('\n')+'\n'+v,S=['#define varying in',n.glslVersion===s.GLSL3?'':'layout(location = 0) out highp vec4 pc_fragColor;',n.glslVersion===s.GLSL3?'':'#define gl_FragColor pc_fragColor','#define gl_FragDepthEXT gl_FragDepth','#define texture2D texture','#define textureCube texture','#define texture2DProj textureProj','#define texture2DLodEXT textureLod','#define texture2DProjLodEXT textureProjLod','#define textureCubeLodEXT textureLod','#define texture2DGradEXT textureGrad','#define texture2DProjGradEXT textureProjGrad','#define textureCubeGradEXT textureGrad'].join('\n')+'\n'+S);const T=E+v+o,M=E+S+l,b=nt(i,i.VERTEX_SHADER,T),x=nt(i,i.FRAGMENT_SHADER,M);function R(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(h)||'',r=i.getShaderInfoLog(b)||'',a=i.getShaderInfoLog(x)||'',o=n.trim(),l=r.trim(),c=a.trim();let u=!0,d=!0;if(!1===i.getProgramParameter(h,i.LINK_STATUS))if(u=!1,'function'==typeof e.debug.onShaderError)e.debug.onShaderError(i,h,b,x);else{const e=st(i,b,'vertex'),n=st(i,x,'fragment');(0,s.error)('THREE.WebGLProgram: Shader Error '+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(h,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+o+'\n'+e+'\n'+n)}else''!==o?(0,s.warn)('WebGLProgram: Program Info Log:',o):''!==l&&''!==c||(d=!1);d&&(t.diagnostics={runnable:u,programLog:o,vertexShader:{log:l,prefix:v},fragmentShader:{log:c,prefix:S}})}i.deleteShader(b),i.deleteShader(x),A=new tt(i,h),C=gt(i,h)}let A,C;i.attachShader(h,b),i.attachShader(h,x),void 0!==n.index0AttributeName?i.bindAttribLocation(h,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(h,0,'position'),i.linkProgram(h),this.getUniforms=function(){return void 0===A&&R(this),A},this.getAttributes=function(){return void 0===C&&R(this),C};let P=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===P&&(P=i.getProgramParameter(h,37297)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(h),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=rt++,this.cacheKey=t,this.usedTimes=1,this.program=h,this.vertexShader=b,this.fragmentShader=x,this}let Ft=0;class Bt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Gt(e),t.set(e,n)),n}}class Gt{constructor(e){this.id=Ft++,this.code=e,this.usedTimes=0}}function Ht(e,t,n,r,i,a){const o=new s.Layers,l=new Bt,c=new Set,u=[],d=new Map,p=r.logarithmicDepthBuffer;let m=r.precision;const g={MeshDepthMaterial:'depth',MeshDistanceMaterial:'distance',MeshNormalMaterial:'normal',MeshBasicMaterial:'basic',MeshLambertMaterial:'lambert',MeshPhongMaterial:'phong',MeshToonMaterial:'toon',MeshStandardMaterial:'physical',MeshPhysicalMaterial:'physical',MeshMatcapMaterial:'matcap',LineBasicMaterial:'basic',LineDashedMaterial:'dashed',PointsMaterial:'points',ShadowMaterial:'shadow',SpriteMaterial:'sprite'};function _(e){return c.add(e),0===e?'uv':`uv${e}`}function h(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}function v(e,t){o.disableAll(),t.instancing&&o.enable(0),t.instancingColor&&o.enable(1),t.instancingMorph&&o.enable(2),t.matcap&&o.enable(3),t.envMap&&o.enable(4),t.normalMapObjectSpace&&o.enable(5),t.normalMapTangentSpace&&o.enable(6),t.clearcoat&&o.enable(7),t.iridescence&&o.enable(8),t.alphaTest&&o.enable(9),t.vertexColors&&o.enable(10),t.vertexAlphas&&o.enable(11),t.vertexUv1s&&o.enable(12),t.vertexUv2s&&o.enable(13),t.vertexUv3s&&o.enable(14),t.vertexTangents&&o.enable(15),t.anisotropy&&o.enable(16),t.alphaHash&&o.enable(17),t.batching&&o.enable(18),t.dispersion&&o.enable(19),t.batchingColor&&o.enable(20),t.gradientMap&&o.enable(21),e.push(o.mask),o.disableAll(),t.fog&&o.enable(0),t.useFog&&o.enable(1),t.flatShading&&o.enable(2),t.logarithmicDepthBuffer&&o.enable(3),t.reversedDepthBuffer&&o.enable(4),t.skinning&&o.enable(5),t.morphTargets&&o.enable(6),t.morphNormals&&o.enable(7),t.morphColors&&o.enable(8),t.premultipliedAlpha&&o.enable(9),t.shadowMapEnabled&&o.enable(10),t.doubleSided&&o.enable(11),t.flipSided&&o.enable(12),t.useDepthPacking&&o.enable(13),t.dithering&&o.enable(14),t.transmission&&o.enable(15),t.sheen&&o.enable(16),t.opaque&&o.enable(17),t.pointsUvs&&o.enable(18),t.decodeVideoTexture&&o.enable(19),t.decodeVideoTextureEmissive&&o.enable(20),t.alphaToCoverage&&o.enable(21),e.push(o.mask)}return{getParameters:function(i,o,u,d,h){const v=d.fog,S=h.geometry,E=i.isMeshStandardMaterial||i.isMeshLambertMaterial||i.isMeshPhongMaterial?d.environment:null,T=i.isMeshStandardMaterial||i.isMeshLambertMaterial&&!i.envMap||i.isMeshPhongMaterial&&!i.envMap,M=t.get(i.envMap||E,T),b=M&&M.mapping===s.CubeUVReflectionMapping?M.image.height:null,x=g[i.type];null!==i.precision&&(m=r.getMaxPrecision(i.precision),m!==i.precision&&(0,s.warn)('WebGLProgram.getParameters:',i.precision,'not supported, using',m,'instead.'));const R=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,A=void 0!==R?R.length:0;let C,P,y,L,D=0;if(void 0!==S.morphAttributes.position&&(D=1),void 0!==S.morphAttributes.normal&&(D=2),void 0!==S.morphAttributes.color&&(D=3),x){const e=f[x];C=e.vertexShader,P=e.fragmentShader}else C=i.vertexShader,P=i.fragmentShader,l.update(i),y=l.getVertexShaderID(i),L=l.getFragmentShaderID(i);const U=e.getRenderTarget(),O=e.state.buffers.depth.getReversed(),w=!0===h.isInstancedMesh,N=!0===h.isBatchedMesh,I=!!i.map,F=!!i.matcap,B=!!M,G=!!i.aoMap,H=!!i.lightMap,V=!!i.bumpMap,j=!!i.normalMap,W=!!i.displacementMap,k=!!i.emissiveMap,z=!!i.metalnessMap,X=!!i.roughnessMap,q=i.anisotropy>0,Y=i.clearcoat>0,K=i.dispersion>0,Z=i.iridescence>0,$=i.sheen>0,Q=i.transmission>0,J=q&&!!i.anisotropyMap,ee=Y&&!!i.clearcoatMap,te=Y&&!!i.clearcoatNormalMap,ne=Y&&!!i.clearcoatRoughnessMap,re=Z&&!!i.iridescenceMap,ie=Z&&!!i.iridescenceThicknessMap,ae=$&&!!i.sheenColorMap,oe=$&&!!i.sheenRoughnessMap,se=!!i.specularMap,le=!!i.specularColorMap,ce=!!i.specularIntensityMap,ue=Q&&!!i.transmissionMap,de=Q&&!!i.thicknessMap,fe=!!i.gradientMap,pe=!!i.alphaMap,me=i.alphaTest>0,ge=!!i.alphaHash,_e=!!i.extensions;let he=s.NoToneMapping;i.toneMapped&&(null!==U&&!0!==U.isXRRenderTarget||(he=e.toneMapping));const ve={shaderID:x,shaderType:i.type,shaderName:i.name,vertexShader:C,fragmentShader:P,defines:i.defines,customVertexShaderID:y,customFragmentShaderID:L,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:m,batching:N,batchingColor:N&&null!==h._colorsTexture,instancing:w,instancingColor:w&&null!==h.instanceColor,instancingMorph:w&&null!==h.morphTexture,outputColorSpace:null===U?e.outputColorSpace:!0===U.isXRRenderTarget?U.texture.colorSpace:s.LinearSRGBColorSpace,alphaToCoverage:!!i.alphaToCoverage,map:I,matcap:F,envMap:B,envMapMode:B&&M.mapping,envMapCubeUVHeight:b,aoMap:G,lightMap:H,bumpMap:V,normalMap:j,displacementMap:W,emissiveMap:k,normalMapObjectSpace:j&&i.normalMapType===s.ObjectSpaceNormalMap,normalMapTangentSpace:j&&i.normalMapType===s.TangentSpaceNormalMap,metalnessMap:z,roughnessMap:X,anisotropy:q,anisotropyMap:J,clearcoat:Y,clearcoatMap:ee,clearcoatNormalMap:te,clearcoatRoughnessMap:ne,dispersion:K,iridescence:Z,iridescenceMap:re,iridescenceThicknessMap:ie,sheen:$,sheenColorMap:ae,sheenRoughnessMap:oe,specularMap:se,specularColorMap:le,specularIntensityMap:ce,transmission:Q,transmissionMap:ue,thicknessMap:de,gradientMap:fe,opaque:!1===i.transparent&&i.blending===s.NormalBlending&&!1===i.alphaToCoverage,alphaMap:pe,alphaTest:me,alphaHash:ge,combine:i.combine,mapUv:I&&_(i.map.channel),aoMapUv:G&&_(i.aoMap.channel),lightMapUv:H&&_(i.lightMap.channel),bumpMapUv:V&&_(i.bumpMap.channel),normalMapUv:j&&_(i.normalMap.channel),displacementMapUv:W&&_(i.displacementMap.channel),emissiveMapUv:k&&_(i.emissiveMap.channel),metalnessMapUv:z&&_(i.metalnessMap.channel),roughnessMapUv:X&&_(i.roughnessMap.channel),anisotropyMapUv:J&&_(i.anisotropyMap.channel),clearcoatMapUv:ee&&_(i.clearcoatMap.channel),clearcoatNormalMapUv:te&&_(i.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ne&&_(i.clearcoatRoughnessMap.channel),iridescenceMapUv:re&&_(i.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&_(i.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&_(i.sheenColorMap.channel),sheenRoughnessMapUv:oe&&_(i.sheenRoughnessMap.channel),specularMapUv:se&&_(i.specularMap.channel),specularColorMapUv:le&&_(i.specularColorMap.channel),specularIntensityMapUv:ce&&_(i.specularIntensityMap.channel),transmissionMapUv:ue&&_(i.transmissionMap.channel),thicknessMapUv:de&&_(i.thicknessMap.channel),alphaMapUv:pe&&_(i.alphaMap.channel),vertexTangents:!!S.attributes.tangent&&(j||q),vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&!!S.attributes.color&&4===S.attributes.color.itemSize,pointsUvs:!0===h.isPoints&&!!S.attributes.uv&&(I||pe),fog:!!v,useFog:!0===i.fog,fogExp2:!!v&&v.isFogExp2,flatShading:!1===i.wireframe&&(!0===i.flatShading||void 0===S.attributes.normal&&!1===j&&(i.isMeshLambertMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.isMeshPhysicalMaterial)),sizeAttenuation:!0===i.sizeAttenuation,logarithmicDepthBuffer:p,reversedDepthBuffer:O,skinning:!0===h.isSkinnedMesh,morphTargets:void 0!==S.morphAttributes.position,morphNormals:void 0!==S.morphAttributes.normal,morphColors:void 0!==S.morphAttributes.color,morphTargetsCount:A,morphTextureStride:D,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numLightProbes:o.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:he,decodeVideoTexture:I&&!0===i.map.isVideoTexture&&s.ColorManagement.getTransfer(i.map.colorSpace)===s.SRGBTransfer,decodeVideoTextureEmissive:k&&!0===i.emissiveMap.isVideoTexture&&s.ColorManagement.getTransfer(i.emissiveMap.colorSpace)===s.SRGBTransfer,premultipliedAlpha:i.premultipliedAlpha,doubleSided:i.side===s.DoubleSide,flipSided:i.side===s.BackSide,useDepthPacking:i.depthPacking>=0,depthPacking:i.depthPacking||0,index0AttributeName:i.index0AttributeName,extensionClipCullDistance:_e&&!0===i.extensions.clipCullDistance&&n.has('WEBGL_clip_cull_distance'),extensionMultiDraw:(_e&&!0===i.extensions.multiDraw||N)&&n.has('WEBGL_multi_draw'),rendererExtensionParallelShaderCompile:n.has('KHR_parallel_shader_compile'),customProgramCacheKey:i.customProgramCacheKey()};return ve.vertexUv1s=c.has(1),ve.vertexUv2s=c.has(2),ve.vertexUv3s=c.has(3),c.clear(),ve},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(h(n,t),v(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=g[e.type];let n;if(t){const e=f[t];n=s.UniformsUtils.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r=d.get(n);return void 0!==r?++r.usedTimes:(r=new It(e,n,t,i),u.push(r),d.set(n,r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),d.delete(e.cacheKey),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function Vt(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function jt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.materialVariant!==t.materialVariant?e.materialVariant-t.materialVariant:e.z!==t.z?e.z-t.z:e.id-t.id}function Wt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function kt(){const e=[];let t=0;const n=[],r=[],i=[];function a(e){let t=0;return e.isInstancedMesh&&(t+=2),e.isSkinnedMesh&&(t+=1),t}function o(n,r,i,o,s,l){let c=e[t];return void 0===c?(c={id:n.id,object:n,geometry:r,material:i,materialVariant:a(n),groupOrder:o,renderOrder:n.renderOrder,z:s,group:l},e[t]=c):(c.id=n.id,c.object=n,c.geometry=r,c.material=i,c.materialVariant=a(n),c.groupOrder=o,c.renderOrder=n.renderOrder,c.z=s,c.group=l),t++,c}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)},unshift:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||jt),r.length>1&&r.sort(t||Wt),i.length>1&&i.sort(t||Wt)}}}function zt(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new kt,e.set(t,[i])):n>=r.length?(i=new kt,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Xt(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case'DirectionalLight':n={direction:new s.Vector3,color:new s.Color};break;case'SpotLight':n={position:new s.Vector3,direction:new s.Vector3,color:new s.Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case'PointLight':n={position:new s.Vector3,color:new s.Color,distance:0,decay:0};break;case'HemisphereLight':n={direction:new s.Vector3,skyColor:new s.Color,groundColor:new s.Color};break;case'RectAreaLight':n={color:new s.Color,position:new s.Vector3,halfWidth:new s.Vector3,halfHeight:new s.Vector3}}return e[t.id]=n,n}}}function qt(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case'DirectionalLight':case'SpotLight':n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new s.Vector2};break;case'PointLight':n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new s.Vector2,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}let Yt=0;function Kt(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Zt(e){const t=new Xt,n=qt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)r.probe.push(new s.Vector3);const i=new s.Vector3,a=new s.Matrix4,o=new s.Matrix4;return{setup:function(i){let a=0,o=0,l=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let c=0,u=0,f=0,p=0,m=0,g=0,_=0,h=0,v=0,S=0,E=0;i.sort(Kt);for(let e=0,d=i.length;e<d;e++){const d=i[e],T=d.color,M=d.intensity,b=d.distance;let x=null;if(d.shadow&&d.shadow.map&&(x=d.shadow.map.texture.format===s.RGFormat?d.shadow.map.texture:d.shadow.map.depthTexture||d.shadow.map.texture),d.isAmbientLight)a+=T.r*M,o+=T.g*M,l+=T.b*M;else if(d.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(d.sh.coefficients[e],M);E++}else if(d.isDirectionalLight){const e=t.get(d);if(e.color.copy(d.color).multiplyScalar(d.intensity),d.castShadow){const e=d.shadow,t=n.get(d);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[c]=t,r.directionalShadowMap[c]=x,r.directionalShadowMatrix[c]=d.shadow.matrix,g++}r.directional[c]=e,c++}else if(d.isSpotLight){const e=t.get(d);e.position.setFromMatrixPosition(d.matrixWorld),e.color.copy(T).multiplyScalar(M),e.distance=b,e.coneCos=Math.cos(d.angle),e.penumbraCos=Math.cos(d.angle*(1-d.penumbra)),e.decay=d.decay,r.spot[f]=e;const i=d.shadow;if(d.map&&(r.spotLightMap[v]=d.map,v++,i.updateMatrices(d),d.castShadow&&S++),r.spotLightMatrix[f]=i.matrix,d.castShadow){const e=n.get(d);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[f]=e,r.spotShadowMap[f]=x,h++}f++}else if(d.isRectAreaLight){const e=t.get(d);e.color.copy(T).multiplyScalar(M),e.halfWidth.set(.5*d.width,0,0),e.halfHeight.set(0,.5*d.height,0),r.rectArea[p]=e,p++}else if(d.isPointLight){const e=t.get(d);if(e.color.copy(d.color).multiplyScalar(d.intensity),e.distance=d.distance,e.decay=d.decay,d.castShadow){const e=d.shadow,t=n.get(d);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[u]=t,r.pointShadowMap[u]=x,r.pointShadowMatrix[u]=d.shadow.matrix,_++}r.point[u]=e,u++}else if(d.isHemisphereLight){const e=t.get(d);e.skyColor.copy(d.color).multiplyScalar(M),e.groundColor.copy(d.groundColor).multiplyScalar(M),r.hemi[m]=e,m++}}p>0&&(!0===e.has('OES_texture_float_linear')?(r.rectAreaLTC1=d.LTC_FLOAT_1,r.rectAreaLTC2=d.LTC_FLOAT_2):(r.rectAreaLTC1=d.LTC_HALF_1,r.rectAreaLTC2=d.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=l;const T=r.hash;T.directionalLength===c&&T.pointLength===u&&T.spotLength===f&&T.rectAreaLength===p&&T.hemiLength===m&&T.numDirectionalShadows===g&&T.numPointShadows===_&&T.numSpotShadows===h&&T.numSpotMaps===v&&T.numLightProbes===E||(r.directional.length=c,r.spot.length=f,r.rectArea.length=p,r.point.length=u,r.hemi.length=m,r.directionalShadow.length=g,r.directionalShadowMap.length=g,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=h,r.spotShadowMap.length=h,r.directionalShadowMatrix.length=g,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=h+v-S,r.spotLightMap.length=v,r.numSpotLightShadowsWithMaps=S,r.numLightProbes=E,T.directionalLength=c,T.pointLength=u,T.spotLength=f,T.rectAreaLength=p,T.hemiLength=m,T.numDirectionalShadows=g,T.numPointShadows=_,T.numSpotShadows=h,T.numSpotMaps=v,T.numLightProbes=E,r.version=Yt++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let t=0,f=e.length;t<f;t++){const f=e[t];if(f.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(f.matrixWorld),i.setFromMatrixPosition(f.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(f.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(f.matrixWorld),i.setFromMatrixPosition(f.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),l++}else if(f.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(f.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*f.width,0,0),e.halfHeight.set(0,.5*f.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(f.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),s++}else if(f.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(f.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function $t(e){const t=new Zt(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function Qt(e){let t=new WeakMap;return{get:function(n,r=0){const i=t.get(n);let a;return void 0===i?(a=new $t(e),t.set(n,[a])):r>=i.length?(a=new $t(e),i.push(a)):a=i[r],a},dispose:function(){t=new WeakMap}}}const Jt=[new s.Vector3(1,0,0),new s.Vector3(-1,0,0),new s.Vector3(0,1,0),new s.Vector3(0,-1,0),new s.Vector3(0,0,1),new s.Vector3(0,0,-1)],en=[new s.Vector3(0,-1,0),new s.Vector3(0,-1,0),new s.Vector3(0,0,1),new s.Vector3(0,0,-1),new s.Vector3(0,-1,0),new s.Vector3(0,-1,0)],tn=new s.Matrix4,nn=new s.Vector3,rn=new s.Vector3;function an(e,t,n){let r=new s.Frustum;const i=new s.Vector2,a=new s.Vector2,o=new s.Vector4,l=new s.MeshDepthMaterial,c=new s.MeshDistanceMaterial,u={},d=n.maxTextureSize,f={[s.FrontSide]:s.BackSide,[s.BackSide]:s.FrontSide,[s.DoubleSide]:s.DoubleSide},p=new s.ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new s.Vector2},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );\n\tgl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );\n}"}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new s.BufferGeometry;g.setAttribute('position',new s.BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new s.Mesh(g,p),h=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=s.PCFShadowMap;let v=this.type;function S(n,r){const a=t.update(_);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,m.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new s.WebGLRenderTarget(i.x,i.y,{format:s.RGFormat,type:s.HalfFloatType})),p.uniforms.shadow_pass.value=n.map.depthTexture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,p,_,null),m.uniforms.shadow_pass.value=n.mapPass.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,m,_,null)}function E(t,n,r,i){let a=null;const o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?c:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=a.uuid,t=n.uuid;let r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener('dispose',M)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,i===s.VSMShadowMap?a.side=null!==n.shadowSide?n.shadowSide:n.side:a.side=null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=r}return a}function T(n,i,a,o,l){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&l===s.VSMShadowMap)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),s=n.material;if(Array.isArray(s)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=s[u.materialIndex];if(d&&d.visible){const t=E(n,d,o,l);n.onBeforeShadow(e,n,i,a,r,t,u),e.renderBufferDirect(a,null,r,t,n,u),n.onAfterShadow(e,n,i,a,r,t,u)}}}else if(s.visible){const t=E(n,s,o,l);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)T(c[e],i,a,o,l)}function M(e){e.target.removeEventListener('dispose',M);for(const t in u){const n=u[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,l){if(!1===h.enabled)return;if(!1===h.autoUpdate&&!1===h.needsUpdate)return;if(0===t.length)return;this.type===s.PCFSoftShadowMap&&((0,s.warn)('WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead.'),this.type=s.PCFShadowMap);const c=e.getRenderTarget(),u=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),p=e.state;p.setBlending(s.NoBlending),!0===p.buffers.depth.getReversed()?p.buffers.color.setClear(0,0,0,0):p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);const m=v!==this.type;m&&n.traverse(function(e){e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.needsUpdate=!0):e.material.needsUpdate=!0)});for(let c=0,u=t.length;c<u;c++){const u=t[c],f=u.shadow;if(void 0===f){(0,s.warn)('WebGLShadowMap:',u,'has no shadow.');continue}if(!1===f.autoUpdate&&!1===f.needsUpdate)continue;i.copy(f.mapSize);const g=f.getFrameExtents();i.multiply(g),a.copy(f.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(a.x=Math.floor(d/g.x),i.x=a.x*g.x,f.mapSize.x=a.x),i.y>d&&(a.y=Math.floor(d/g.y),i.y=a.y*g.y,f.mapSize.y=a.y));const _=e.state.buffers.depth.getReversed();if(f.camera._reversedDepth=_,null===f.map||!0===m){if(null!==f.map&&(null!==f.map.depthTexture&&(f.map.depthTexture.dispose(),f.map.depthTexture=null),f.map.dispose()),this.type===s.VSMShadowMap){if(u.isPointLight){(0,s.warn)('WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.');continue}f.map=new s.WebGLRenderTarget(i.x,i.y,{format:s.RGFormat,type:s.HalfFloatType,minFilter:s.LinearFilter,magFilter:s.LinearFilter,generateMipmaps:!1}),f.map.texture.name=u.name+'.shadowMap',f.map.depthTexture=new s.DepthTexture(i.x,i.y,s.FloatType),f.map.depthTexture.name=u.name+'.shadowMapDepth',f.map.depthTexture.format=s.DepthFormat,f.map.depthTexture.compareFunction=null,f.map.depthTexture.minFilter=s.NearestFilter,f.map.depthTexture.magFilter=s.NearestFilter}else u.isPointLight?(f.map=new G(i.x),f.map.depthTexture=new s.CubeDepthTexture(i.x,s.UnsignedIntType)):(f.map=new s.WebGLRenderTarget(i.x,i.y),f.map.depthTexture=new s.DepthTexture(i.x,i.y,s.UnsignedIntType)),f.map.depthTexture.name=u.name+'.shadowMap',f.map.depthTexture.format=s.DepthFormat,this.type===s.PCFShadowMap?(f.map.depthTexture.compareFunction=_?s.GreaterEqualCompare:s.LessEqualCompare,f.map.depthTexture.minFilter=s.LinearFilter,f.map.depthTexture.magFilter=s.LinearFilter):(f.map.depthTexture.compareFunction=null,f.map.depthTexture.minFilter=s.NearestFilter,f.map.depthTexture.magFilter=s.NearestFilter);f.camera.updateProjectionMatrix()}const h=f.map.isWebGLCubeRenderTarget?6:1;for(let t=0;t<h;t++){if(f.map.isWebGLCubeRenderTarget)e.setRenderTarget(f.map,t),e.clear();else{0===t&&(e.setRenderTarget(f.map),e.clear());const n=f.getViewport(t);o.set(a.x*n.x,a.y*n.y,a.x*n.z,a.y*n.w),p.viewport(o)}if(u.isPointLight){const e=f.camera,n=f.matrix,r=u.distance||e.far;r!==e.far&&(e.far=r,e.updateProjectionMatrix()),nn.setFromMatrixPosition(u.matrixWorld),e.position.copy(nn),rn.copy(e.position),rn.add(Jt[t]),e.up.copy(en[t]),e.lookAt(rn),e.updateMatrixWorld(),n.makeTranslation(-nn.x,-nn.y,-nn.z),tn.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),f._frustum.setFromProjectionMatrix(tn,e.coordinateSystem,e.reversedDepth)}else f.updateMatrices(u);r=f.getFrustum(),T(n,l,f.camera,u,this.type)}!0!==f.isPointLightShadow&&this.type===s.VSMShadowMap&&S(f,l),f.needsUpdate=!1}v=this.type,h.needsUpdate=!1,e.setRenderTarget(c,u,f)}}function on(e,t){const n=new(function(){let t=!1;const n=new s.Vector4;let r=null;const i=new s.Vector4(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}),r=new(function(){let n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){const n=t.get('EXT_clip_control');e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;const i=o;o=null,this.setClear(i)}},getReversed:function(){return r},setTest:function(t){t?V(e.DEPTH_TEST):j(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=s.ReversedDepthFuncs[t]),a!==t){switch(t){case s.NeverDepth:e.depthFunc(e.NEVER);break;case s.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case s.LessDepth:e.depthFunc(e.LESS);break;case s.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case s.EqualDepth:e.depthFunc(e.EQUAL);break;case s.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case s.GreaterDepth:e.depthFunc(e.GREATER);break;case s.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(o=t,r&&(t=1-t),e.clearDepth(t))},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}}),i=new(function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?V(e.STENCIL_TEST):j(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}}),a=new WeakMap,o=new WeakMap;let l={},c={},u=new WeakMap,d=[],f=null,p=!1,m=null,g=null,_=null,h=null,v=null,S=null,E=null,T=new s.Color(0,0,0),M=0,b=!1,x=null,R=null,A=null,C=null,P=null;const y=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let L=!1,D=0;const U=e.getParameter(e.VERSION);-1!==U.indexOf('WebGL')?(D=parseFloat(/^WebGL (\d)/.exec(U)[1]),L=D>=1):-1!==U.indexOf('OpenGL ES')&&(D=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),L=D>=2);let O=null,w={};const N=e.getParameter(e.SCISSOR_BOX),I=e.getParameter(e.VIEWPORT),F=(new s.Vector4).fromArray(N),B=(new s.Vector4).fromArray(I);function G(t,n,r,i){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let o=0;o<r;o++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const H={};function V(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function j(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}H[e.TEXTURE_2D]=G(e.TEXTURE_2D,e.TEXTURE_2D,1),H[e.TEXTURE_CUBE_MAP]=G(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),H[e.TEXTURE_2D_ARRAY]=G(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),H[e.TEXTURE_3D]=G(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),V(e.DEPTH_TEST),r.setFunc(s.LessEqualDepth),X(!1),q(s.CullFaceBack),V(e.CULL_FACE),z(s.NoBlending);const W={[s.AddEquation]:e.FUNC_ADD,[s.SubtractEquation]:e.FUNC_SUBTRACT,[s.ReverseSubtractEquation]:e.FUNC_REVERSE_SUBTRACT};W[s.MinEquation]=e.MIN,W[s.MaxEquation]=e.MAX;const k={[s.ZeroFactor]:e.ZERO,[s.OneFactor]:e.ONE,[s.SrcColorFactor]:e.SRC_COLOR,[s.SrcAlphaFactor]:e.SRC_ALPHA,[s.SrcAlphaSaturateFactor]:e.SRC_ALPHA_SATURATE,[s.DstColorFactor]:e.DST_COLOR,[s.DstAlphaFactor]:e.DST_ALPHA,[s.OneMinusSrcColorFactor]:e.ONE_MINUS_SRC_COLOR,[s.OneMinusSrcAlphaFactor]:e.ONE_MINUS_SRC_ALPHA,[s.OneMinusDstColorFactor]:e.ONE_MINUS_DST_COLOR,[s.OneMinusDstAlphaFactor]:e.ONE_MINUS_DST_ALPHA,[s.ConstantColorFactor]:e.CONSTANT_COLOR,[s.OneMinusConstantColorFactor]:e.ONE_MINUS_CONSTANT_COLOR,[s.ConstantAlphaFactor]:e.CONSTANT_ALPHA,[s.OneMinusConstantAlphaFactor]:e.ONE_MINUS_CONSTANT_ALPHA};function z(t,n,r,i,a,o,l,c,u,d){if(t!==s.NoBlending){if(!1===p&&(V(e.BLEND),p=!0),t===s.CustomBlending)a=a||n,o=o||r,l=l||i,n===g&&a===v||(e.blendEquationSeparate(W[n],W[a]),g=n,v=a),r===_&&i===h&&o===S&&l===E||(e.blendFuncSeparate(k[r],k[i],k[o],k[l]),_=r,h=i,S=o,E=l),!1!==c.equals(T)&&u===M||(e.blendColor(c.r,c.g,c.b,u),T.copy(c),M=u),m=t,b=!1;else if(t!==m||d!==b){if(g===s.AddEquation&&v===s.AddEquation||(e.blendEquation(e.FUNC_ADD),g=s.AddEquation,v=s.AddEquation),d)switch(t){case s.NormalBlending:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case s.AdditiveBlending:e.blendFunc(e.ONE,e.ONE);break;case s.SubtractiveBlending:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case s.MultiplyBlending:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:(0,s.error)('WebGLState: Invalid blending: ',t)}else switch(t){case s.NormalBlending:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case s.AdditiveBlending:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case s.SubtractiveBlending:(0,s.error)('WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true');break;case s.MultiplyBlending:(0,s.error)('WebGLState: MultiplyBlending requires material.premultipliedAlpha = true');break;default:(0,s.error)('WebGLState: Invalid blending: ',t)}_=null,h=null,S=null,E=null,T.set(0,0,0),M=0,m=t,b=d}}else!0===p&&(j(e.BLEND),p=!1)}function X(t){x!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),x=t)}function q(t){t!==s.CullFaceNone?(V(e.CULL_FACE),t!==R&&(t===s.CullFaceBack?e.cullFace(e.BACK):t===s.CullFaceFront?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):j(e.CULL_FACE),R=t}function Y(t,n,i){t?(V(e.POLYGON_OFFSET_FILL),C===n&&P===i||(C=n,P=i,r.getReversed()&&(n=-n),e.polygonOffset(n,i))):j(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:V,disable:j,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,t===e.DRAW_FRAMEBUFFER&&(c[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(c[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=d,i=!1;if(t){r=u.get(n),void 0===r&&(r=[],u.set(n,r));const a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:z,setMaterial:function(t,a){t.side===s.DoubleSide?j(e.CULL_FACE):V(e.CULL_FACE);let o=t.side===s.BackSide;a&&(o=!o),X(o),t.blending===s.NormalBlending&&!1===t.transparent?z(s.NoBlending):z(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const l=t.stencilWrite;i.setTest(l),l&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Y(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?V(e.SAMPLE_ALPHA_TO_COVERAGE):j(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:X,setCullFace:q,setLineWidth:function(t){t!==A&&(L&&e.lineWidth(t),A=t)},setPolygonOffset:Y,setScissorTest:function(t){t?V(e.SCISSOR_TEST):j(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+y-1),O!==t&&(e.activeTexture(t),O=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===O?e.TEXTURE0+y-1:O);let i=w[r];void 0===i&&(i={type:void 0,texture:void 0},w[r]=i),i.type===t&&i.texture===n||(O!==r&&(e.activeTexture(r),O=r),e.bindTexture(t,n||H[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=w[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);a.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(e){(0,s.error)('WebGLState:',e)}},scissor:function(t){!1===F.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),F.copy(t))},viewport:function(t){!1===B.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),B.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},O=null,w={},c={},u=new WeakMap,d=[],f=null,p=!1,m=null,g=null,_=null,h=null,v=null,S=null,E=null,T=new s.Color(0,0,0),M=0,b=!1,x=null,R=null,A=null,C=null,P=null,F.set(0,0,e.canvas.width,e.canvas.height),B.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function sn(e,t,n,r,i,a,o){const l=t.has('WEBGL_multisampled_render_to_texture')?t.get('WEBGL_multisampled_render_to_texture'):null,c='undefined'!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),u=new s.Vector2,d=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext('2d')}catch(e){}function g(e,t){return m?new OffscreenCanvas(e,t):(0,s.createElementNS)('canvas')}function _(e,t,n){let r=1;const i=Z(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if('undefined'!=typeof HTMLImageElement&&e instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&e instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===f&&(f=g(n,a));const o=t?g(n,a):f;o.width=n,o.height=a;return o.getContext('2d').drawImage(e,0,0,n,a),(0,s.warn)('WebGLRenderer: Texture has been resized from ('+i.width+'x'+i.height+') to ('+n+'x'+a+').'),o}return'data'in e&&(0,s.warn)('WebGLRenderer: Image in DataTexture is too big ('+i.width+'x'+i.height+').'),e}return e}function h(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function S(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function E(n,r,i,a,o=!1){if(null!==n){if(void 0!==e[n])return e[n];(0,s.warn)('WebGLRenderer: Attempt to use non-existing WebGL internal format \''+n+'\'')}let l=r;if(r===e.RED&&(i===e.FLOAT&&(l=e.R32F),i===e.HALF_FLOAT&&(l=e.R16F),i===e.UNSIGNED_BYTE&&(l=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.R8UI),i===e.UNSIGNED_SHORT&&(l=e.R16UI),i===e.UNSIGNED_INT&&(l=e.R32UI),i===e.BYTE&&(l=e.R8I),i===e.SHORT&&(l=e.R16I),i===e.INT&&(l=e.R32I)),r===e.RG&&(i===e.FLOAT&&(l=e.RG32F),i===e.HALF_FLOAT&&(l=e.RG16F),i===e.UNSIGNED_BYTE&&(l=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RG8UI),i===e.UNSIGNED_SHORT&&(l=e.RG16UI),i===e.UNSIGNED_INT&&(l=e.RG32UI),i===e.BYTE&&(l=e.RG8I),i===e.SHORT&&(l=e.RG16I),i===e.INT&&(l=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RGB8UI),i===e.UNSIGNED_SHORT&&(l=e.RGB16UI),i===e.UNSIGNED_INT&&(l=e.RGB32UI),i===e.BYTE&&(l=e.RGB8I),i===e.SHORT&&(l=e.RGB16I),i===e.INT&&(l=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(l=e.RGBA16UI),i===e.UNSIGNED_INT&&(l=e.RGBA32UI),i===e.BYTE&&(l=e.RGBA8I),i===e.SHORT&&(l=e.RGBA16I),i===e.INT&&(l=e.RGBA32I)),r===e.RGB&&(i===e.UNSIGNED_INT_5_9_9_9_REV&&(l=e.RGB9_E5),i===e.UNSIGNED_INT_10F_11F_11F_REV&&(l=e.R11F_G11F_B10F)),r===e.RGBA){const t=o?s.LinearTransfer:s.ColorManagement.getTransfer(a);i===e.FLOAT&&(l=e.RGBA32F),i===e.HALF_FLOAT&&(l=e.RGBA16F),i===e.UNSIGNED_BYTE&&(l=t===s.SRGBTransfer?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)}return l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get('EXT_color_buffer_float'),l}function T(t,n){let r;return t?null===n||n===s.UnsignedIntType||n===s.UnsignedInt248Type?r=e.DEPTH24_STENCIL8:n===s.FloatType?r=e.DEPTH32F_STENCIL8:n===s.UnsignedShortType&&(r=e.DEPTH24_STENCIL8,(0,s.warn)('DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.')):null===n||n===s.UnsignedIntType||n===s.UnsignedInt248Type?r=e.DEPTH_COMPONENT24:n===s.FloatType?r=e.DEPTH_COMPONENT32F:n===s.UnsignedShortType&&(r=e.DEPTH_COMPONENT16),r}function M(e,t){return!0===h(e)||e.isFramebufferTexture&&e.minFilter!==s.NearestFilter&&e.minFilter!==s.LinearFilter?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function b(e){const t=e.target;t.removeEventListener('dispose',b),R(t),t.isVideoTexture&&d.delete(t)}function x(e){const t=e.target;t.removeEventListener('dispose',x),C(t)}function R(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=p.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&A(e),0===Object.keys(i).length&&p.delete(n)}r.remove(e)}function A(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete p.get(i)[n.__cacheKey],o.memory.textures--}function C(t){const n=r.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let r=0;r<n.__webglFramebuffer[t].length;r++)e.deleteFramebuffer(n.__webglFramebuffer[t][r]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let t=0,n=i.length;t<n;t++){const n=r.get(i[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),o.memory.textures--),r.remove(i[t])}r.remove(t)}let P=0;function y(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}function L(t,i){const a=r.get(t);if(t.isVideoTexture&&Y(t),!1===t.isRenderTargetTexture&&!0!==t.isExternalTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)(0,s.warn)('WebGLRenderer: Texture marked for update but no image data found.');else{if(!1!==e.complete)return void B(a,t,i);(0,s.warn)('WebGLRenderer: Texture marked for update but image is incomplete')}}else t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}const D={[s.RepeatWrapping]:e.REPEAT,[s.ClampToEdgeWrapping]:e.CLAMP_TO_EDGE,[s.MirroredRepeatWrapping]:e.MIRRORED_REPEAT},U={[s.NearestFilter]:e.NEAREST,[s.NearestMipmapNearestFilter]:e.NEAREST_MIPMAP_NEAREST,[s.NearestMipmapLinearFilter]:e.NEAREST_MIPMAP_LINEAR,[s.LinearFilter]:e.LINEAR,[s.LinearMipmapNearestFilter]:e.LINEAR_MIPMAP_NEAREST,[s.LinearMipmapLinearFilter]:e.LINEAR_MIPMAP_LINEAR},O={[s.NeverCompare]:e.NEVER,[s.AlwaysCompare]:e.ALWAYS,[s.LessCompare]:e.LESS,[s.LessEqualCompare]:e.LEQUAL,[s.EqualCompare]:e.EQUAL,[s.GreaterEqualCompare]:e.GEQUAL,[s.GreaterCompare]:e.GREATER,[s.NotEqualCompare]:e.NOTEQUAL};function w(n,a){if(a.type!==s.FloatType||!1!==t.has('OES_texture_float_linear')||a.magFilter!==s.LinearFilter&&a.magFilter!==s.LinearMipmapNearestFilter&&a.magFilter!==s.NearestMipmapLinearFilter&&a.magFilter!==s.LinearMipmapLinearFilter&&a.minFilter!==s.LinearFilter&&a.minFilter!==s.LinearMipmapNearestFilter&&a.minFilter!==s.NearestMipmapLinearFilter&&a.minFilter!==s.LinearMipmapLinearFilter||(0,s.warn)('WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device.'),e.texParameteri(n,e.TEXTURE_WRAP_S,D[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,D[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,D[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,U[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,U[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,O[a.compareFunction])),!0===t.has('EXT_texture_filter_anisotropic')){if(a.magFilter===s.NearestFilter)return;if(a.minFilter!==s.NearestMipmapLinearFilter&&a.minFilter!==s.LinearMipmapLinearFilter)return;if(a.type===s.FloatType&&!1===t.has('OES_texture_float_linear'))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const o=t.get('EXT_texture_filter_anisotropic');e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function N(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener('dispose',b));const i=n.source;let a=p.get(i);void 0===a&&(a={},p.set(i,a));const s=y(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&A(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function I(e,t,n){return Math.floor(Math.floor(e/n)/t)}function F(t,r,i,a){const o=t.updateRanges;if(0===o.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,i,a,r.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){const t=o[s],n=o[e],i=t.start+t.count,a=I(n.start,r.width,4),l=I(t.start,r.width,4);n.start<=i+1&&a===l&&I(n.start+n.count-1,r.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,o[s]=n)}o.length=s+1;const l=e.getParameter(e.UNPACK_ROW_LENGTH),c=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width);for(let t=0,s=o.length;t<s;t++){const s=o[t],l=Math.floor(s.start/4),c=Math.ceil(s.count/4),u=l%r.width,d=Math.floor(l/r.width),f=c,p=1;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,f,p,i,a,r.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}function B(t,o,l){let c=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(c=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(c=e.TEXTURE_3D);const u=N(t,o),d=o.source;n.bindTexture(c,t.__webglTexture,e.TEXTURE0+l);const f=r.get(d);if(d.version!==f.__version||!0===u){n.activeTexture(e.TEXTURE0+l);const t=s.ColorManagement.getPrimaries(s.ColorManagement.workingColorSpace),r=o.colorSpace===s.NoColorSpace?null:s.ColorManagement.getPrimaries(o.colorSpace),p=o.colorSpace===s.NoColorSpace||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);let m=_(o.image,!1,i.maxTextureSize);m=K(o,m);const g=a.convert(o.format,o.colorSpace),S=a.convert(o.type);let b,x=E(o.internalFormat,g,S,o.colorSpace,o.isVideoTexture);w(c,o);const R=o.mipmaps,A=!0!==o.isVideoTexture,C=void 0===f.__version||!0===u,P=d.dataReady,y=M(o,m);if(o.isDepthTexture)x=T(o.format===s.DepthStencilFormat,o.type),C&&(A?n.texStorage2D(e.TEXTURE_2D,1,x,m.width,m.height):n.texImage2D(e.TEXTURE_2D,0,x,m.width,m.height,0,g,S,null));else if(o.isDataTexture)if(R.length>0){A&&C&&n.texStorage2D(e.TEXTURE_2D,y,x,R[0].width,R[0].height);for(let t=0,r=R.length;t<r;t++)b=R[t],A?P&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,g,S,b.data):n.texImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,g,S,b.data);o.generateMipmaps=!1}else A?(C&&n.texStorage2D(e.TEXTURE_2D,y,x,m.width,m.height),P&&F(o,m,g,S)):n.texImage2D(e.TEXTURE_2D,0,x,m.width,m.height,0,g,S,m.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){A&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,y,x,R[0].width,R[0].height,m.depth);for(let t=0,r=R.length;t<r;t++)if(b=R[t],o.format!==s.RGBAFormat)if(null!==g)if(A){if(P)if(o.layerUpdates.size>0){const r=(0,s.getByteLength)(b.width,b.height,o.format,o.type);for(const i of o.layerUpdates){const a=b.data.subarray(i*r/b.data.BYTES_PER_ELEMENT,(i+1)*r/b.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,b.width,b.height,1,g,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,b.width,b.height,m.depth,g,b.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,x,b.width,b.height,m.depth,0,b.data,0,0);else(0,s.warn)('WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');else A?P&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,b.width,b.height,m.depth,g,S,b.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,x,b.width,b.height,m.depth,0,g,S,b.data)}else{A&&C&&n.texStorage2D(e.TEXTURE_2D,y,x,R[0].width,R[0].height);for(let t=0,r=R.length;t<r;t++)b=R[t],o.format!==s.RGBAFormat?null!==g?A?P&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,g,b.data):n.compressedTexImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,b.data):(0,s.warn)('WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()'):A?P&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,g,S,b.data):n.texImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,g,S,b.data)}else if(o.isDataArrayTexture)if(A){if(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,y,x,m.width,m.height,m.depth),P)if(o.layerUpdates.size>0){const t=(0,s.getByteLength)(m.width,m.height,o.format,o.type);for(const r of o.layerUpdates){const i=m.data.subarray(r*t/m.data.BYTES_PER_ELEMENT,(r+1)*t/m.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,m.width,m.height,1,g,S,i)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,m.width,m.height,m.depth,g,S,m.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,x,m.width,m.height,m.depth,0,g,S,m.data);else if(o.isData3DTexture)A?(C&&n.texStorage3D(e.TEXTURE_3D,y,x,m.width,m.height,m.depth),P&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,m.width,m.height,m.depth,g,S,m.data)):n.texImage3D(e.TEXTURE_3D,0,x,m.width,m.height,m.depth,0,g,S,m.data);else if(o.isFramebufferTexture){if(C)if(A)n.texStorage2D(e.TEXTURE_2D,y,x,m.width,m.height);else{let t=m.width,r=m.height;for(let i=0;i<y;i++)n.texImage2D(e.TEXTURE_2D,i,x,t,r,0,g,S,null),t>>=1,r>>=1}}else if(R.length>0){if(A&&C){const t=Z(R[0]);n.texStorage2D(e.TEXTURE_2D,y,x,t.width,t.height)}for(let t=0,r=R.length;t<r;t++)b=R[t],A?P&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,g,S,b):n.texImage2D(e.TEXTURE_2D,t,x,g,S,b);o.generateMipmaps=!1}else if(A){if(C){const t=Z(m);n.texStorage2D(e.TEXTURE_2D,y,x,t.width,t.height)}P&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,S,m)}else n.texImage2D(e.TEXTURE_2D,0,x,g,S,m);h(o)&&v(c),f.__version=d.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function G(t,o,l){if(6!==o.image.length)return;const c=N(t,o),u=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+l);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+l);const t=s.ColorManagement.getPrimaries(s.ColorManagement.workingColorSpace),r=o.colorSpace===s.NoColorSpace?null:s.ColorManagement.getPrimaries(o.colorSpace),f=o.colorSpace===s.NoColorSpace||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);const p=o.isCompressedTexture||o.image[0].isCompressedTexture,m=o.image[0]&&o.image[0].isDataTexture,g=[];for(let e=0;e<6;e++)g[e]=p||m?m?o.image[e].image:o.image[e]:_(o.image[e],!0,i.maxCubemapSize),g[e]=K(o,g[e]);const S=g[0],T=a.convert(o.format,o.colorSpace),b=a.convert(o.type),x=E(o.internalFormat,T,b,o.colorSpace),R=!0!==o.isVideoTexture,A=void 0===d.__version||!0===c,C=u.dataReady;let P,y=M(o,S);if(w(e.TEXTURE_CUBE_MAP,o),p){R&&A&&n.texStorage2D(e.TEXTURE_CUBE_MAP,y,x,S.width,S.height);for(let t=0;t<6;t++){P=g[t].mipmaps;for(let r=0;r<P.length;r++){const i=P[r];o.format!==s.RGBAFormat?null!==T?R?C&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,T,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,x,i.width,i.height,0,i.data):(0,s.warn)('WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()'):R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,T,b,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,x,i.width,i.height,0,T,b,i.data)}}}else{if(P=o.mipmaps,R&&A){P.length>0&&y++;const t=Z(g[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,y,x,t.width,t.height)}for(let t=0;t<6;t++)if(m){R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,g[t].width,g[t].height,T,b,g[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,x,g[t].width,g[t].height,0,T,b,g[t].data);for(let r=0;r<P.length;r++){const i=P[r].image[t].image;R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,T,b,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,x,i.width,i.height,0,T,b,i.data)}}else{R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,T,b,g[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,x,T,b,g[t]);for(let r=0;r<P.length;r++){const i=P[r];R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,T,b,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,x,T,b,i.image[t])}}}h(o)&&v(e.TEXTURE_CUBE_MAP),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function H(t,i,o,s,c,u){const d=a.convert(o.format,o.colorSpace),f=a.convert(o.type),p=E(o.internalFormat,d,f,o.colorSpace),m=r.get(i),g=r.get(o);if(g.__renderTarget=i,!m.__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,p,t,r,i.depth,0,d,f,null):n.texImage2D(c,u,p,t,r,0,d,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,c,g.__webglTexture,0,X(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,c,g.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function V(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=T(n.stencilBuffer,a),s=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;q(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,X(n),o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,X(n),o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,s,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const o=t[i],s=a.convert(o.format,o.colorSpace),c=a.convert(o.type),u=E(o.internalFormat,s,c,o.colorSpace);q(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,X(n),u,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,X(n),u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function j(t,i,o){const c=!0===i.isWebGLCubeRenderTarget;if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');const u=r.get(i.depthTexture);if(u.__renderTarget=i,u.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),c){if(void 0===u.__webglInit&&(u.__webglInit=!0,i.depthTexture.addEventListener('dispose',b)),void 0===u.__webglTexture){u.__webglTexture=e.createTexture(),n.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),w(e.TEXTURE_CUBE_MAP,i.depthTexture);const t=a.convert(i.depthTexture.format),r=a.convert(i.depthTexture.type);let o;i.depthTexture.format===s.DepthFormat?o=e.DEPTH_COMPONENT24:i.depthTexture.format===s.DepthStencilFormat&&(o=e.DEPTH24_STENCIL8);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,o,i.width,i.height,0,t,r,null)}}else L(i.depthTexture,0);const d=u.__webglTexture,f=X(i),p=c?e.TEXTURE_CUBE_MAP_POSITIVE_X+o:e.TEXTURE_2D,m=i.depthTexture.format===s.DepthStencilFormat?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;if(i.depthTexture.format===s.DepthFormat)q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,m,p,d,0,f):e.framebufferTexture2D(e.FRAMEBUFFER,m,p,d,0);else{if(i.depthTexture.format!==s.DepthStencilFormat)throw new Error('Unknown depthTexture format');q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,m,p,d,0,f):e.framebufferTexture2D(e.FRAMEBUFFER,m,p,d,0)}}function W(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener('dispose',t)};e.addEventListener('dispose',t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer)if(a)for(let e=0;e<6;e++)j(i.__webglFramebuffer[e],t,e);else{const e=t.texture.mipmaps;e&&e.length>0?j(i.__webglFramebuffer[0],t,0):j(i.__webglFramebuffer,t,0)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),V(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{const r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),V(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const k=[],z=[];function X(e){return Math.min(i.maxSamples,e.samples)}function q(e){const n=r.get(e);return e.samples>0&&!0===t.has('WEBGL_multisampled_render_to_texture')&&!1!==n.__useRenderToTexture}function Y(e){const t=o.render.frame;d.get(e)!==t&&(d.set(e,t),e.update())}function K(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==s.LinearSRGBColorSpace&&n!==s.NoColorSpace&&(s.ColorManagement.getTransfer(n)===s.SRGBTransfer?r===s.RGBAFormat&&i===s.UnsignedByteType||(0,s.warn)('WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.'):(0,s.error)('WebGLTextures: Unsupported texture color space:',n)),t}function Z(e){return'undefined'!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(u.width=e.naturalWidth||e.width,u.height=e.naturalHeight||e.height):'undefined'!=typeof VideoFrame&&e instanceof VideoFrame?(u.width=e.displayWidth,u.height=e.displayHeight):(u.width=e.width,u.height=e.height),u}this.allocateTextureUnit=function(){const e=P;return e>=i.maxTextures&&(0,s.warn)('WebGLTextures: Trying to use '+e+' texture units while this GPU supports only '+i.maxTextures),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=L,this.setTexture2DArray=function(t,i){const a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?B(a,t,i):(t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null),n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i))},this.setTexture3D=function(t,i){const a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){const a=r.get(t);!0!==t.isCubeDepthTexture&&t.version>0&&a.__version!==t.version?G(a,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){const a=r.get(t);void 0!==n&&H(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&W(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener('dispose',x);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===q(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),l=E(r.internalFormat,i,o,r.colorSpace,!0===t.isXRRenderTarget),u=X(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),V(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),w(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)H(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else H(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);h(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=c.length;i<a;i++){const a=c[i],o=r.get(a);let l=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(l,o.__webglTexture),w(l,a),H(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,l,0),h(a)&&v(l)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),w(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)H(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else H(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);h(i)&&v(r),n.unbindTexture()}t.depthBuffer&&W(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,a=t.length;i<a;i++){const a=t[i];if(h(a)){const t=S(e),i=r.get(a).__webglTexture;n.bindTexture(t,i),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===q(t)){const i=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const f=t.texture.mipmaps;f&&f.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===c&&(k.length=0,z.length=0,k.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(k.push(l),z.push(l),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,z)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,k))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&c){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=W,this.setupFrameBufferTexture=H,this.useMultisampledRTT=q,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function ln(e,t){return{convert:function(n,r=s.NoColorSpace){let i;const a=s.ColorManagement.getTransfer(r);if(n===s.UnsignedByteType)return e.UNSIGNED_BYTE;if(n===s.UnsignedShort4444Type)return e.UNSIGNED_SHORT_4_4_4_4;if(n===s.UnsignedShort5551Type)return e.UNSIGNED_SHORT_5_5_5_1;if(n===s.UnsignedInt5999Type)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===s.UnsignedInt101111Type)return e.UNSIGNED_INT_10F_11F_11F_REV;if(n===s.ByteType)return e.BYTE;if(n===s.ShortType)return e.SHORT;if(n===s.UnsignedShortType)return e.UNSIGNED_SHORT;if(n===s.IntType)return e.INT;if(n===s.UnsignedIntType)return e.UNSIGNED_INT;if(n===s.FloatType)return e.FLOAT;if(n===s.HalfFloatType)return e.HALF_FLOAT;if(n===s.AlphaFormat)return e.ALPHA;if(n===s.RGBFormat)return e.RGB;if(n===s.RGBAFormat)return e.RGBA;if(n===s.DepthFormat)return e.DEPTH_COMPONENT;if(n===s.DepthStencilFormat)return e.DEPTH_STENCIL;if(n===s.RedFormat)return e.RED;if(n===s.RedIntegerFormat)return e.RED_INTEGER;if(n===s.RGFormat)return e.RG;if(n===s.RGIntegerFormat)return e.RG_INTEGER;if(n===s.RGBAIntegerFormat)return e.RGBA_INTEGER;if(n===s.RGB_S3TC_DXT1_Format||n===s.RGBA_S3TC_DXT1_Format||n===s.RGBA_S3TC_DXT3_Format||n===s.RGBA_S3TC_DXT5_Format)if(a===s.SRGBTransfer){if(i=t.get('WEBGL_compressed_texture_s3tc_srgb'),null===i)return null;if(n===s.RGB_S3TC_DXT1_Format)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===s.RGBA_S3TC_DXT1_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===s.RGBA_S3TC_DXT3_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===s.RGBA_S3TC_DXT5_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get('WEBGL_compressed_texture_s3tc'),null===i)return null;if(n===s.RGB_S3TC_DXT1_Format)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===s.RGBA_S3TC_DXT1_Format)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===s.RGBA_S3TC_DXT3_Format)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===s.RGBA_S3TC_DXT5_Format)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===s.RGB_PVRTC_4BPPV1_Format||n===s.RGB_PVRTC_2BPPV1_Format||n===s.RGBA_PVRTC_4BPPV1_Format||n===s.RGBA_PVRTC_2BPPV1_Format){if(i=t.get('WEBGL_compressed_texture_pvrtc'),null===i)return null;if(n===s.RGB_PVRTC_4BPPV1_Format)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===s.RGB_PVRTC_2BPPV1_Format)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===s.RGBA_PVRTC_4BPPV1_Format)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===s.RGBA_PVRTC_2BPPV1_Format)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===s.RGB_ETC1_Format||n===s.RGB_ETC2_Format||n===s.RGBA_ETC2_EAC_Format||n===s.R11_EAC_Format||n===s.SIGNED_R11_EAC_Format||n===s.RG11_EAC_Format||n===s.SIGNED_RG11_EAC_Format){if(i=t.get('WEBGL_compressed_texture_etc'),null===i)return null;if(n===s.RGB_ETC1_Format||n===s.RGB_ETC2_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===s.RGBA_ETC2_EAC_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC;if(n===s.R11_EAC_Format)return i.COMPRESSED_R11_EAC;if(n===s.SIGNED_R11_EAC_Format)return i.COMPRESSED_SIGNED_R11_EAC;if(n===s.RG11_EAC_Format)return i.COMPRESSED_RG11_EAC;if(n===s.SIGNED_RG11_EAC_Format)return i.COMPRESSED_SIGNED_RG11_EAC}if(n===s.RGBA_ASTC_4x4_Format||n===s.RGBA_ASTC_5x4_Format||n===s.RGBA_ASTC_5x5_Format||n===s.RGBA_ASTC_6x5_Format||n===s.RGBA_ASTC_6x6_Format||n===s.RGBA_ASTC_8x5_Format||n===s.RGBA_ASTC_8x6_Format||n===s.RGBA_ASTC_8x8_Format||n===s.RGBA_ASTC_10x5_Format||n===s.RGBA_ASTC_10x6_Format||n===s.RGBA_ASTC_10x8_Format||n===s.RGBA_ASTC_10x10_Format||n===s.RGBA_ASTC_12x10_Format||n===s.RGBA_ASTC_12x12_Format){if(i=t.get('WEBGL_compressed_texture_astc'),null===i)return null;if(n===s.RGBA_ASTC_4x4_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===s.RGBA_ASTC_5x4_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===s.RGBA_ASTC_5x5_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===s.RGBA_ASTC_6x5_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===s.RGBA_ASTC_6x6_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===s.RGBA_ASTC_8x5_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===s.RGBA_ASTC_8x6_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===s.RGBA_ASTC_8x8_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===s.RGBA_ASTC_10x5_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===s.RGBA_ASTC_10x6_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===s.RGBA_ASTC_10x8_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===s.RGBA_ASTC_10x10_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===s.RGBA_ASTC_12x10_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===s.RGBA_ASTC_12x12_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===s.RGBA_BPTC_Format||n===s.RGB_BPTC_SIGNED_Format||n===s.RGB_BPTC_UNSIGNED_Format){if(i=t.get('EXT_texture_compression_bptc'),null===i)return null;if(n===s.RGBA_BPTC_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===s.RGB_BPTC_SIGNED_Format)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===s.RGB_BPTC_UNSIGNED_Format)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===s.RED_RGTC1_Format||n===s.SIGNED_RED_RGTC1_Format||n===s.RED_GREEN_RGTC2_Format||n===s.SIGNED_RED_GREEN_RGTC2_Format){if(i=t.get('EXT_texture_compression_rgtc'),null===i)return null;if(n===s.RED_RGTC1_Format)return i.COMPRESSED_RED_RGTC1_EXT;if(n===s.SIGNED_RED_RGTC1_Format)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===s.RED_GREEN_RGTC2_Format)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===s.SIGNED_RED_GREEN_RGTC2_Format)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===s.UnsignedInt248Type?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class cn{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(null===this.texture){const n=new s.ExternalTexture(e.texture);e.depthNear===t.depthNear&&e.depthFar===t.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new s.ShaderMaterial({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new s.Mesh(new s.PlaneGeometry(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class un extends s.EventDispatcher{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o='local-floor',c=1,u=null,d=null,f=null,p=null,m=null,g=null;const _='undefined'!=typeof XRWebGLBinding,h=new cn,v={},S=t.getContextAttributes();let E=null,T=null;const M=[],b=[],x=new s.Vector2;let R=null;const A=new s.PerspectiveCamera;A.viewport=new s.Vector4;const C=new s.PerspectiveCamera;C.viewport=new s.Vector4;const P=[A,C],y=new s.ArrayCamera;let L=null,D=null;function U(e){const t=b.indexOf(e.inputSource);if(-1===t)return;const n=M[t];void 0!==n&&(n.update(e.inputSource,e.frame,u||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function O(){r.removeEventListener('select',U),r.removeEventListener('selectstart',U),r.removeEventListener('selectend',U),r.removeEventListener('squeeze',U),r.removeEventListener('squeezestart',U),r.removeEventListener('squeezeend',U),r.removeEventListener('end',O),r.removeEventListener('inputsourceschange',w);for(let e=0;e<M.length;e++){const t=b[e];null!==t&&(b[e]=null,M[e].disconnect(t))}L=null,D=null,h.reset();for(const e in v)delete v[e];e.setRenderTarget(E),m=null,p=null,f=null,r=null,T=null,V.stop(),n.isPresenting=!1,e.setPixelRatio(R),e.setSize(x.width,x.height,!1),n.dispatchEvent({type:'sessionend'})}function w(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=b.indexOf(n);r>=0&&(b[r]=null,M[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=b.indexOf(n);if(-1===r){for(let e=0;e<M.length;e++){if(e>=b.length){b.push(n),r=e;break}if(null===b[e]){b[e]=n,r=e;break}}if(-1===r)break}const i=M[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=M[e];return void 0===t&&(t=new s.WebXRController,M[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=M[e];return void 0===t&&(t=new s.WebXRController,M[e]=t),t.getGripSpace()},this.getHand=function(e){let t=M[e];return void 0===t&&(t=new s.WebXRController,M[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&(0,s.warn)('WebXRManager: Cannot change framebuffer scale while presenting.')},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&(0,s.warn)('WebXRManager: Cannot change reference space type while presenting.')},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(e){u=e},this.getBaseLayer=function(){return null!==p?p:m},this.getBinding=function(){return null===f&&_&&(f=new XRWebGLBinding(r,t)),f},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(l){if(r=l,null!==r){E=e.getRenderTarget(),r.addEventListener('select',U),r.addEventListener('selectstart',U),r.addEventListener('selectend',U),r.addEventListener('squeeze',U),r.addEventListener('squeezestart',U),r.addEventListener('squeezeend',U),r.addEventListener('end',O),r.addEventListener('inputsourceschange',w),!0!==S.xrCompatible&&await t.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(x);if(_&&'createProjectionLayer'in XRWebGLBinding.prototype){let n=null,a=null,o=null;S.depth&&(o=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=S.stencil?s.DepthStencilFormat:s.DepthFormat,a=S.stencil?s.UnsignedInt248Type:s.UnsignedIntType);const l={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};f=this.getBinding(),p=f.createProjectionLayer(l),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),T=new s.WebGLRenderTarget(p.textureWidth,p.textureHeight,{format:s.RGBAFormat,type:s.UnsignedByteType,depthTexture:new s.DepthTexture(p.textureWidth,p.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:!1===p.ignoreDepthValues,resolveStencilBuffer:!1===p.ignoreDepthValues})}else{const n={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:i};m=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),T=new s.WebGLRenderTarget(m.framebufferWidth,m.framebufferHeight,{format:s.RGBAFormat,type:s.UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil,resolveDepthBuffer:!1===m.ignoreDepthValues,resolveStencilBuffer:!1===m.ignoreDepthValues})}T.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await r.requestReferenceSpace(o),V.setContext(r),V.start(),n.isPresenting=!0,n.dispatchEvent({type:'sessionstart'})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return h.getDepthTexture()};const N=new s.Vector3,I=new s.Vector3;function F(e,t,n){N.setFromMatrixPosition(t.matrixWorld),I.setFromMatrixPosition(n.matrixWorld);const r=N.distanceTo(I),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],f=o*u,p=o*d,m=r/(-u+d),g=m*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(g),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+m,n=s+m,i=f-g,a=p+(r-g),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(i,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}function B(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}function G(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*s.RAD2DEG*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==h.texture&&(h.depthNear>0&&(t=h.depthNear),h.depthFar>0&&(n=h.depthFar)),y.near=C.near=A.near=t,y.far=C.far=A.far=n,L===y.near&&D===y.far||(r.updateRenderState({depthNear:y.near,depthFar:y.far}),L=y.near,D=y.far),y.layers.mask=6|e.layers.mask,A.layers.mask=-5&y.layers.mask,C.layers.mask=-3&y.layers.mask;const i=e.parent,a=y.cameras;B(y,i);for(let e=0;e<a.length;e++)B(a[e],i);2===a.length?F(y,A,C):y.projectionMatrix.copy(A.projectionMatrix),G(e,y,i)},this.getCamera=function(){return y},this.getFoveation=function(){if(null!==p||null!==m)return c},this.setFoveation=function(e){c=e,null!==p&&(p.fixedFoveation=e),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==h.texture},this.getDepthSensingMesh=function(){return h.getMesh(y)},this.getCameraTexture=function(e){return v[e]};let H=null;const V=new l;V.setAnimationLoop(function(t,i){if(d=i.getViewerPose(u||a),g=i,null!==d){const t=d.views;null!==m&&(e.setRenderTargetFramebuffer(T,m.framebuffer),e.setRenderTarget(T));let i=!1;t.length!==y.cameras.length&&(y.cameras.length=0,i=!0);for(let n=0;n<t.length;n++){const r=t[n];let a=null;if(null!==m)a=m.getViewport(r);else{const t=f.getViewSubImage(p,r);a=t.viewport,0===n&&(e.setRenderTargetTextures(T,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(T))}let o=P[n];void 0===o&&(o=new s.PerspectiveCamera,o.layers.enable(n),o.viewport=new s.Vector4,P[n]=o),o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(r.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===n&&(y.matrix.copy(o.matrix),y.matrix.decompose(y.position,y.quaternion,y.scale)),!0===i&&y.cameras.push(o)}const a=r.enabledFeatures;if(a&&a.includes('depth-sensing')&&'gpu-optimized'==r.depthUsage&&_){f=n.getBinding();const e=f.getDepthInformation(t[0]);e&&e.isValid&&e.texture&&h.init(e,r.renderState)}if(a&&a.includes('camera-access')&&_){e.state.unbindTexture(),f=n.getBinding();for(let e=0;e<t.length;e++){const n=t[e].camera;if(n){let e=v[n];e||(e=new s.ExternalTexture,v[n]=e);const t=f.getCameraImage(n);e.sourceTexture=t}}}}for(let e=0;e<M.length;e++){const t=b[e],n=M[e];null!==t&&void 0!==n&&n.update(t,i,u||a)}H&&H(t,i),i.detectedPlanes&&n.dispatchEvent({type:'planesdetected',data:i}),g=null}),this.setAnimationLoop=function(e){H=e},this.dispose=function(){}}}const dn=new s.Euler,fn=new s.Matrix4;function pn(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===s.BackSide&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===s.BackSide&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,dn.copy(o),dn.x*=-1,dn.y*=-1,dn.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(dn.y*=-1,dn.z*=-1),e.envMapRotation.value.setFromMatrix4(fn.makeRotationFromEuler(dn)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}function i(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}function a(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function o(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}function l(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}function c(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}function u(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function d(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform)),e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform)),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function f(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform))),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===s.BackSide&&e.clearcoatNormalScale.value.negate())),t.dispersion>0&&(e.dispersion.value=t.dispersion),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform)),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}function p(e,t){t.matcap&&(e.matcap.value=t.matcap)}function m(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,(0,s.getUnlitUniformColorSpace)(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,t,n,s,g){t.isMeshBasicMaterial?r(e,t):t.isMeshLambertMaterial?(r(e,t),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)):t.isMeshToonMaterial?(r(e,t),u(e,t)):t.isMeshPhongMaterial?(r(e,t),c(e,t),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)):t.isMeshStandardMaterial?(r(e,t),d(e,t),t.isMeshPhysicalMaterial&&f(e,t,g)):t.isMeshMatcapMaterial?(r(e,t),p(e,t)):t.isMeshDepthMaterial?r(e,t):t.isMeshDistanceMaterial?(r(e,t),m(e,t)):t.isMeshNormalMaterial?r(e,t):t.isLineBasicMaterial?(i(e,t),t.isLineDashedMaterial&&a(e,t)):t.isPointsMaterial?o(e,t,n,s):t.isSpriteMaterial?l(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}}}function mn(e,t,n,r){let i={},a={},o=[];const l=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function c(t){const n=u();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}function u(){for(let e=0;e<l;e++)if(-1===o.indexOf(e))return o.push(e),e;return(0,s.error)('WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.'),0}function d(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=r.length;t<n;t++){const n=Array.isArray(r[t])?r[t]:[r[t]];for(let r=0,i=n.length;r<i;r++){const i=n[r];if(!0===f(i,t,r,a)){const t=i.__offset,n=Array.isArray(i.value)?i.value:[i.value];let r=0;for(let a=0;a<n.length;a++){const o=n[a],s=m(o);'number'==typeof o||'boolean'==typeof o?(i.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+r,i.__data)):o.isMatrix3?(i.__data[0]=o.elements[0],i.__data[1]=o.elements[1],i.__data[2]=o.elements[2],i.__data[3]=0,i.__data[4]=o.elements[3],i.__data[5]=o.elements[4],i.__data[6]=o.elements[5],i.__data[7]=0,i.__data[8]=o.elements[6],i.__data[9]=o.elements[7],i.__data[10]=o.elements[8],i.__data[11]=0):(o.toArray(i.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,i.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function f(e,t,n,r){const i=e.value,a=t+'_'+n;if(void 0===r[a])return r[a]='number'==typeof i||'boolean'==typeof i?i:i.clone(),!0;{const e=r[a];if('number'==typeof i||'boolean'==typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function p(e){const t=e.uniforms;let n=0;for(let e=0,r=t.length;e<r;e++){const r=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=r.length;e<t;e++){const t=r[e],i=Array.isArray(t.value)?t.value:[t.value];for(let e=0,r=i.length;e<r;e++){const r=m(i[e]),a=n%16,o=a%r.boundary,s=a+o;n+=o,0!==s&&16-s<r.storage&&(n+=16-s),t.__data=new Float32Array(r.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=r.storage}}}const r=n%16;return r>0&&(n+=16-r),e.__size=n,e.__cache={},this}function m(e){const t={boundary:0,storage:0};return'number'==typeof e||'boolean'==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?(0,s.warn)('WebGLRenderer: Texture samplers can not be part of an uniforms group.'):(0,s.warn)('WebGLRenderer: Unsupported uniform value type.',e),t}function g(t){const n=t.target;n.removeEventListener('dispose',g);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(e,n){let o=i[e.id];void 0===o&&(p(e),o=c(e),i[e.id]=o,e.addEventListener('dispose',g));const s=n.program;r.updateUBOMapping(e,s);const l=t.render.frame;a[e.id]!==l&&(d(e),a[e.id]=l)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}const gn=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let _n=null;class hn{constructor(e={}){const{canvas:t=(0,s.createCanvasElement)(),context:n=null,depth:r=!0,stencil:i=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:p=!1,reversedDepthBuffer:m=!1,outputBufferType:g=s.UnsignedByteType}=e;let T;if(this.isWebGLRenderer=!0,null!==n){if('undefined'!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer: WebGL 1 is not supported since r163.');T=n.getContextAttributes().alpha}else T=a;const M=g,b=new Set([s.RGBAIntegerFormat,s.RGIntegerFormat,s.RedIntegerFormat]),x=new Set([s.UnsignedByteType,s.UnsignedIntType,s.UnsignedShortType,s.UnsignedInt248Type,s.UnsignedShort4444Type,s.UnsignedShort5551Type]),R=new Uint32Array(4),A=new Int32Array(4);let C=null,P=null;const y=[],L=[];let D=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=s.NoToneMapping,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const U=this;let O=!1;this._outputColorSpace=s.SRGBColorSpace;let w=0,N=0,I=null,F=-1,B=null;const G=new s.Vector4,q=new s.Vector4;let K=null;const Z=new s.Color(0);let $=0,Q=t.width,J=t.height,ee=1,te=null,ne=null;const re=new s.Vector4(0,0,Q,J),ie=new s.Vector4(0,0,Q,J);let ae=!1;const oe=new s.Frustum;let se=!1,le=!1;const ce=new s.Matrix4,ue=new s.Vector3,de=new s.Vector4,fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let pe=!1;function me(){return null===I?ee:1}let ge,_e,he,ve,Se,Ee,Te,Me,be,xe,Re,Ae,Ce,Pe,ye,Le,De,Ue,Oe,we,Ne,Ie,Fe,Be=n;function Ge(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:f,failIfMajorPerformanceCaveat:p};if('setAttribute'in t&&t.setAttribute('data-engine',`three.js r${s.REVISION}`),t.addEventListener('webglcontextlost',je,!1),t.addEventListener('webglcontextrestored',We,!1),t.addEventListener('webglcontextcreationerror',ke,!1),null===Be){const t='webgl2';if(Be=Ge(t,e),null===Be)throw Ge(t)?new Error('Error creating WebGL context with your selected attributes.'):new Error('Error creating WebGL context.')}}catch(e){throw(0,s.error)('WebGLRenderer: '+e.message),e}function He(){ge=new V(Be),ge.init(),Ne=new ln(Be,ge),_e=new S(Be,ge,e,Ne),he=new on(Be,ge),_e.reversedDepthBuffer&&m&&he.buffers.depth.setReversed(!0),ve=new k(Be),Se=new Vt,Ee=new sn(Be,ge,he,Se,_e,Ne,ve),Te=new H(U),Me=new c(Be),Ie=new h(Be,Me),be=new j(Be,Me,ve,Ie),xe=new X(Be,be,Me,Ie,ve),Ue=new z(Be,_e,Ee),ye=new E(Se),Re=new Ht(U,Te,ge,_e,Ie,ye),Ae=new pn(U,Se),Ce=new zt,Pe=new Qt(ge),De=new _(U,Te,he,xe,T,u),Le=new an(U,xe,_e),Fe=new mn(Be,ve,_e,he),Oe=new v(Be,ge,ve),we=new W(Be,ge,ve),ve.programs=Re.programs,U.capabilities=_e,U.extensions=ge,U.properties=Se,U.renderLists=Ce,U.shadowMap=Le,U.state=he,U.info=ve}He(),M!==s.UnsignedByteType&&(D=new Y(M,t.width,t.height,r,i));const Ve=new un(U,Be);function je(e){e.preventDefault(),(0,s.log)('WebGLRenderer: Context Lost.'),O=!0}function We(){(0,s.log)('WebGLRenderer: Context Restored.'),O=!1;const e=ve.autoReset,t=Le.enabled,n=Le.autoUpdate,r=Le.needsUpdate,i=Le.type;He(),ve.autoReset=e,Le.enabled=t,Le.autoUpdate=n,Le.needsUpdate=r,Le.type=i}function ke(e){(0,s.error)('WebGLRenderer: A WebGL context could not be created. Reason: ',e.statusMessage)}function ze(e){const t=e.target;t.removeEventListener('dispose',ze),Xe(t)}function Xe(e){qe(e),Se.remove(e)}function qe(e){const t=Se.get(e).programs;void 0!==t&&(t.forEach(function(e){Re.releaseProgram(e)}),e.isShaderMaterial&&Re.releaseShaderCache(e))}function Ye(e,t,n){!0===e.transparent&&e.side===s.DoubleSide&&!1===e.forceSinglePass?(e.side=s.BackSide,e.needsUpdate=!0,at(e,t,n),e.side=s.FrontSide,e.needsUpdate=!0,at(e,t,n),e.side=s.DoubleSide):at(e,t,n)}this.xr=Ve,this.getContext=function(){return Be},this.getContextAttributes=function(){return Be.getContextAttributes()},this.forceContextLoss=function(){const e=ge.get('WEBGL_lose_context');e&&e.loseContext()},this.forceContextRestore=function(){const e=ge.get('WEBGL_lose_context');e&&e.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(e){void 0!==e&&(ee=e,this.setSize(Q,J,!1))},this.getSize=function(e){return e.set(Q,J)},this.setSize=function(e,n,r=!0){Ve.isPresenting?(0,s.warn)('WebGLRenderer: Can\'t change size while VR device is presenting.'):(Q=e,J=n,t.width=Math.floor(e*ee),t.height=Math.floor(n*ee),!0===r&&(t.style.width=e+'px',t.style.height=n+'px'),null!==D&&D.setSize(t.width,t.height),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(Q*ee,J*ee).floor()},this.setDrawingBufferSize=function(e,n,r){Q=e,J=n,ee=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.setEffects=function(e){if(M!==s.UnsignedByteType){if(e)for(let t=0;t<e.length;t++)if(!0===e[t].isOutputPass){console.warn('THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.');break}D.setEffects(e||[])}else console.error('THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.')},this.getCurrentViewport=function(e){return e.copy(G)},this.getViewport=function(e){return e.copy(re)},this.setViewport=function(e,t,n,r){e.isVector4?re.set(e.x,e.y,e.z,e.w):re.set(e,t,n,r),he.viewport(G.copy(re).multiplyScalar(ee).round())},this.getScissor=function(e){return e.copy(ie)},this.setScissor=function(e,t,n,r){e.isVector4?ie.set(e.x,e.y,e.z,e.w):ie.set(e,t,n,r),he.scissor(q.copy(ie).multiplyScalar(ee).round())},this.getScissorTest=function(){return ae},this.setScissorTest=function(e){he.setScissorTest(ae=e)},this.setOpaqueSort=function(e){te=e},this.setTransparentSort=function(e){ne=e},this.getClearColor=function(e){return e.copy(De.getClearColor())},this.setClearColor=function(){De.setClearColor(...arguments)},this.getClearAlpha=function(){return De.getClearAlpha()},this.setClearAlpha=function(){De.setClearAlpha(...arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==I){const t=I.texture.format;e=b.has(t)}if(e){const e=I.texture.type,t=x.has(e),n=De.getClearColor(),r=De.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(R[0]=i,R[1]=a,R[2]=o,R[3]=r,Be.clearBufferuiv(Be.COLOR,0,R)):(A[0]=i,A[1]=a,A[2]=o,A[3]=r,Be.clearBufferiv(Be.COLOR,0,A))}else r|=Be.COLOR_BUFFER_BIT}t&&(r|=Be.DEPTH_BUFFER_BIT),n&&(r|=Be.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),0!==r&&Be.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener('webglcontextlost',je,!1),t.removeEventListener('webglcontextrestored',We,!1),t.removeEventListener('webglcontextcreationerror',ke,!1),De.dispose(),Ce.dispose(),Pe.dispose(),Se.dispose(),Te.dispose(),xe.dispose(),Ie.dispose(),Fe.dispose(),Re.dispose(),Ve.dispose(),Ve.removeEventListener('sessionstart',Ze),Ve.removeEventListener('sessionend',$e),Qe.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=fe);const o=i.isMesh&&i.matrixWorld.determinant()<0,l=lt(e,t,n,r,i);he.setMaterial(r,o);let c=n.index,u=1;if(!0===r.wireframe){if(c=be.getWireframeAttribute(n),void 0===c)return;u=2}const d=n.drawRange,f=n.attributes.position;let p=d.start*u,m=(d.start+d.count)*u;null!==a&&(p=Math.max(p,a.start*u),m=Math.min(m,(a.start+a.count)*u)),null!==c?(p=Math.max(p,0),m=Math.min(m,c.count)):null!=f&&(p=Math.max(p,0),m=Math.min(m,f.count));const g=m-p;if(g<0||g===1/0)return;let _;Ie.setup(i,r,l,n,c);let h=Oe;if(null!==c&&(_=Me.get(c),h=we,h.setIndex(_)),i.isMesh)!0===r.wireframe?(he.setLineWidth(r.wireframeLinewidth*me()),h.setMode(Be.LINES)):h.setMode(Be.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),he.setLineWidth(e*me()),i.isLineSegments?h.setMode(Be.LINES):i.isLineLoop?h.setMode(Be.LINE_LOOP):h.setMode(Be.LINE_STRIP)}else i.isPoints?h.setMode(Be.POINTS):i.isSprite&&h.setMode(Be.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)(0,s.warnOnce)('WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.'),h.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(ge.get('WEBGL_multi_draw'))h.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,a=c?Me.get(c).bytesPerElement:1,o=Se.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)o.setValue(Be,'_gl_DrawID',r),h.render(e[r]/a,t[r])}else if(i.isInstancedMesh)h.renderInstances(p,g,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);h.renderInstances(p,g,t)}else h.render(p,g)},this.compile=function(e,t,n=null){null===n&&(n=e),P=Pe.get(n),P.init(t),L.push(P),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(P.pushLight(e),e.castShadow&&P.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(P.pushLight(e),e.castShadow&&P.pushShadow(e))}),P.setupLights();const r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Ye(a,n,e),r.add(a)}else Ye(t,n,e),r.add(t)}),P=L.pop(),r},this.compileAsync=function(e,t,n=null){const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){Se.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==ge.get('KHR_parallel_shader_compile')?n():setTimeout(n,10)})};let Ke=null;function Ze(){Qe.stop()}function $e(){Qe.start()}const Qe=new l;function Je(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)P.pushLight(e),e.castShadow&&P.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||oe.intersectsSprite(e)){r&&de.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ce);const t=xe.update(e),i=e.material;i.visible&&C.push(e,t,i,n,de.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||oe.intersectsObject(e))){const t=xe.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),de.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),de.copy(t.boundingSphere.center)),de.applyMatrix4(e.matrixWorld).applyMatrix4(ce)),Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&C.push(e,t,s,n,de.z,o)}}else i.visible&&C.push(e,t,i,n,de.z,null)}const i=e.children;for(let e=0,a=i.length;e<a;e++)Je(i[e],t,n,r)}function et(e,t,n,r){const{opaque:i,transmissive:a,transparent:o}=e;P.setupLightsView(n),!0===se&&ye.setGlobalState(U.clippingPlanes,n),r&&he.viewport(G.copy(r)),i.length>0&&rt(i,t,n),a.length>0&&rt(a,t,n),o.length>0&&rt(o,t,n),he.buffers.depth.setTest(!0),he.buffers.depth.setMask(!0),he.buffers.color.setMask(!0),he.setPolygonOffset(!1)}function nt(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;if(void 0===P.state.transmissionRenderTarget[r.id]){const e=ge.has('EXT_color_buffer_half_float')||ge.has('EXT_color_buffer_float');P.state.transmissionRenderTarget[r.id]=new s.WebGLRenderTarget(1,1,{generateMipmaps:!0,type:e?s.HalfFloatType:s.UnsignedByteType,minFilter:s.LinearMipmapLinearFilter,samples:_e.samples,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:s.ColorManagement.workingColorSpace})}const a=P.state.transmissionRenderTarget[r.id],o=r.viewport||G;a.setSize(o.z*U.transmissionResolutionScale,o.w*U.transmissionResolutionScale);const l=U.getRenderTarget(),c=U.getActiveCubeFace(),u=U.getActiveMipmapLevel();U.setRenderTarget(a),U.getClearColor(Z),$=U.getClearAlpha(),$<1&&U.setClearColor(16777215,.5),U.clear(),pe&&De.render(n);const d=U.toneMapping;U.toneMapping=s.NoToneMapping;const f=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),P.setupLightsView(r),!0===se&&ye.setGlobalState(U.clippingPlanes,r),rt(e,n,r),Ee.updateMultisampleRenderTarget(a),Ee.updateRenderTargetMipmap(a),!1===ge.has('WEBGL_multisampled_render_to_texture')){let e=!1;for(let i=0,a=t.length;i<a;i++){const a=t[i],{object:o,geometry:l,material:c,group:u}=a;if(c.side===s.DoubleSide&&o.layers.test(r.layers)){const t=c.side;c.side=s.BackSide,c.needsUpdate=!0,it(o,n,r,l,c,u),c.side=t,c.needsUpdate=!0,e=!0}}!0===e&&(Ee.updateMultisampleRenderTarget(a),Ee.updateRenderTargetMipmap(a))}U.setRenderTarget(l,c,u),U.setClearColor(Z,$),void 0!==f&&(r.viewport=f),U.toneMapping=d}function rt(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],{object:o,geometry:s,group:l}=a;let c=a.material;!0===c.allowOverride&&null!==r&&(c=r),o.layers.test(n.layers)&&it(o,t,n,s,c,l)}}function it(e,t,n,r,i,a){e.onBeforeRender(U,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(U,t,n,r,e,a),!0===i.transparent&&i.side===s.DoubleSide&&!1===i.forceSinglePass?(i.side=s.BackSide,i.needsUpdate=!0,U.renderBufferDirect(n,t,r,i,e,a),i.side=s.FrontSide,i.needsUpdate=!0,U.renderBufferDirect(n,t,r,i,e,a),i.side=s.DoubleSide):U.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(U,t,n,r,i,a)}function at(e,t,n){!0!==t.isScene&&(t=fe);const r=Se.get(e),i=P.state.lights,a=P.state.shadowsArray,o=i.state.version,s=Re.getParameters(e,i.state,a,t,n),l=Re.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial||e.isMeshLambertMaterial||e.isMeshPhongMaterial?t.environment:null,r.fog=t.fog;const u=e.isMeshStandardMaterial||e.isMeshLambertMaterial&&!e.envMap||e.isMeshPhongMaterial&&!e.envMap;r.envMap=Te.get(e.envMap||r.environment,u),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener('dispose',ze),c=new Map,r.programs=c);let d=c.get(l);if(void 0!==d){if(r.currentProgram===d&&r.lightsStateVersion===o)return st(e,s),d}else s.uniforms=Re.getUniforms(e),e.onBeforeCompile(s,U),d=Re.acquireProgram(s,l),c.set(l,d),r.uniforms=s.uniforms;const f=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=ye.uniform),st(e,s),r.needsLights=ut(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotLightMatrix.value=i.state.spotLightMatrix,f.spotLightMap.value=i.state.spotLightMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=d,r.uniformsList=null,d}function ot(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=tt.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function st(e,t){const n=Se.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function lt(e,t,n,r,i){!0!==t.isScene&&(t=fe),Ee.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial||r.isMeshLambertMaterial||r.isMeshPhongMaterial?t.environment:null,l=null===I?U.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:s.LinearSRGBColorSpace,c=r.isMeshStandardMaterial||r.isMeshLambertMaterial&&!r.envMap||r.isMeshPhongMaterial&&!r.envMap,u=Te.get(r.envMap||o,c),d=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,f=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),p=!!n.morphAttributes.position,m=!!n.morphAttributes.normal,g=!!n.morphAttributes.color;let _=s.NoToneMapping;r.toneMapped&&(null!==I&&!0!==I.isXRRenderTarget||(_=U.toneMapping));const h=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==h?h.length:0,S=Se.get(r),E=P.state.lights;if(!0===se&&(!0===le||e!==B)){const t=e===B&&r.id===F;ye.setState(r,e,t)}let T=!1;r.version===S.__version?S.needsLights&&S.lightsStateVersion!==E.state.version||S.outputColorSpace!==l||i.isBatchedMesh&&!1===S.batching?T=!0:i.isBatchedMesh||!0!==S.batching?i.isBatchedMesh&&!0===S.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===S.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===S.instancing?T=!0:i.isInstancedMesh||!0!==S.instancing?i.isSkinnedMesh&&!1===S.skinning?T=!0:i.isSkinnedMesh||!0!==S.skinning?i.isInstancedMesh&&!0===S.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===S.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===S.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===S.instancingMorph&&null!==i.morphTexture||S.envMap!==u||!0===r.fog&&S.fog!==a?T=!0:void 0===S.numClippingPlanes||S.numClippingPlanes===ye.numPlanes&&S.numIntersection===ye.numIntersection?(S.vertexAlphas!==d||S.vertexTangents!==f||S.morphTargets!==p||S.morphNormals!==m||S.morphColors!==g||S.toneMapping!==_||S.morphTargetsCount!==v)&&(T=!0):T=!0:T=!0:T=!0:T=!0:(T=!0,S.__version=r.version);let M=S.currentProgram;!0===T&&(M=at(r,t,i));let b=!1,x=!1,R=!1;const A=M.getUniforms(),C=S.uniforms;if(he.useProgram(M.program)&&(b=!0,x=!0,R=!0),r.id!==F&&(F=r.id,x=!0),b||B!==e){he.buffers.depth.getReversed()&&!0!==e.reversedDepth&&(e._reversedDepth=!0,e.updateProjectionMatrix()),A.setValue(Be,'projectionMatrix',e.projectionMatrix),A.setValue(Be,'viewMatrix',e.matrixWorldInverse);const t=A.map.cameraPosition;void 0!==t&&t.setValue(Be,ue.setFromMatrixPosition(e.matrixWorld)),_e.logarithmicDepthBuffer&&A.setValue(Be,'logDepthBufFC',2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&A.setValue(Be,'isOrthographic',!0===e.isOrthographicCamera),B!==e&&(B=e,x=!0,R=!0)}if(S.needsLights&&(E.state.directionalShadowMap.length>0&&A.setValue(Be,'directionalShadowMap',E.state.directionalShadowMap,Ee),E.state.spotShadowMap.length>0&&A.setValue(Be,'spotShadowMap',E.state.spotShadowMap,Ee),E.state.pointShadowMap.length>0&&A.setValue(Be,'pointShadowMap',E.state.pointShadowMap,Ee)),i.isSkinnedMesh){A.setOptional(Be,i,'bindMatrix'),A.setOptional(Be,i,'bindMatrixInverse');const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),A.setValue(Be,'boneTexture',e.boneTexture,Ee))}i.isBatchedMesh&&(A.setOptional(Be,i,'batchingTexture'),A.setValue(Be,'batchingTexture',i._matricesTexture,Ee),A.setOptional(Be,i,'batchingIdTexture'),A.setValue(Be,'batchingIdTexture',i._indirectTexture,Ee),A.setOptional(Be,i,'batchingColorTexture'),null!==i._colorsTexture&&A.setValue(Be,'batchingColorTexture',i._colorsTexture,Ee));const y=n.morphAttributes;if(void 0===y.position&&void 0===y.normal&&void 0===y.color||Ue.update(i,n,M),(x||S.receiveShadow!==i.receiveShadow)&&(S.receiveShadow=i.receiveShadow,A.setValue(Be,'receiveShadow',i.receiveShadow)),(r.isMeshStandardMaterial||r.isMeshLambertMaterial||r.isMeshPhongMaterial)&&null===r.envMap&&null!==t.environment&&(C.envMapIntensity.value=t.environmentIntensity),void 0!==C.dfgLUT&&(C.dfgLUT.value=(null===_n&&(_n=new s.DataTexture(gn,16,16,s.RGFormat,s.HalfFloatType),_n.name='DFG_LUT',_n.minFilter=s.LinearFilter,_n.magFilter=s.LinearFilter,_n.wrapS=s.ClampToEdgeWrapping,_n.wrapT=s.ClampToEdgeWrapping,_n.generateMipmaps=!1,_n.needsUpdate=!0),_n)),x&&(A.setValue(Be,'toneMappingExposure',U.toneMappingExposure),S.needsLights&&ct(C,R),a&&!0===r.fog&&Ae.refreshFogUniforms(C,a),Ae.refreshMaterialUniforms(C,r,ee,J,P.state.transmissionRenderTarget[e.id]),tt.upload(Be,ot(S),C,Ee)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(tt.upload(Be,ot(S),C,Ee),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&A.setValue(Be,'center',i.center),A.setValue(Be,'modelViewMatrix',i.modelViewMatrix),A.setValue(Be,'normalMatrix',i.normalMatrix),A.setValue(Be,'modelMatrix',i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];Fe.update(n,M),Fe.bind(n,M)}}return M}function ct(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function ut(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Qe.setAnimationLoop(function(e){Ke&&Ke(e)}),'undefined'!=typeof self&&Qe.setContext(self),this.setAnimationLoop=function(e){Ke=e,Ve.setAnimationLoop(e),null===e?Qe.stop():Qe.start()},Ve.addEventListener('sessionstart',Ze),Ve.addEventListener('sessionend',$e),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void(0,s.error)('WebGLRenderer.render: camera is not an instance of THREE.Camera.');if(!0===O)return;const n=!0===Ve.enabled&&!0===Ve.isPresenting,r=null!==D&&(null===I||n)&&D.begin(U,I);if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0!==Ve.enabled||!0!==Ve.isPresenting||null!==D&&!1!==D.isCompositing()||(!0===Ve.cameraAutoUpdate&&Ve.updateCamera(t),t=Ve.getCamera()),!0===e.isScene&&e.onBeforeRender(U,e,t,I),P=Pe.get(e,L.length),P.init(t),L.push(P),ce.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),oe.setFromProjectionMatrix(ce,s.WebGLCoordinateSystem,t.reversedDepth),le=this.localClippingEnabled,se=ye.init(this.clippingPlanes,le),C=Ce.get(e,y.length),C.init(),y.push(C),!0===Ve.enabled&&!0===Ve.isPresenting){const e=U.xr.getDepthSensingMesh();null!==e&&Je(e,t,-1/0,U.sortObjects)}Je(e,t,0,U.sortObjects),C.finish(),!0===U.sortObjects&&C.sort(te,ne),pe=!1===Ve.enabled||!1===Ve.isPresenting||!1===Ve.hasDepthSensing(),pe&&De.addToRenderList(C,e),this.info.render.frame++,!0===se&&ye.beginShadows();const i=P.state.shadowsArray;Le.render(i,e,t),!0===se&&ye.endShadows(),!0===this.info.autoReset&&this.info.reset();if(!1===(r&&D.hasRenderPass())){const n=C.opaque,r=C.transmissive;if(P.setupLights(),t.isArrayCamera){const i=t.cameras;if(r.length>0)for(let t=0,a=i.length;t<a;t++){nt(n,r,e,i[t])}pe&&De.render(e);for(let t=0,n=i.length;t<n;t++){const n=i[t];et(C,e,n,n.viewport)}}else r.length>0&&nt(n,r,e,t),pe&&De.render(e),et(C,e,t)}null!==I&&0===N&&(Ee.updateMultisampleRenderTarget(I),Ee.updateRenderTargetMipmap(I)),r&&D.end(U),!0===e.isScene&&e.onAfterRender(U,e,t),Ie.resetDefaultState(),F=-1,B=null,L.pop(),L.length>0?(P=L[L.length-1],!0===se&&ye.setGlobalState(U.clippingPlanes,P.state.camera)):P=null,y.pop(),C=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(e,t,n){const r=Se.get(e);r.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===r.__autoAllocateDepthBuffer&&(r.__useRenderToTexture=!1),Se.get(e.texture).__webglTexture=t,Se.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=Se.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const dt=Be.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){I=e,w=t,N=n;let r=null,i=!1,a=!1;if(e){const o=Se.get(e);if(void 0!==o.__useDefaultFramebuffer)return he.bindFramebuffer(Be.FRAMEBUFFER,o.__webglFramebuffer),G.copy(e.viewport),q.copy(e.scissor),K=e.scissorTest,he.viewport(G),he.scissor(q),he.setScissorTest(K),void(F=-1);if(void 0===o.__webglFramebuffer)Ee.setupRenderTarget(e);else if(o.__hasExternalTextures)Ee.rebindTextures(e,Se.get(e.texture).__webglTexture,Se.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(o.__boundDepthTexture!==t){if(null!==t&&Se.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error('WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.');Ee.setupDepthRenderbuffer(e)}}const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(a=!0);const l=Se.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=Array.isArray(l[t])?l[t][n]:l[t],i=!0):r=e.samples>0&&!1===Ee.useMultisampledRTT(e)?Se.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[n]:l,G.copy(e.viewport),q.copy(e.scissor),K=e.scissorTest}else G.copy(re).multiplyScalar(ee).floor(),q.copy(ie).multiplyScalar(ee).floor(),K=ae;0!==n&&(r=dt);if(he.bindFramebuffer(Be.FRAMEBUFFER,r)&&he.drawBuffers(e,r),he.viewport(G),he.scissor(q),he.setScissorTest(K),i){const r=Se.get(e.texture);Be.framebufferTexture2D(Be.FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Be.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=t;for(let t=0;t<e.textures.length;t++){const i=Se.get(e.textures[t]);Be.framebufferTextureLayer(Be.FRAMEBUFFER,Be.COLOR_ATTACHMENT0+t,i.__webglTexture,n,r)}}else if(null!==e&&0!==n){const t=Se.get(e.texture);Be.framebufferTexture2D(Be.FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Be.TEXTURE_2D,t.__webglTexture,n)}F=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o,l=0){if(!e||!e.isWebGLRenderTarget)return void(0,s.error)('WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');let c=Se.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(c=c[o]),c){he.bindFramebuffer(Be.FRAMEBUFFER,c);try{const o=e.textures[l],c=o.format,u=o.type;if(e.textures.length>1&&Be.readBuffer(Be.COLOR_ATTACHMENT0+l),!_e.textureFormatReadable(c))return void(0,s.error)('WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');if(!_e.textureTypeReadable(u))return void(0,s.error)('WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Be.readPixels(t,n,r,i,Ne.convert(c),Ne.convert(u),a)}finally{const e=null!==I?Se.get(I).__webglFramebuffer:null;he.bindFramebuffer(Be.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,o,l=0){if(!e||!e.isWebGLRenderTarget)throw new Error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');let c=Se.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(c=c[o]),c){if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){he.bindFramebuffer(Be.FRAMEBUFFER,c);const o=e.textures[l],u=o.format,d=o.type;if(e.textures.length>1&&Be.readBuffer(Be.COLOR_ATTACHMENT0+l),!_e.textureFormatReadable(u))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.');if(!_e.textureTypeReadable(d))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.');const f=Be.createBuffer();Be.bindBuffer(Be.PIXEL_PACK_BUFFER,f),Be.bufferData(Be.PIXEL_PACK_BUFFER,a.byteLength,Be.STREAM_READ),Be.readPixels(t,n,r,i,Ne.convert(u),Ne.convert(d),0);const p=null!==I?Se.get(I).__webglFramebuffer:null;he.bindFramebuffer(Be.FRAMEBUFFER,p);const m=Be.fenceSync(Be.SYNC_GPU_COMMANDS_COMPLETE,0);return Be.flush(),await(0,s.probeAsync)(Be,m,4),Be.bindBuffer(Be.PIXEL_PACK_BUFFER,f),Be.getBufferSubData(Be.PIXEL_PACK_BUFFER,0,a),Be.deleteBuffer(f),Be.deleteSync(m),a}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.')}},this.copyFramebufferToTexture=function(e,t=null,n=0){const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;Ee.setTexture2D(e,0),Be.copyTexSubImage2D(Be.TEXTURE_2D,n,0,0,o,s,i,a),he.unbindTexture()};const ft=Be.createFramebuffer(),pt=Be.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,i=0,a=0){let o,s,l,c,u,d,f,p,m;const g=e.isCompressedTexture?e.mipmaps[a]:e.image;if(null!==n)o=n.max.x-n.min.x,s=n.max.y-n.min.y,l=n.isBox3?n.max.z-n.min.z:1,c=n.min.x,u=n.min.y,d=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-i);o=Math.floor(g.width*t),s=Math.floor(g.height*t),l=e.isDataArrayTexture?g.depth:e.isData3DTexture?Math.floor(g.depth*t):1,c=0,u=0,d=0}null!==r?(f=r.x,p=r.y,m=r.z):(f=0,p=0,m=0);const _=Ne.convert(t.format),h=Ne.convert(t.type);let v;t.isData3DTexture?(Ee.setTexture3D(t,0),v=Be.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(Ee.setTexture2DArray(t,0),v=Be.TEXTURE_2D_ARRAY):(Ee.setTexture2D(t,0),v=Be.TEXTURE_2D),Be.pixelStorei(Be.UNPACK_FLIP_Y_WEBGL,t.flipY),Be.pixelStorei(Be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Be.pixelStorei(Be.UNPACK_ALIGNMENT,t.unpackAlignment);const S=Be.getParameter(Be.UNPACK_ROW_LENGTH),E=Be.getParameter(Be.UNPACK_IMAGE_HEIGHT),T=Be.getParameter(Be.UNPACK_SKIP_PIXELS),M=Be.getParameter(Be.UNPACK_SKIP_ROWS),b=Be.getParameter(Be.UNPACK_SKIP_IMAGES);Be.pixelStorei(Be.UNPACK_ROW_LENGTH,g.width),Be.pixelStorei(Be.UNPACK_IMAGE_HEIGHT,g.height),Be.pixelStorei(Be.UNPACK_SKIP_PIXELS,c),Be.pixelStorei(Be.UNPACK_SKIP_ROWS,u),Be.pixelStorei(Be.UNPACK_SKIP_IMAGES,d);const x=e.isDataArrayTexture||e.isData3DTexture,R=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const n=Se.get(e),r=Se.get(t),g=Se.get(n.__renderTarget),_=Se.get(r.__renderTarget);he.bindFramebuffer(Be.READ_FRAMEBUFFER,g.__webglFramebuffer),he.bindFramebuffer(Be.DRAW_FRAMEBUFFER,_.__webglFramebuffer);for(let n=0;n<l;n++)x&&(Be.framebufferTextureLayer(Be.READ_FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Se.get(e).__webglTexture,i,d+n),Be.framebufferTextureLayer(Be.DRAW_FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Se.get(t).__webglTexture,a,m+n)),Be.blitFramebuffer(c,u,o,s,f,p,o,s,Be.DEPTH_BUFFER_BIT,Be.NEAREST);he.bindFramebuffer(Be.READ_FRAMEBUFFER,null),he.bindFramebuffer(Be.DRAW_FRAMEBUFFER,null)}else if(0!==i||e.isRenderTargetTexture||Se.has(e)){const n=Se.get(e),r=Se.get(t);he.bindFramebuffer(Be.READ_FRAMEBUFFER,ft),he.bindFramebuffer(Be.DRAW_FRAMEBUFFER,pt);for(let e=0;e<l;e++)x?Be.framebufferTextureLayer(Be.READ_FRAMEBUFFER,Be.COLOR_ATTACHMENT0,n.__webglTexture,i,d+e):Be.framebufferTexture2D(Be.READ_FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Be.TEXTURE_2D,n.__webglTexture,i),R?Be.framebufferTextureLayer(Be.DRAW_FRAMEBUFFER,Be.COLOR_ATTACHMENT0,r.__webglTexture,a,m+e):Be.framebufferTexture2D(Be.DRAW_FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Be.TEXTURE_2D,r.__webglTexture,a),0!==i?Be.blitFramebuffer(c,u,o,s,f,p,o,s,Be.COLOR_BUFFER_BIT,Be.NEAREST):R?Be.copyTexSubImage3D(v,a,f,p,m+e,c,u,o,s):Be.copyTexSubImage2D(v,a,f,p,c,u,o,s);he.bindFramebuffer(Be.READ_FRAMEBUFFER,null),he.bindFramebuffer(Be.DRAW_FRAMEBUFFER,null)}else R?e.isDataTexture||e.isData3DTexture?Be.texSubImage3D(v,a,f,p,m,o,s,l,_,h,g.data):t.isCompressedArrayTexture?Be.compressedTexSubImage3D(v,a,f,p,m,o,s,l,_,g.data):Be.texSubImage3D(v,a,f,p,m,o,s,l,_,h,g):e.isDataTexture?Be.texSubImage2D(Be.TEXTURE_2D,a,f,p,o,s,_,h,g.data):e.isCompressedTexture?Be.compressedTexSubImage2D(Be.TEXTURE_2D,a,f,p,g.width,g.height,_,g.data):Be.texSubImage2D(Be.TEXTURE_2D,a,f,p,o,s,_,h,g);Be.pixelStorei(Be.UNPACK_ROW_LENGTH,S),Be.pixelStorei(Be.UNPACK_IMAGE_HEIGHT,E),Be.pixelStorei(Be.UNPACK_SKIP_PIXELS,T),Be.pixelStorei(Be.UNPACK_SKIP_ROWS,M),Be.pixelStorei(Be.UNPACK_SKIP_IMAGES,b),0===a&&t.generateMipmaps&&Be.generateMipmap(v),he.unbindTexture()},this.initRenderTarget=function(e){void 0===Se.get(e).__webglFramebuffer&&Ee.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?Ee.setTextureCube(e,0):e.isData3DTexture?Ee.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Ee.setTexture2DArray(e,0):Ee.setTexture2D(e,0),he.unbindTexture()},this.resetState=function(){w=0,N=0,I=null,he.reset(),Ie.reset()},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe',{detail:this}))}get coordinateSystem(){return s.WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=s.ColorManagement._getDrawingBufferColorSpace(e),t.unpackColorSpace=s.ColorManagement._getUnpackColorSpace()}}},213,[214]);
__d(function(t,e,i,r,s,n,o){"use strict";Object.defineProperty(n,'__esModule',{value:!0}),Object.defineProperty(n,"ACESFilmicToneMapping",{enumerable:!0,get:function(){return ct}}),Object.defineProperty(n,"AddEquation",{enumerable:!0,get:function(){return T}}),Object.defineProperty(n,"AddOperation",{enumerable:!0,get:function(){return st}}),Object.defineProperty(n,"AdditiveAnimationBlendMode",{enumerable:!0,get:function(){return $e}}),Object.defineProperty(n,"AdditiveBlending",{enumerable:!0,get:function(){return S}}),Object.defineProperty(n,"AgXToneMapping",{enumerable:!0,get:function(){return lt}}),Object.defineProperty(n,"AlphaFormat",{enumerable:!0,get:function(){return Xt}}),Object.defineProperty(n,"AlwaysCompare",{enumerable:!0,get:function(){return Ni}}),Object.defineProperty(n,"AlwaysDepth",{enumerable:!0,get:function(){return Y}}),Object.defineProperty(n,"AlwaysStencilFunc",{enumerable:!0,get:function(){return Ii}}),Object.defineProperty(n,"AmbientLight",{enumerable:!0,get:function(){return Rl}}),Object.defineProperty(n,"AnimationAction",{enumerable:!0,get:function(){return Tp}}),Object.defineProperty(n,"AnimationClip",{enumerable:!0,get:function(){return Zu}}),Object.defineProperty(n,"AnimationLoader",{enumerable:!0,get:function(){return al}}),Object.defineProperty(n,"AnimationMixer",{enumerable:!0,get:function(){return Ip}}),Object.defineProperty(n,"AnimationObjectGroup",{enumerable:!0,get:function(){return Pp}}),Object.defineProperty(n,"AnimationUtils",{enumerable:!0,get:function(){return Fu}}),Object.defineProperty(n,"ArcCurve",{enumerable:!0,get:function(){return Lh}}),Object.defineProperty(n,"ArrayCamera",{enumerable:!0,get:function(){return sp}}),Object.defineProperty(n,"ArrowHelper",{enumerable:!0,get:function(){return Id}}),Object.defineProperty(n,"AttachedBindMode",{enumerable:!0,get:function(){return dt}}),Object.defineProperty(n,"Audio",{enumerable:!0,get:function(){return dp}}),Object.defineProperty(n,"AudioAnalyser",{enumerable:!0,get:function(){return xp}}),Object.defineProperty(n,"AudioContext",{enumerable:!0,get:function(){return Zl}}),Object.defineProperty(n,"AudioListener",{enumerable:!0,get:function(){return pp}}),Object.defineProperty(n,"AudioLoader",{enumerable:!0,get:function(){return $l}}),Object.defineProperty(n,"AxesHelper",{enumerable:!0,get:function(){return zd}}),Object.defineProperty(n,"BackSide",{enumerable:!0,get:function(){return x}}),Object.defineProperty(n,"BasicDepthPacking",{enumerable:!0,get:function(){return ei}}),Object.defineProperty(n,"BasicShadowMap",{enumerable:!0,get:function(){return m}}),Object.defineProperty(n,"BatchedMesh",{enumerable:!0,get:function(){return Ga}}),Object.defineProperty(n,"BezierInterpolant",{enumerable:!0,get:function(){return Du}}),Object.defineProperty(n,"Bone",{enumerable:!0,get:function(){return ea}}),Object.defineProperty(n,"BooleanKeyframeTrack",{enumerable:!0,get:function(){return Wu}}),Object.defineProperty(n,"Box2",{enumerable:!0,get:function(){return Jp}}),Object.defineProperty(n,"Box3",{enumerable:!0,get:function(){return on}}),Object.defineProperty(n,"Box3Helper",{enumerable:!0,get:function(){return Ad}}),Object.defineProperty(n,"BoxGeometry",{enumerable:!0,get:function(){return Sh}}),Object.defineProperty(n,"BoxHelper",{enumerable:!0,get:function(){return _d}}),Object.defineProperty(n,"BufferAttribute",{enumerable:!0,get:function(){return Cn}}),Object.defineProperty(n,"BufferGeometry",{enumerable:!0,get:function(){return Zn}}),Object.defineProperty(n,"BufferGeometryLoader",{enumerable:!0,get:function(){return Ul}}),Object.defineProperty(n,"ByteType",{enumerable:!0,get:function(){return Rt}}),Object.defineProperty(n,"Cache",{enumerable:!0,get:function(){return Ku}}),Object.defineProperty(n,"Camera",{enumerable:!0,get:function(){return Sl}}),Object.defineProperty(n,"CameraHelper",{enumerable:!0,get:function(){return Md}}),Object.defineProperty(n,"CanvasTexture",{enumerable:!0,get:function(){return xh}}),Object.defineProperty(n,"CapsuleGeometry",{enumerable:!0,get:function(){return _h}}),Object.defineProperty(n,"CatmullRomCurve3",{enumerable:!0,get:function(){return Wh}}),Object.defineProperty(n,"CineonToneMapping",{enumerable:!0,get:function(){return ht}}),Object.defineProperty(n,"CircleGeometry",{enumerable:!0,get:function(){return Ah}}),Object.defineProperty(n,"ClampToEdgeWrapping",{enumerable:!0,get:function(){return wt}}),Object.defineProperty(n,"Clock",{enumerable:!0,get:function(){return Dp}}),Object.defineProperty(n,"Color",{enumerable:!0,get:function(){return Vs}}),Object.defineProperty(n,"ColorKeyframeTrack",{enumerable:!0,get:function(){return Gu}}),Object.defineProperty(n,"ColorManagement",{enumerable:!0,get:function(){return Dr}}),Object.defineProperty(n,"Compatibility",{enumerable:!0,get:function(){return er}}),Object.defineProperty(n,"CompressedArrayTexture",{enumerable:!0,get:function(){return yh}}),Object.defineProperty(n,"CompressedCubeTexture",{enumerable:!0,get:function(){return gh}}),Object.defineProperty(n,"CompressedTexture",{enumerable:!0,get:function(){return fh}}),Object.defineProperty(n,"CompressedTextureLoader",{enumerable:!0,get:function(){return hl}}),Object.defineProperty(n,"ConeGeometry",{enumerable:!0,get:function(){return Ph}}),Object.defineProperty(n,"ConstantAlphaFactor",{enumerable:!0,get:function(){return J}}),Object.defineProperty(n,"ConstantColorFactor",{enumerable:!0,get:function(){return G}}),Object.defineProperty(n,"Controls",{enumerable:!0,get:function(){return Bd}}),Object.defineProperty(n,"CubeCamera",{enumerable:!0,get:function(){return rp}}),Object.defineProperty(n,"CubeDepthTexture",{enumerable:!0,get:function(){return Mh}}),Object.defineProperty(n,"CubeReflectionMapping",{enumerable:!0,get:function(){return yt}}),Object.defineProperty(n,"CubeRefractionMapping",{enumerable:!0,get:function(){return gt}}),Object.defineProperty(n,"CubeTexture",{enumerable:!0,get:function(){return bh}}),Object.defineProperty(n,"CubeTextureLoader",{enumerable:!0,get:function(){return ll}}),Object.defineProperty(n,"CubeUVReflectionMapping",{enumerable:!0,get:function(){return vt}}),Object.defineProperty(n,"CubicBezierCurve",{enumerable:!0,get:function(){return tc}}),Object.defineProperty(n,"CubicBezierCurve3",{enumerable:!0,get:function(){return ec}}),Object.defineProperty(n,"CubicInterpolant",{enumerable:!0,get:function(){return Nu}}),Object.defineProperty(n,"CullFaceBack",{enumerable:!0,get:function(){return l}}),Object.defineProperty(n,"CullFaceFront",{enumerable:!0,get:function(){return p}}),Object.defineProperty(n,"CullFaceFrontBack",{enumerable:!0,get:function(){return d}}),Object.defineProperty(n,"CullFaceNone",{enumerable:!0,get:function(){return u}}),Object.defineProperty(n,"Curve",{enumerable:!0,get:function(){return Rh}}),Object.defineProperty(n,"CurvePath",{enumerable:!0,get:function(){return hc}}),Object.defineProperty(n,"CustomBlending",{enumerable:!0,get:function(){return O}}),Object.defineProperty(n,"CustomToneMapping",{enumerable:!0,get:function(){return ut}}),Object.defineProperty(n,"CylinderGeometry",{enumerable:!0,get:function(){return Oh}}),Object.defineProperty(n,"Cylindrical",{enumerable:!0,get:function(){return Wp}}),Object.defineProperty(n,"Data3DTexture",{enumerable:!0,get:function(){return rs}}),Object.defineProperty(n,"DataArrayTexture",{enumerable:!0,get:function(){return es}}),Object.defineProperty(n,"DataTexture",{enumerable:!0,get:function(){return ia}}),Object.defineProperty(n,"DataTextureLoader",{enumerable:!0,get:function(){return pl}}),Object.defineProperty(n,"DataUtils",{enumerable:!0,get:function(){return An}}),Object.defineProperty(n,"DecrementStencilOp",{enumerable:!0,get:function(){return xi}}),Object.defineProperty(n,"DecrementWrapStencilOp",{enumerable:!0,get:function(){return Mi}}),Object.defineProperty(n,"DefaultLoadingManager",{enumerable:!0,get:function(){return il}}),Object.defineProperty(n,"DepthFormat",{enumerable:!0,get:function(){return Zt}}),Object.defineProperty(n,"DepthStencilFormat",{enumerable:!0,get:function(){return $t}}),Object.defineProperty(n,"DepthTexture",{enumerable:!0,get:function(){return vh}}),Object.defineProperty(n,"DetachedBindMode",{enumerable:!0,get:function(){return mt}}),Object.defineProperty(n,"DirectionalLight",{enumerable:!0,get:function(){return kl}}),Object.defineProperty(n,"DirectionalLightHelper",{enumerable:!0,get:function(){return bd}}),Object.defineProperty(n,"DiscreteInterpolant",{enumerable:!0,get:function(){return Vu}}),Object.defineProperty(n,"DodecahedronGeometry",{enumerable:!0,get:function(){return Ch}}),Object.defineProperty(n,"DoubleSide",{enumerable:!0,get:function(){return v}}),Object.defineProperty(n,"DstAlphaFactor",{enumerable:!0,get:function(){return E}}),Object.defineProperty(n,"DstColorFactor",{enumerable:!0,get:function(){return D}}),Object.defineProperty(n,"DynamicCopyUsage",{enumerable:!0,get:function(){return Ji}}),Object.defineProperty(n,"DynamicDrawUsage",{enumerable:!0,get:function(){return Vi}}),Object.defineProperty(n,"DynamicReadUsage",{enumerable:!0,get:function(){return Wi}}),Object.defineProperty(n,"EdgesGeometry",{enumerable:!0,get:function(){return kh}}),Object.defineProperty(n,"EllipseCurve",{enumerable:!0,get:function(){return Fh}}),Object.defineProperty(n,"EqualCompare",{enumerable:!0,get:function(){return Bi}}),Object.defineProperty(n,"EqualDepth",{enumerable:!0,get:function(){return Q}}),Object.defineProperty(n,"EqualStencilFunc",{enumerable:!0,get:function(){return Ai}}),Object.defineProperty(n,"EquirectangularReflectionMapping",{enumerable:!0,get:function(){return bt}}),Object.defineProperty(n,"EquirectangularRefractionMapping",{enumerable:!0,get:function(){return xt}}),Object.defineProperty(n,"Euler",{enumerable:!0,get:function(){return fs}}),Object.defineProperty(n,"EventDispatcher",{enumerable:!0,get:function(){return xr}}),Object.defineProperty(n,"ExternalTexture",{enumerable:!0,get:function(){return wh}}),Object.defineProperty(n,"ExtrudeGeometry",{enumerable:!0,get:function(){return Hc}}),Object.defineProperty(n,"FileLoader",{enumerable:!0,get:function(){return ol}}),Object.defineProperty(n,"Float16BufferAttribute",{enumerable:!0,get:function(){return Ln}}),Object.defineProperty(n,"Float32BufferAttribute",{enumerable:!0,get:function(){return Nn}}),Object.defineProperty(n,"FloatType",{enumerable:!0,get:function(){return Vt}}),Object.defineProperty(n,"Fog",{enumerable:!0,get:function(){return Ws}}),Object.defineProperty(n,"FogExp2",{enumerable:!0,get:function(){return Us}}),Object.defineProperty(n,"FramebufferTexture",{enumerable:!0,get:function(){return mh}}),Object.defineProperty(n,"FrontSide",{enumerable:!0,get:function(){return b}}),Object.defineProperty(n,"Frustum",{enumerable:!0,get:function(){return wa}}),Object.defineProperty(n,"FrustumArray",{enumerable:!0,get:function(){return Aa}}),Object.defineProperty(n,"GLBufferAttribute",{enumerable:!0,get:function(){return Fp}}),Object.defineProperty(n,"GLSL1",{enumerable:!0,get:function(){return Hi}}),Object.defineProperty(n,"GLSL3",{enumerable:!0,get:function(){return Yi}}),Object.defineProperty(n,"GreaterCompare",{enumerable:!0,get:function(){return Ri}}),Object.defineProperty(n,"GreaterDepth",{enumerable:!0,get:function(){return tt}}),Object.defineProperty(n,"GreaterEqualCompare",{enumerable:!0,get:function(){return Li}}),Object.defineProperty(n,"GreaterEqualDepth",{enumerable:!0,get:function(){return K}}),Object.defineProperty(n,"GreaterEqualStencilFunc",{enumerable:!0,get:function(){return Ci}}),Object.defineProperty(n,"GreaterStencilFunc",{enumerable:!0,get:function(){return Pi}}),Object.defineProperty(n,"GridHelper",{enumerable:!0,get:function(){return dd}}),Object.defineProperty(n,"Group",{enumerable:!0,get:function(){return Bs}}),Object.defineProperty(n,"HalfFloatType",{enumerable:!0,get:function(){return Dt}}),Object.defineProperty(n,"HemisphereLight",{enumerable:!0,get:function(){return fl}}),Object.defineProperty(n,"HemisphereLightHelper",{enumerable:!0,get:function(){return pd}}),Object.defineProperty(n,"IcosahedronGeometry",{enumerable:!0,get:function(){return $c}}),Object.defineProperty(n,"ImageBitmapLoader",{enumerable:!0,get:function(){return Hl}}),Object.defineProperty(n,"ImageLoader",{enumerable:!0,get:function(){return ul}}),Object.defineProperty(n,"ImageUtils",{enumerable:!0,get:function(){return qr}}),Object.defineProperty(n,"IncrementStencilOp",{enumerable:!0,get:function(){return bi}}),Object.defineProperty(n,"IncrementWrapStencilOp",{enumerable:!0,get:function(){return vi}}),Object.defineProperty(n,"InstancedBufferAttribute",{enumerable:!0,get:function(){return oa}}),Object.defineProperty(n,"InstancedBufferGeometry",{enumerable:!0,get:function(){return Dl}}),Object.defineProperty(n,"InstancedInterleavedBuffer",{enumerable:!0,get:function(){return Rp}}),Object.defineProperty(n,"InstancedMesh",{enumerable:!0,get:function(){return ma}}),Object.defineProperty(n,"Int16BufferAttribute",{enumerable:!0,get:function(){return Bn}}),Object.defineProperty(n,"Int32BufferAttribute",{enumerable:!0,get:function(){return Rn}}),Object.defineProperty(n,"Int8BufferAttribute",{enumerable:!0,get:function(){return In}}),Object.defineProperty(n,"IntType",{enumerable:!0,get:function(){return Nt}}),Object.defineProperty(n,"InterleavedBuffer",{enumerable:!0,get:function(){return $n}}),Object.defineProperty(n,"InterleavedBufferAttribute",{enumerable:!0,get:function(){return Kn}}),Object.defineProperty(n,"Interpolant",{enumerable:!0,get:function(){return Lu}}),Object.defineProperty(n,"InterpolateBezier",{enumerable:!0,get:function(){return Je}}),Object.defineProperty(n,"InterpolateDiscrete",{enumerable:!0,get:function(){return We}}),Object.defineProperty(n,"InterpolateLinear",{enumerable:!0,get:function(){return Ge}}),Object.defineProperty(n,"InterpolateSmooth",{enumerable:!0,get:function(){return qe}}),Object.defineProperty(n,"InterpolationSamplingMode",{enumerable:!0,get:function(){return tr}}),Object.defineProperty(n,"InterpolationSamplingType",{enumerable:!0,get:function(){return Ki}}),Object.defineProperty(n,"InvertStencilOp",{enumerable:!0,get:function(){return wi}}),Object.defineProperty(n,"KeepStencilOp",{enumerable:!0,get:function(){return yi}}),Object.defineProperty(n,"KeyframeTrack",{enumerable:!0,get:function(){return Uu}}),Object.defineProperty(n,"LOD",{enumerable:!0,get:function(){return Mo}}),Object.defineProperty(n,"LatheGeometry",{enumerable:!0,get:function(){return Qc}}),Object.defineProperty(n,"Layers",{enumerable:!0,get:function(){return ys}}),Object.defineProperty(n,"LessCompare",{enumerable:!0,get:function(){return ji}}),Object.defineProperty(n,"LessDepth",{enumerable:!0,get:function(){return Z}}),Object.defineProperty(n,"LessEqualCompare",{enumerable:!0,get:function(){return ki}}),Object.defineProperty(n,"LessEqualDepth",{enumerable:!0,get:function(){return $}}),Object.defineProperty(n,"LessEqualStencilFunc",{enumerable:!0,get:function(){return Oi}}),Object.defineProperty(n,"LessStencilFunc",{enumerable:!0,get:function(){return _i}}),Object.defineProperty(n,"Light",{enumerable:!0,get:function(){return ml}}),Object.defineProperty(n,"LightProbe",{enumerable:!0,get:function(){return Nl}}),Object.defineProperty(n,"Line",{enumerable:!0,get:function(){return Ka}}),Object.defineProperty(n,"Line3",{enumerable:!0,get:function(){return td}}),Object.defineProperty(n,"LineBasicMaterial",{enumerable:!0,get:function(){return qa}}),Object.defineProperty(n,"LineCurve",{enumerable:!0,get:function(){return ic}}),Object.defineProperty(n,"LineCurve3",{enumerable:!0,get:function(){return rc}}),Object.defineProperty(n,"LineDashedMaterial",{enumerable:!0,get:function(){return Cu}}),Object.defineProperty(n,"LineLoop",{enumerable:!0,get:function(){return sh}}),Object.defineProperty(n,"LineSegments",{enumerable:!0,get:function(){return rh}}),Object.defineProperty(n,"LinearFilter",{enumerable:!0,get:function(){return Ct}}),Object.defineProperty(n,"LinearInterpolant",{enumerable:!0,get:function(){return Eu}}),Object.defineProperty(n,"LinearMipMapLinearFilter",{enumerable:!0,get:function(){return Bt}}),Object.defineProperty(n,"LinearMipMapNearestFilter",{enumerable:!0,get:function(){return zt}}),Object.defineProperty(n,"LinearMipmapLinearFilter",{enumerable:!0,get:function(){return jt}}),Object.defineProperty(n,"LinearMipmapNearestFilter",{enumerable:!0,get:function(){return It}}),Object.defineProperty(n,"LinearSRGBColorSpace",{enumerable:!0,get:function(){return ci}}),Object.defineProperty(n,"LinearToneMapping",{enumerable:!0,get:function(){return ot}}),Object.defineProperty(n,"LinearTransfer",{enumerable:!0,get:function(){return ui}}),Object.defineProperty(n,"Loader",{enumerable:!0,get:function(){return rl}}),Object.defineProperty(n,"LoaderUtils",{enumerable:!0,get:function(){return Vl}}),Object.defineProperty(n,"LoadingManager",{enumerable:!0,get:function(){return el}}),Object.defineProperty(n,"LoopOnce",{enumerable:!0,get:function(){return Ve}}),Object.defineProperty(n,"LoopPingPong",{enumerable:!0,get:function(){return Ue}}),Object.defineProperty(n,"LoopRepeat",{enumerable:!0,get:function(){return De}}),Object.defineProperty(n,"MOUSE",{enumerable:!0,get:function(){return h}}),Object.defineProperty(n,"Material",{enumerable:!0,get:function(){return io}}),Object.defineProperty(n,"MaterialBlending",{enumerable:!0,get:function(){return P}}),Object.defineProperty(n,"MaterialLoader",{enumerable:!0,get:function(){return El}}),Object.defineProperty(n,"MathUtils",{enumerable:!0,get:function(){return Ir}}),Object.defineProperty(n,"Matrix2",{enumerable:!0,get:function(){return Gp}}),Object.defineProperty(n,"Matrix3",{enumerable:!0,get:function(){return Fr}}),Object.defineProperty(n,"Matrix4",{enumerable:!0,get:function(){return ns}}),Object.defineProperty(n,"MaxEquation",{enumerable:!0,get:function(){return j}}),Object.defineProperty(n,"Mesh",{enumerable:!0,get:function(){return Uo}}),Object.defineProperty(n,"MeshBasicMaterial",{enumerable:!0,get:function(){return Io}}),Object.defineProperty(n,"MeshDepthMaterial",{enumerable:!0,get:function(){return Ou}}),Object.defineProperty(n,"MeshDistanceMaterial",{enumerable:!0,get:function(){return Pu}}),Object.defineProperty(n,"MeshLambertMaterial",{enumerable:!0,get:function(){return Au}}),Object.defineProperty(n,"MeshMatcapMaterial",{enumerable:!0,get:function(){return Tu}}),Object.defineProperty(n,"MeshNormalMaterial",{enumerable:!0,get:function(){return _u}}),Object.defineProperty(n,"MeshPhongMaterial",{enumerable:!0,get:function(){return wu}}),Object.defineProperty(n,"MeshPhysicalMaterial",{enumerable:!0,get:function(){return Mu}}),Object.defineProperty(n,"MeshStandardMaterial",{enumerable:!0,get:function(){return vu}}),Object.defineProperty(n,"MeshToonMaterial",{enumerable:!0,get:function(){return Su}}),Object.defineProperty(n,"MinEquation",{enumerable:!0,get:function(){return z}}),Object.defineProperty(n,"MirroredRepeatWrapping",{enumerable:!0,get:function(){return St}}),Object.defineProperty(n,"MixOperation",{enumerable:!0,get:function(){return rt}}),Object.defineProperty(n,"MultiplyBlending",{enumerable:!0,get:function(){return A}}),Object.defineProperty(n,"MultiplyOperation",{enumerable:!0,get:function(){return it}}),Object.defineProperty(n,"NearestFilter",{enumerable:!0,get:function(){return _t}}),Object.defineProperty(n,"NearestMipMapLinearFilter",{enumerable:!0,get:function(){return Tt}}),Object.defineProperty(n,"NearestMipMapNearestFilter",{enumerable:!0,get:function(){return Ot}}),Object.defineProperty(n,"NearestMipmapLinearFilter",{enumerable:!0,get:function(){return Pt}}),Object.defineProperty(n,"NearestMipmapNearestFilter",{enumerable:!0,get:function(){return At}}),Object.defineProperty(n,"NeutralToneMapping",{enumerable:!0,get:function(){return pt}}),Object.defineProperty(n,"NeverCompare",{enumerable:!0,get:function(){return zi}}),Object.defineProperty(n,"NeverDepth",{enumerable:!0,get:function(){return H}}),Object.defineProperty(n,"NeverStencilFunc",{enumerable:!0,get:function(){return Si}}),Object.defineProperty(n,"NoBlending",{enumerable:!0,get:function(){return M}}),Object.defineProperty(n,"NoColorSpace",{enumerable:!0,get:function(){return ai}}),Object.defineProperty(n,"NoNormalPacking",{enumerable:!0,get:function(){return pi}}),Object.defineProperty(n,"NoToneMapping",{enumerable:!0,get:function(){return nt}}),Object.defineProperty(n,"NormalAnimationBlendMode",{enumerable:!0,get:function(){return Ze}}),Object.defineProperty(n,"NormalBlending",{enumerable:!0,get:function(){return w}}),Object.defineProperty(n,"NormalGAPacking",{enumerable:!0,get:function(){return mi}}),Object.defineProperty(n,"NormalRGPacking",{enumerable:!0,get:function(){return di}}),Object.defineProperty(n,"NotEqualCompare",{enumerable:!0,get:function(){return Fi}}),Object.defineProperty(n,"NotEqualDepth",{enumerable:!0,get:function(){return et}}),Object.defineProperty(n,"NotEqualStencilFunc",{enumerable:!0,get:function(){return Ti}}),Object.defineProperty(n,"NumberKeyframeTrack",{enumerable:!0,get:function(){return qu}}),Object.defineProperty(n,"Object3D",{enumerable:!0,get:function(){return js}}),Object.defineProperty(n,"ObjectLoader",{enumerable:!0,get:function(){return Wl}}),Object.defineProperty(n,"ObjectSpaceNormalMap",{enumerable:!0,get:function(){return oi}}),Object.defineProperty(n,"OctahedronGeometry",{enumerable:!0,get:function(){return Kc}}),Object.defineProperty(n,"OneFactor",{enumerable:!0,get:function(){return k}}),Object.defineProperty(n,"OneMinusConstantAlphaFactor",{enumerable:!0,get:function(){return X}}),Object.defineProperty(n,"OneMinusConstantColorFactor",{enumerable:!0,get:function(){return q}}),Object.defineProperty(n,"OneMinusDstAlphaFactor",{enumerable:!0,get:function(){return V}}),Object.defineProperty(n,"OneMinusDstColorFactor",{enumerable:!0,get:function(){return U}}),Object.defineProperty(n,"OneMinusSrcAlphaFactor",{enumerable:!0,get:function(){return N}}),Object.defineProperty(n,"OneMinusSrcColorFactor",{enumerable:!0,get:function(){return F}}),Object.defineProperty(n,"OrthographicCamera",{enumerable:!0,get:function(){return jl}}),Object.defineProperty(n,"PCFShadowMap",{enumerable:!0,get:function(){return f}}),Object.defineProperty(n,"PCFSoftShadowMap",{enumerable:!0,get:function(){return y}}),Object.defineProperty(n,"Path",{enumerable:!0,get:function(){return cc}}),Object.defineProperty(n,"PerspectiveCamera",{enumerable:!0,get:function(){return Pl}}),Object.defineProperty(n,"Plane",{enumerable:!0,get:function(){return ba}}),Object.defineProperty(n,"PlaneGeometry",{enumerable:!0,get:function(){return tu}}),Object.defineProperty(n,"PlaneHelper",{enumerable:!0,get:function(){return Od}}),Object.defineProperty(n,"PointLight",{enumerable:!0,get:function(){return zl}}),Object.defineProperty(n,"PointLightHelper",{enumerable:!0,get:function(){return hd}}),Object.defineProperty(n,"Points",{enumerable:!0,get:function(){return uh}}),Object.defineProperty(n,"PointsMaterial",{enumerable:!0,get:function(){return nh}}),Object.defineProperty(n,"PolarGridHelper",{enumerable:!0,get:function(){return md}}),Object.defineProperty(n,"PolyhedronGeometry",{enumerable:!0,get:function(){return Th}}),Object.defineProperty(n,"PositionalAudio",{enumerable:!0,get:function(){return bp}}),Object.defineProperty(n,"PropertyBinding",{enumerable:!0,get:function(){return Op}}),Object.defineProperty(n,"PropertyMixer",{enumerable:!0,get:function(){return vp}}),Object.defineProperty(n,"QuadraticBezierCurve",{enumerable:!0,get:function(){return sc}}),Object.defineProperty(n,"QuadraticBezierCurve3",{enumerable:!0,get:function(){return nc}}),Object.defineProperty(n,"Quaternion",{enumerable:!0,get:function(){return jr}}),Object.defineProperty(n,"QuaternionKeyframeTrack",{enumerable:!0,get:function(){return Xu}}),Object.defineProperty(n,"QuaternionLinearInterpolant",{enumerable:!0,get:function(){return Ju}}),Object.defineProperty(n,"R11_EAC_Format",{enumerable:!0,get:function(){return fe}}),Object.defineProperty(n,"RAD2DEG",{enumerable:!0,get:function(){return Sr}}),Object.defineProperty(n,"RED_GREEN_RGTC2_Format",{enumerable:!0,get:function(){return Ne}}),Object.defineProperty(n,"RED_RGTC1_Format",{enumerable:!0,get:function(){return Fe}}),Object.defineProperty(n,"REVISION",{enumerable:!0,get:function(){return a}}),Object.defineProperty(n,"RG11_EAC_Format",{enumerable:!0,get:function(){return ge}}),Object.defineProperty(n,"RGBADepthPacking",{enumerable:!0,get:function(){return ii}}),Object.defineProperty(n,"RGBAFormat",{enumerable:!0,get:function(){return Yt}}),Object.defineProperty(n,"RGBAIntegerFormat",{enumerable:!0,get:function(){return re}}),Object.defineProperty(n,"RGBA_ASTC_10x10_Format",{enumerable:!0,get:function(){return Ie}}),Object.defineProperty(n,"RGBA_ASTC_10x5_Format",{enumerable:!0,get:function(){return Pe}}),Object.defineProperty(n,"RGBA_ASTC_10x6_Format",{enumerable:!0,get:function(){return Te}}),Object.defineProperty(n,"RGBA_ASTC_10x8_Format",{enumerable:!0,get:function(){return Ce}}),Object.defineProperty(n,"RGBA_ASTC_12x10_Format",{enumerable:!0,get:function(){return ze}}),Object.defineProperty(n,"RGBA_ASTC_12x12_Format",{enumerable:!0,get:function(){return je}}),Object.defineProperty(n,"RGBA_ASTC_4x4_Format",{enumerable:!0,get:function(){return xe}}),Object.defineProperty(n,"RGBA_ASTC_5x4_Format",{enumerable:!0,get:function(){return ve}}),Object.defineProperty(n,"RGBA_ASTC_5x5_Format",{enumerable:!0,get:function(){return Me}}),Object.defineProperty(n,"RGBA_ASTC_6x5_Format",{enumerable:!0,get:function(){return we}}),Object.defineProperty(n,"RGBA_ASTC_6x6_Format",{enumerable:!0,get:function(){return Se}}),Object.defineProperty(n,"RGBA_ASTC_8x5_Format",{enumerable:!0,get:function(){return _e}}),Object.defineProperty(n,"RGBA_ASTC_8x6_Format",{enumerable:!0,get:function(){return Ae}}),Object.defineProperty(n,"RGBA_ASTC_8x8_Format",{enumerable:!0,get:function(){return Oe}}),Object.defineProperty(n,"RGBA_BPTC_Format",{enumerable:!0,get:function(){return Be}}),Object.defineProperty(n,"RGBA_ETC2_EAC_Format",{enumerable:!0,get:function(){return me}}),Object.defineProperty(n,"RGBA_PVRTC_2BPPV1_Format",{enumerable:!0,get:function(){return le}}),Object.defineProperty(n,"RGBA_PVRTC_4BPPV1_Format",{enumerable:!0,get:function(){return ue}}),Object.defineProperty(n,"RGBA_S3TC_DXT1_Format",{enumerable:!0,get:function(){return ne}}),Object.defineProperty(n,"RGBA_S3TC_DXT3_Format",{enumerable:!0,get:function(){return oe}}),Object.defineProperty(n,"RGBA_S3TC_DXT5_Format",{enumerable:!0,get:function(){return ae}}),Object.defineProperty(n,"RGBDepthPacking",{enumerable:!0,get:function(){return ri}}),Object.defineProperty(n,"RGBFormat",{enumerable:!0,get:function(){return Ht}}),Object.defineProperty(n,"RGBIntegerFormat",{enumerable:!0,get:function(){return ie}}),Object.defineProperty(n,"RGB_BPTC_SIGNED_Format",{enumerable:!0,get:function(){return ke}}),Object.defineProperty(n,"RGB_BPTC_UNSIGNED_Format",{enumerable:!0,get:function(){return Re}}),Object.defineProperty(n,"RGB_ETC1_Format",{enumerable:!0,get:function(){return pe}}),Object.defineProperty(n,"RGB_ETC2_Format",{enumerable:!0,get:function(){return de}}),Object.defineProperty(n,"RGB_PVRTC_2BPPV1_Format",{enumerable:!0,get:function(){return ce}}),Object.defineProperty(n,"RGB_PVRTC_4BPPV1_Format",{enumerable:!0,get:function(){return he}}),Object.defineProperty(n,"RGB_S3TC_DXT1_Format",{enumerable:!0,get:function(){return se}}),Object.defineProperty(n,"RGDepthPacking",{enumerable:!0,get:function(){return si}}),Object.defineProperty(n,"RGFormat",{enumerable:!0,get:function(){return te}}),Object.defineProperty(n,"RGIntegerFormat",{enumerable:!0,get:function(){return ee}}),Object.defineProperty(n,"RawShaderMaterial",{enumerable:!0,get:function(){return xu}}),Object.defineProperty(n,"Ray",{enumerable:!0,get:function(){return Co}}),Object.defineProperty(n,"Raycaster",{enumerable:!0,get:function(){return Np}}),Object.defineProperty(n,"RectAreaLight",{enumerable:!0,get:function(){return Fl}}),Object.defineProperty(n,"RedFormat",{enumerable:!0,get:function(){return Qt}}),Object.defineProperty(n,"RedIntegerFormat",{enumerable:!0,get:function(){return Kt}}),Object.defineProperty(n,"ReinhardToneMapping",{enumerable:!0,get:function(){return at}}),Object.defineProperty(n,"RenderTarget",{enumerable:!0,get:function(){return Kr}}),Object.defineProperty(n,"RenderTarget3D",{enumerable:!0,get:function(){return zp}}),Object.defineProperty(n,"RepeatWrapping",{enumerable:!0,get:function(){return Mt}}),Object.defineProperty(n,"ReplaceStencilOp",{enumerable:!0,get:function(){return gi}}),Object.defineProperty(n,"ReverseSubtractEquation",{enumerable:!0,get:function(){return I}}),Object.defineProperty(n,"ReversedDepthFuncs",{enumerable:!0,get:function(){return br}}),Object.defineProperty(n,"RingGeometry",{enumerable:!0,get:function(){return eu}}),Object.defineProperty(n,"SIGNED_R11_EAC_Format",{enumerable:!0,get:function(){return ye}}),Object.defineProperty(n,"SIGNED_RED_GREEN_RGTC2_Format",{enumerable:!0,get:function(){return Ee}}),Object.defineProperty(n,"SIGNED_RED_RGTC1_Format",{enumerable:!0,get:function(){return Le}}),Object.defineProperty(n,"SIGNED_RG11_EAC_Format",{enumerable:!0,get:function(){return be}}),Object.defineProperty(n,"SRGBColorSpace",{enumerable:!0,get:function(){return hi}}),Object.defineProperty(n,"SRGBTransfer",{enumerable:!0,get:function(){return li}}),Object.defineProperty(n,"Scene",{enumerable:!0,get:function(){return Gs}}),Object.defineProperty(n,"ShaderMaterial",{enumerable:!0,get:function(){return bu}}),Object.defineProperty(n,"ShadowMaterial",{enumerable:!0,get:function(){return pu}}),Object.defineProperty(n,"Shape",{enumerable:!0,get:function(){return uc}}),Object.defineProperty(n,"ShapeGeometry",{enumerable:!0,get:function(){return iu}}),Object.defineProperty(n,"ShapePath",{enumerable:!0,get:function(){return jd}}),Object.defineProperty(n,"ShapeUtils",{enumerable:!0,get:function(){return qc}}),Object.defineProperty(n,"ShortType",{enumerable:!0,get:function(){return Ft}}),Object.defineProperty(n,"Skeleton",{enumerable:!0,get:function(){return na}}),Object.defineProperty(n,"SkeletonHelper",{enumerable:!0,get:function(){return od}}),Object.defineProperty(n,"SkinnedMesh",{enumerable:!0,get:function(){return ta}}),Object.defineProperty(n,"Source",{enumerable:!0,get:function(){return Xr}}),Object.defineProperty(n,"Sphere",{enumerable:!0,get:function(){return Un}}),Object.defineProperty(n,"SphereGeometry",{enumerable:!0,get:function(){return su}}),Object.defineProperty(n,"Spherical",{enumerable:!0,get:function(){return Up}}),Object.defineProperty(n,"SphericalHarmonics3",{enumerable:!0,get:function(){return Ll}}),Object.defineProperty(n,"SplineCurve",{enumerable:!0,get:function(){return oc}}),Object.defineProperty(n,"SpotLight",{enumerable:!0,get:function(){return Cl}}),Object.defineProperty(n,"SpotLightHelper",{enumerable:!0,get:function(){return id}}),Object.defineProperty(n,"Sprite",{enumerable:!0,get:function(){return go}}),Object.defineProperty(n,"SpriteMaterial",{enumerable:!0,get:function(){return ro}}),Object.defineProperty(n,"SrcAlphaFactor",{enumerable:!0,get:function(){return L}}),Object.defineProperty(n,"SrcAlphaSaturateFactor",{enumerable:!0,get:function(){return W}}),Object.defineProperty(n,"SrcColorFactor",{enumerable:!0,get:function(){return R}}),Object.defineProperty(n,"StaticCopyUsage",{enumerable:!0,get:function(){return qi}}),Object.defineProperty(n,"StaticDrawUsage",{enumerable:!0,get:function(){return Ei}}),Object.defineProperty(n,"StaticReadUsage",{enumerable:!0,get:function(){return Ui}}),Object.defineProperty(n,"StereoCamera",{enumerable:!0,get:function(){return ep}}),Object.defineProperty(n,"StreamCopyUsage",{enumerable:!0,get:function(){return Xi}}),Object.defineProperty(n,"StreamDrawUsage",{enumerable:!0,get:function(){return Di}}),Object.defineProperty(n,"StreamReadUsage",{enumerable:!0,get:function(){return Gi}}),Object.defineProperty(n,"StringKeyframeTrack",{enumerable:!0,get:function(){return Hu}}),Object.defineProperty(n,"SubtractEquation",{enumerable:!0,get:function(){return C}}),Object.defineProperty(n,"SubtractiveBlending",{enumerable:!0,get:function(){return _}}),Object.defineProperty(n,"TOUCH",{enumerable:!0,get:function(){return c}}),Object.defineProperty(n,"TangentSpaceNormalMap",{enumerable:!0,get:function(){return ni}}),Object.defineProperty(n,"TetrahedronGeometry",{enumerable:!0,get:function(){return nu}}),Object.defineProperty(n,"Texture",{enumerable:!0,get:function(){return $r}}),Object.defineProperty(n,"TextureLoader",{enumerable:!0,get:function(){return dl}}),Object.defineProperty(n,"TextureUtils",{enumerable:!0,get:function(){return Ed}}),Object.defineProperty(n,"Timer",{enumerable:!0,get:function(){return np}}),Object.defineProperty(n,"TimestampQuery",{enumerable:!0,get:function(){return Qi}}),Object.defineProperty(n,"TorusGeometry",{enumerable:!0,get:function(){return ou}}),Object.defineProperty(n,"TorusKnotGeometry",{enumerable:!0,get:function(){return au}}),Object.defineProperty(n,"Triangle",{enumerable:!0,get:function(){return nn}}),Object.defineProperty(n,"TriangleFanDrawMode",{enumerable:!0,get:function(){return ti}}),Object.defineProperty(n,"TriangleStripDrawMode",{enumerable:!0,get:function(){return Ke}}),Object.defineProperty(n,"TrianglesDrawMode",{enumerable:!0,get:function(){return Qe}}),Object.defineProperty(n,"TubeGeometry",{enumerable:!0,get:function(){return hu}}),Object.defineProperty(n,"UVMapping",{enumerable:!0,get:function(){return ft}}),Object.defineProperty(n,"Uint16BufferAttribute",{enumerable:!0,get:function(){return kn}}),Object.defineProperty(n,"Uint32BufferAttribute",{enumerable:!0,get:function(){return Fn}}),Object.defineProperty(n,"Uint8BufferAttribute",{enumerable:!0,get:function(){return zn}}),Object.defineProperty(n,"Uint8ClampedBufferAttribute",{enumerable:!0,get:function(){return jn}}),Object.defineProperty(n,"Uniform",{enumerable:!0,get:function(){return jp}}),Object.defineProperty(n,"UniformsGroup",{enumerable:!0,get:function(){return kp}}),Object.defineProperty(n,"UniformsUtils",{enumerable:!0,get:function(){return gu}}),Object.defineProperty(n,"UnsignedByteType",{enumerable:!0,get:function(){return kt}}),Object.defineProperty(n,"UnsignedInt101111Type",{enumerable:!0,get:function(){return Jt}}),Object.defineProperty(n,"UnsignedInt248Type",{enumerable:!0,get:function(){return Gt}}),Object.defineProperty(n,"UnsignedInt5999Type",{enumerable:!0,get:function(){return qt}}),Object.defineProperty(n,"UnsignedIntType",{enumerable:!0,get:function(){return Et}}),Object.defineProperty(n,"UnsignedShort4444Type",{enumerable:!0,get:function(){return Ut}}),Object.defineProperty(n,"UnsignedShort5551Type",{enumerable:!0,get:function(){return Wt}}),Object.defineProperty(n,"UnsignedShortType",{enumerable:!0,get:function(){return Lt}}),Object.defineProperty(n,"VSMShadowMap",{enumerable:!0,get:function(){return g}}),Object.defineProperty(n,"Vector2",{enumerable:!0,get:function(){return zr}}),Object.defineProperty(n,"Vector3",{enumerable:!0,get:function(){return Br}}),Object.defineProperty(n,"Vector4",{enumerable:!0,get:function(){return Qr}}),Object.defineProperty(n,"VectorKeyframeTrack",{enumerable:!0,get:function(){return Yu}}),Object.defineProperty(n,"VideoFrameTexture",{enumerable:!0,get:function(){return dh}}),Object.defineProperty(n,"VideoTexture",{enumerable:!0,get:function(){return ph}}),Object.defineProperty(n,"WebGL3DRenderTarget",{enumerable:!0,get:function(){return ss}}),Object.defineProperty(n,"WebGLArrayRenderTarget",{enumerable:!0,get:function(){return is}}),Object.defineProperty(n,"WebGLCoordinateSystem",{enumerable:!0,get:function(){return Zi}}),Object.defineProperty(n,"WebGLRenderTarget",{enumerable:!0,get:function(){return ts}}),Object.defineProperty(n,"WebGPUCoordinateSystem",{enumerable:!0,get:function(){return $i}}),Object.defineProperty(n,"WebXRController",{enumerable:!0,get:function(){return Rs}}),Object.defineProperty(n,"WireframeGeometry",{enumerable:!0,get:function(){return cu}}),Object.defineProperty(n,"WrapAroundEnding",{enumerable:!0,get:function(){return Ye}}),Object.defineProperty(n,"ZeroCurvatureEnding",{enumerable:!0,get:function(){return Xe}}),Object.defineProperty(n,"ZeroFactor",{enumerable:!0,get:function(){return B}}),Object.defineProperty(n,"ZeroSlopeEnding",{enumerable:!0,get:function(){return He}}),Object.defineProperty(n,"ZeroStencilOp",{enumerable:!0,get:function(){return fi}}),Object.defineProperty(n,"cloneUniforms",{enumerable:!0,get:function(){return du}}),Object.defineProperty(n,"createCanvasElement",{enumerable:!0,get:function(){return ar}}),Object.defineProperty(n,"createElementNS",{enumerable:!0,get:function(){return or}}),Object.defineProperty(n,"error",{enumerable:!0,get:function(){return fr}}),Object.defineProperty(n,"getByteLength",{enumerable:!0,get:function(){return Ld}}),Object.defineProperty(n,"getConsoleFunction",{enumerable:!0,get:function(){return lr}}),Object.defineProperty(n,"getUnlitUniformColorSpace",{enumerable:!0,get:function(){return yu}}),Object.defineProperty(n,"isTypedArray",{enumerable:!0,get:function(){return nr}}),Object.defineProperty(n,"log",{enumerable:!0,get:function(){return pr}}),Object.defineProperty(n,"mergeUniforms",{enumerable:!0,get:function(){return mu}}),Object.defineProperty(n,"probeAsync",{enumerable:!0,get:function(){return gr}}),Object.defineProperty(n,"setConsoleFunction",{enumerable:!0,get:function(){return ur}}),Object.defineProperty(n,"warn",{enumerable:!0,get:function(){return mr}}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return yr}});
/**
   * @license
   * Copyright 2010-2026 Three.js Authors
   * SPDX-License-Identifier: MIT
   */
const a='183',h={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},c={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},u=0,l=1,p=2,d=3,m=0,f=1,y=2,g=3,b=0,x=1,v=2,M=0,w=1,S=2,_=3,A=4,O=5,P=6,T=100,C=101,I=102,z=103,j=104,B=200,k=201,R=202,F=203,L=204,N=205,E=206,V=207,D=208,U=209,W=210,G=211,q=212,J=213,X=214,H=0,Y=1,Z=2,$=3,Q=4,K=5,tt=6,et=7,it=0,rt=1,st=2,nt=0,ot=1,at=2,ht=3,ct=4,ut=5,lt=6,pt=7,dt='attached',mt='detached',ft=300,yt=301,gt=302,bt=303,xt=304,vt=306,Mt=1e3,wt=1001,St=1002,_t=1003,At=1004,Ot=1004,Pt=1005,Tt=1005,Ct=1006,It=1007,zt=1007,jt=1008,Bt=1008,kt=1009,Rt=1010,Ft=1011,Lt=1012,Nt=1013,Et=1014,Vt=1015,Dt=1016,Ut=1017,Wt=1018,Gt=1020,qt=35902,Jt=35899,Xt=1021,Ht=1022,Yt=1023,Zt=1026,$t=1027,Qt=1028,Kt=1029,te=1030,ee=1031,ie=1032,re=1033,se=33776,ne=33777,oe=33778,ae=33779,he=35840,ce=35841,ue=35842,le=35843,pe=36196,de=37492,me=37496,fe=37488,ye=37489,ge=37490,be=37491,xe=37808,ve=37809,Me=37810,we=37811,Se=37812,_e=37813,Ae=37814,Oe=37815,Pe=37816,Te=37817,Ce=37818,Ie=37819,ze=37820,je=37821,Be=36492,ke=36494,Re=36495,Fe=36283,Le=36284,Ne=36285,Ee=36286,Ve=2200,De=2201,Ue=2202,We=2300,Ge=2301,qe=2302,Je=2303,Xe=2400,He=2401,Ye=2402,Ze=2500,$e=2501,Qe=0,Ke=1,ti=2,ei=3200,ii=3201,ri=3202,si=3203,ni=0,oi=1,ai='',hi='srgb',ci='srgb-linear',ui='linear',li='srgb',pi='',di='rg',mi='ga',fi=0,yi=7680,gi=7681,bi=7682,xi=7683,vi=34055,Mi=34056,wi=5386,Si=512,_i=513,Ai=514,Oi=515,Pi=516,Ti=517,Ci=518,Ii=519,zi=512,ji=513,Bi=514,ki=515,Ri=516,Fi=517,Li=518,Ni=519,Ei=35044,Vi=35048,Di=35040,Ui=35045,Wi=35049,Gi=35041,qi=35046,Ji=35050,Xi=35042,Hi='100',Yi='300 es',Zi=2e3,$i=2001,Qi={COMPUTE:'compute',RENDER:'render'},Ki={PERSPECTIVE:'perspective',LINEAR:'linear',FLAT:'flat'},tr={NORMAL:'normal',CENTROID:'centroid',SAMPLE:'sample',FIRST:'first',EITHER:'either'},er={TEXTURE_COMPARE:'depthTextureCompare'};function ir(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const rr={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function sr(t,e){return new rr[t](e)}function nr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function or(t){return document.createElementNS('http://www.w3.org/1999/xhtml',t)}function ar(){const t=or('canvas');return t.style.display='block',t}const hr={};let cr=null;function ur(t){cr=t}function lr(){return cr}function pr(...t){const e='THREE.'+t.shift();cr?cr('log',e,...t):console.log(e,...t)}function dr(t){const e=t[0];if('string'==typeof e&&e.startsWith('TSL:')){const e=t[1];e&&e.isStackTrace?t[0]+=' '+e.getLocation():t[1]='Stack trace not available. Enable "THREE.Node.captureStackTrace" to capture stack traces.'}return t}function mr(...t){const e='THREE.'+(t=dr(t)).shift();if(cr)cr('warn',e,...t);else{const i=t[0];i&&i.isStackTrace?console.warn(i.getError(e)):console.warn(e,...t)}}function fr(...t){const e='THREE.'+(t=dr(t)).shift();if(cr)cr('error',e,...t);else{const i=t[0];i&&i.isStackTrace?console.error(i.getError(e)):console.error(e,...t)}}function yr(...t){const e=t.join(' ');e in hr||(hr[e]=!0,mr(...t))}function gr(t,e,i){return new Promise(function(r,s){setTimeout(function n(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:s();break;case t.TIMEOUT_EXPIRED:setTimeout(n,i);break;default:r()}},i)})}const br={[H]:Y,[Z]:tt,[Q]:et,[$]:K,[Y]:H,[tt]:Z,[et]:Q,[K]:$};class xr{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return void 0!==i&&(void 0!==i[t]&&-1!==i[t].indexOf(e))}removeEventListener(t,e){const i=this._listeners;if(void 0===i)return;const r=i[t];if(void 0!==r){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}dispatchEvent(t){const e=this._listeners;if(void 0===e)return;const i=e[t.type];if(void 0!==i){t.target=this;const e=i.slice(0);for(let i=0,r=e.length;i<r;i++)e[i].call(this,t);t.target=null}}}const vr=['00','01','02','03','04','05','06','07','08','09','0a','0b','0c','0d','0e','0f','10','11','12','13','14','15','16','17','18','19','1a','1b','1c','1d','1e','1f','20','21','22','23','24','25','26','27','28','29','2a','2b','2c','2d','2e','2f','30','31','32','33','34','35','36','37','38','39','3a','3b','3c','3d','3e','3f','40','41','42','43','44','45','46','47','48','49','4a','4b','4c','4d','4e','4f','50','51','52','53','54','55','56','57','58','59','5a','5b','5c','5d','5e','5f','60','61','62','63','64','65','66','67','68','69','6a','6b','6c','6d','6e','6f','70','71','72','73','74','75','76','77','78','79','7a','7b','7c','7d','7e','7f','80','81','82','83','84','85','86','87','88','89','8a','8b','8c','8d','8e','8f','90','91','92','93','94','95','96','97','98','99','9a','9b','9c','9d','9e','9f','a0','a1','a2','a3','a4','a5','a6','a7','a8','a9','aa','ab','ac','ad','ae','af','b0','b1','b2','b3','b4','b5','b6','b7','b8','b9','ba','bb','bc','bd','be','bf','c0','c1','c2','c3','c4','c5','c6','c7','c8','c9','ca','cb','cc','cd','ce','cf','d0','d1','d2','d3','d4','d5','d6','d7','d8','d9','da','db','dc','dd','de','df','e0','e1','e2','e3','e4','e5','e6','e7','e8','e9','ea','eb','ec','ed','ee','ef','f0','f1','f2','f3','f4','f5','f6','f7','f8','f9','fa','fb','fc','fd','fe','ff'];let Mr=1234567;const wr=Math.PI/180,Sr=180/Math.PI;function _r(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(vr[255&t]+vr[t>>8&255]+vr[t>>16&255]+vr[t>>24&255]+'-'+vr[255&e]+vr[e>>8&255]+'-'+vr[e>>16&15|64]+vr[e>>24&255]+'-'+vr[63&i|128]+vr[i>>8&255]+'-'+vr[i>>16&255]+vr[i>>24&255]+vr[255&r]+vr[r>>8&255]+vr[r>>16&255]+vr[r>>24&255]).toLowerCase()}function Ar(t,e,i){return Math.max(e,Math.min(i,t))}function Or(t,e){return(t%e+e)%e}function Pr(t,e,i){return(1-i)*t+i*e}function Tr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error('Invalid component type.')}}function Cr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error('Invalid component type.')}}const Ir={DEG2RAD:wr,RAD2DEG:Sr,generateUUID:_r,clamp:Ar,euclideanModulo:Or,mapLinear:function(t,e,i,r,s){return r+(t-e)*(s-r)/(i-e)},inverseLerp:function(t,e,i){return t!==e?(i-t)/(e-t):0},lerp:Pr,damp:function(t,e,i,r){return Pr(t,e,1-Math.exp(-i*r))},pingpong:function(t,e=1){return e-Math.abs(Or(t,2*e)-e)},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(Mr=t);let e=Mr+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*wr},radToDeg:function(t){return t*Sr},isPowerOfTwo:function(t){return!(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,i,r,s){const n=Math.cos,o=Math.sin,a=n(i/2),h=o(i/2),c=n((e+r)/2),u=o((e+r)/2),l=n((e-r)/2),p=o((e-r)/2),d=n((r-e)/2),m=o((r-e)/2);switch(s){case'XYX':t.set(a*u,h*l,h*p,a*c);break;case'YZY':t.set(h*p,a*u,h*l,a*c);break;case'ZXZ':t.set(h*l,h*p,a*u,a*c);break;case'XZX':t.set(a*u,h*m,h*d,a*c);break;case'YXY':t.set(h*d,a*u,h*m,a*c);break;case'ZYZ':t.set(h*m,h*d,a*u,a*c);break;default:mr('MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: '+s)}},normalize:Cr,denormalize:Tr};class zr{constructor(t=0,e=0){zr.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error('index is out of range: '+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error('index is out of range: '+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Ar(this.x,t.x,e.x),this.y=Ar(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Ar(this.x,t,e),this.y=Ar(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ar(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Ar(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),s=this.x-t.x,n=this.y-t.y;return this.x=s*i-n*r+t.x,this.y=s*r+n*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jr{constructor(t=0,e=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=r}static slerpFlat(t,e,i,r,s,n,o){let a=i[r+0],h=i[r+1],c=i[r+2],u=i[r+3],l=s[n+0],p=s[n+1],d=s[n+2],m=s[n+3];if(u!==m||a!==l||h!==p||c!==d){let t=a*l+h*p+c*d+u*m;t<0&&(l=-l,p=-p,d=-d,m=-m,t=-t);let e=1-o;if(t<.9995){const i=Math.acos(t),r=Math.sin(i);e=Math.sin(e*i)/r,a=a*e+l*(o=Math.sin(o*i)/r),h=h*e+p*o,c=c*e+d*o,u=u*e+m*o}else{a=a*e+l*o,h=h*e+p*o,c=c*e+d*o,u=u*e+m*o;const t=1/Math.sqrt(a*a+h*h+c*c+u*u);a*=t,h*=t,c*=t,u*=t}}t[e]=a,t[e+1]=h,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,r,s,n){const o=i[r],a=i[r+1],h=i[r+2],c=i[r+3],u=s[n],l=s[n+1],p=s[n+2],d=s[n+3];return t[e]=o*d+c*u+a*p-h*l,t[e+1]=a*d+c*l+h*u-o*p,t[e+2]=h*d+c*p+o*l-a*u,t[e+3]=c*d-o*u-a*l-h*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,r=t._y,s=t._z,n=t._order,o=Math.cos,a=Math.sin,h=o(i/2),c=o(r/2),u=o(s/2),l=a(i/2),p=a(r/2),d=a(s/2);switch(n){case'XYZ':this._x=l*c*u+h*p*d,this._y=h*p*u-l*c*d,this._z=h*c*d+l*p*u,this._w=h*c*u-l*p*d;break;case'YXZ':this._x=l*c*u+h*p*d,this._y=h*p*u-l*c*d,this._z=h*c*d-l*p*u,this._w=h*c*u+l*p*d;break;case'ZXY':this._x=l*c*u-h*p*d,this._y=h*p*u+l*c*d,this._z=h*c*d+l*p*u,this._w=h*c*u-l*p*d;break;case'ZYX':this._x=l*c*u-h*p*d,this._y=h*p*u+l*c*d,this._z=h*c*d-l*p*u,this._w=h*c*u+l*p*d;break;case'YZX':this._x=l*c*u+h*p*d,this._y=h*p*u+l*c*d,this._z=h*c*d-l*p*u,this._w=h*c*u-l*p*d;break;case'XZY':this._x=l*c*u-h*p*d,this._y=h*p*u-l*c*d,this._z=h*c*d+l*p*u,this._w=h*c*u+l*p*d;break;default:mr('Quaternion: .setFromEuler() encountered an unknown order: '+n)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],s=e[8],n=e[1],o=e[5],a=e[9],h=e[2],c=e[6],u=e[10],l=i+o+u;if(l>0){const t=.5/Math.sqrt(l+1);this._w=.25/t,this._x=(c-a)*t,this._y=(s-h)*t,this._z=(n-r)*t}else if(i>o&&i>u){const t=2*Math.sqrt(1+i-o-u);this._w=(c-a)/t,this._x=.25*t,this._y=(r+n)/t,this._z=(s+h)/t}else if(o>u){const t=2*Math.sqrt(1+o-i-u);this._w=(s-h)/t,this._x=(r+n)/t,this._y=.25*t,this._z=(a+c)/t}else{const t=2*Math.sqrt(1+u-i-o);this._w=(n-r)/t,this._x=(s+h)/t,this._y=(a+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<1e-8?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ar(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,s=t._z,n=t._w,o=e._x,a=e._y,h=e._z,c=e._w;return this._x=i*c+n*o+r*h-s*a,this._y=r*c+n*a+s*o-i*h,this._z=s*c+n*h+i*a-r*o,this._w=n*c-i*o-r*a-s*h,this._onChangeCallback(),this}slerp(t,e){let i=t._x,r=t._y,s=t._z,n=t._w,o=this.dot(t);o<0&&(i=-i,r=-r,s=-s,n=-n,o=-o);let a=1-e;if(o<.9995){const t=Math.acos(o),h=Math.sin(t);a=Math.sin(a*t)/h,e=Math.sin(e*t)/h,this._x=this._x*a+i*e,this._y=this._y*a+r*e,this._z=this._z*a+s*e,this._w=this._w*a+n*e,this._onChangeCallback()}else this._x=this._x*a+i*e,this._y=this._y*a+r*e,this._z=this._z*a+s*e,this._w=this._w*a+n*e,this.normalize();return this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(t),r*Math.cos(t),s*Math.sin(e),s*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Br{constructor(t=0,e=0,i=0){Br.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error('index is out of range: '+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error('index is out of range: '+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Rr.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Rr.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6]*r,this.y=s[1]*e+s[4]*i+s[7]*r,this.z=s[2]*e+s[5]*i+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=t.elements,n=1/(s[3]*e+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*r+s[12])*n,this.y=(s[1]*e+s[5]*i+s[9]*r+s[13])*n,this.z=(s[2]*e+s[6]*i+s[10]*r+s[14])*n,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,s=t.x,n=t.y,o=t.z,a=t.w,h=2*(n*r-o*i),c=2*(o*e-s*r),u=2*(s*i-n*e);return this.x=e+a*h+n*u-o*c,this.y=i+a*c+o*h-s*u,this.z=r+a*u+s*c-n*h,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*r,this.y=s[1]*e+s[5]*i+s[9]*r,this.z=s[2]*e+s[6]*i+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Ar(this.x,t.x,e.x),this.y=Ar(this.y,t.y,e.y),this.z=Ar(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Ar(this.x,t,e),this.y=Ar(this.y,t,e),this.z=Ar(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ar(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,s=t.z,n=e.x,o=e.y,a=e.z;return this.x=r*a-s*o,this.y=s*n-i*a,this.z=i*o-r*n,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return kr.copy(this).projectOnVector(t),this.sub(kr)}reflect(t){return this.sub(kr.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Ar(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const kr=new Br,Rr=new jr;class Fr{constructor(t,e,i,r,s,n,o,a,h){Fr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,r,s,n,o,a,h)}set(t,e,i,r,s,n,o,a,h){const c=this.elements;return c[0]=t,c[1]=r,c[2]=o,c[3]=e,c[4]=s,c[5]=a,c[6]=i,c[7]=n,c[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,n=i[0],o=i[3],a=i[6],h=i[1],c=i[4],u=i[7],l=i[2],p=i[5],d=i[8],m=r[0],f=r[3],y=r[6],g=r[1],b=r[4],x=r[7],v=r[2],M=r[5],w=r[8];return s[0]=n*m+o*g+a*v,s[3]=n*f+o*b+a*M,s[6]=n*y+o*x+a*w,s[1]=h*m+c*g+u*v,s[4]=h*f+c*b+u*M,s[7]=h*y+c*x+u*w,s[2]=l*m+p*g+d*v,s[5]=l*f+p*b+d*M,s[8]=l*y+p*x+d*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],o=t[5],a=t[6],h=t[7],c=t[8];return e*n*c-e*o*h-i*s*c+i*o*a+r*s*h-r*n*a}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],o=t[5],a=t[6],h=t[7],c=t[8],u=c*n-o*h,l=o*a-c*s,p=h*s-n*a,d=e*u+i*l+r*p;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const m=1/d;return t[0]=u*m,t[1]=(r*h-c*i)*m,t[2]=(o*i-r*n)*m,t[3]=l*m,t[4]=(c*e-r*a)*m,t[5]=(r*s-o*e)*m,t[6]=p*m,t[7]=(i*a-h*e)*m,t[8]=(n*e-i*s)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,s,n,o){const a=Math.cos(s),h=Math.sin(s);return this.set(i*a,i*h,-i*(a*n+h*o)+n+t,-r*h,r*a,-r*(-h*n+a*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(Lr.makeScale(t,e)),this}rotate(t){return this.premultiply(Lr.makeRotation(-t)),this}translate(t,e){return this.premultiply(Lr.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let t=0;t<9;t++)if(e[t]!==i[t])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const Lr=new Fr,Nr=(new Fr).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Er=(new Fr).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Vr(){const t={enabled:!0,workingColorSpace:ci,spaces:{},convert:function(t,e,i){return!1!==this.enabled&&e!==i&&e&&i?(this.spaces[e].transfer===li&&(t.r=Ur(t.r),t.g=Ur(t.g),t.b=Ur(t.b)),this.spaces[e].primaries!==this.spaces[i].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[i].fromXYZ)),this.spaces[i].transfer===li&&(t.r=Wr(t.r),t.g=Wr(t.g),t.b=Wr(t.b)),t):t},workingToColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},colorSpaceToWorking:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===ai?ui:this.spaces[t].transfer},getToneMappingMode:function(t){return this.spaces[t].outputColorSpaceConfig.toneMappingMode||'standard'},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,i){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[i].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(e,i){return yr('ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace().'),t.workingToColorSpace(e,i)},toWorkingColorSpace:function(e,i){return yr('ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking().'),t.colorSpaceToWorking(e,i)}},e=[.64,.33,.3,.6,.15,.06],i=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[ci]:{primaries:e,whitePoint:r,transfer:ui,toXYZ:Nr,fromXYZ:Er,luminanceCoefficients:i,workingColorSpaceConfig:{unpackColorSpace:hi},outputColorSpaceConfig:{drawingBufferColorSpace:hi}},[hi]:{primaries:e,whitePoint:r,transfer:li,toXYZ:Nr,fromXYZ:Er,luminanceCoefficients:i,outputColorSpaceConfig:{drawingBufferColorSpace:hi}}}),t}const Dr=Vr();function Ur(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Wr(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let Gr;class qr{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src))return t.src;if('undefined'==typeof HTMLCanvasElement)return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{void 0===Gr&&(Gr=or('canvas')),Gr.width=t.width,Gr.height=t.height;const e=Gr.getContext('2d');t instanceof ImageData?e.putImageData(t,0,0):e.drawImage(t,0,0,t.width,t.height),i=Gr}return i.toDataURL(e)}static sRGBToLinear(t){if('undefined'!=typeof HTMLImageElement&&t instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=or('canvas');e.width=t.width,e.height=t.height;const i=e.getContext('2d');i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),s=r.data;for(let t=0;t<s.length;t++)s[t]=255*Ur(s[t]/255);return i.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*Ur(e[t]/255)):e[t]=Ur(e[t]);return{data:e,width:t.width,height:t.height}}return mr('ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.'),t}}let Jr=0;class Xr{constructor(t=null){this.isSource=!0,Object.defineProperty(this,'id',{value:Jr++}),this.uuid=_r(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){const e=this.data;return'undefined'!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight,0):'undefined'!=typeof VideoFrame&&e instanceof VideoFrame?t.set(e.displayHeight,e.displayWidth,0):null!==e?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||'string'==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:''},r=this.data;if(null!==r){let t;if(Array.isArray(r)){t=[];for(let e=0,i=r.length;e<i;e++)r[e].isDataTexture?t.push(Hr(r[e].image)):t.push(Hr(r[e]))}else t=Hr(r);i.url=t}return e||(t.images[this.uuid]=i),i}}function Hr(t){return'undefined'!=typeof HTMLImageElement&&t instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&t instanceof ImageBitmap?qr.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(mr('Texture: Unable to serialize Texture.'),{})}let Yr=0;const Zr=new Br;class $r extends xr{constructor(t=$r.DEFAULT_IMAGE,e=$r.DEFAULT_MAPPING,i=wt,r=wt,s=Ct,n=jt,o=Yt,a=kt,h=$r.DEFAULT_ANISOTROPY,c=ai){super(),this.isTexture=!0,Object.defineProperty(this,'id',{value:Yr++}),this.uuid=_r(),this.name='',this.source=new Xr(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=n,this.anisotropy=h,this.format=o,this.internalFormat=null,this.type=a,this.offset=new zr(0,0),this.repeat=new zr(1,1),this.center=new zr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Zr).x}get height(){return this.source.getSize(Zr).y}get depth(){return this.source.getSize(Zr).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const e in t){const i=t[e];if(void 0===i){mr(`Texture.setValues(): parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[e]=i:mr(`Texture.setValues(): property '${e}' does not exist.`)}}toJSON(t){const e=void 0===t||'string'==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.7,type:'Texture',generator:'Texture.toJSON'},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:'dispose'})}transformUv(t){if(this.mapping!==ft)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Mt:t.x=t.x-Math.floor(t.x);break;case wt:t.x=t.x<0?0:1;break;case St:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Mt:t.y=t.y-Math.floor(t.y);break;case wt:t.y=t.y<0?0:1;break;case St:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}$r.DEFAULT_IMAGE=null,$r.DEFAULT_MAPPING=ft,$r.DEFAULT_ANISOTROPY=1;class Qr{constructor(t=0,e=0,i=0,r=1){Qr.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error('index is out of range: '+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error('index is out of range: '+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=this.w,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r+n[12]*s,this.y=n[1]*e+n[5]*i+n[9]*r+n[13]*s,this.z=n[2]*e+n[6]*i+n[10]*r+n[14]*s,this.w=n[3]*e+n[7]*i+n[11]*r+n[15]*s,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,s;const n=.01,o=.1,a=t.elements,h=a[0],c=a[4],u=a[8],l=a[1],p=a[5],d=a[9],m=a[2],f=a[6],y=a[10];if(Math.abs(c-l)<n&&Math.abs(u-m)<n&&Math.abs(d-f)<n){if(Math.abs(c+l)<o&&Math.abs(u+m)<o&&Math.abs(d+f)<o&&Math.abs(h+p+y-3)<o)return this.set(1,0,0,0),this;e=Math.PI;const t=(h+1)/2,a=(p+1)/2,g=(y+1)/2,b=(c+l)/4,x=(u+m)/4,v=(d+f)/4;return t>a&&t>g?t<n?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(t),r=b/i,s=x/i):a>g?a<n?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(a),i=b/r,s=v/r):g<n?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(g),i=x/s,r=v/s),this.set(i,r,s,e),this}let g=Math.sqrt((f-d)*(f-d)+(u-m)*(u-m)+(l-c)*(l-c));return Math.abs(g)<.001&&(g=1),this.x=(f-d)/g,this.y=(u-m)/g,this.z=(l-c)/g,this.w=Math.acos((h+p+y-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Ar(this.x,t.x,e.x),this.y=Ar(this.y,t.y,e.y),this.z=Ar(this.z,t.z,e.z),this.w=Ar(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Ar(this.x,t,e),this.y=Ar(this.y,t,e),this.z=Ar(this.z,t,e),this.w=Ar(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ar(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Kr extends xr{constructor(t=1,e=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ct,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=i.depth,this.scissor=new Qr(0,0,t,e),this.scissorTest=!1,this.viewport=new Qr(0,0,t,e),this.textures=[];const r={width:t,height:e,depth:i.depth},s=new $r(r),n=i.count;for(let t=0;t<n;t++)this.textures[t]=s.clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(t={}){const e={minFilter:Ct,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==t.mapping&&(e.mapping=t.mapping),void 0!==t.wrapS&&(e.wrapS=t.wrapS),void 0!==t.wrapT&&(e.wrapT=t.wrapT),void 0!==t.wrapR&&(e.wrapR=t.wrapR),void 0!==t.magFilter&&(e.magFilter=t.magFilter),void 0!==t.minFilter&&(e.minFilter=t.minFilter),void 0!==t.format&&(e.format=t.format),void 0!==t.type&&(e.type=t.type),void 0!==t.anisotropy&&(e.anisotropy=t.anisotropy),void 0!==t.colorSpace&&(e.colorSpace=t.colorSpace),void 0!==t.flipY&&(e.flipY=t.flipY),void 0!==t.generateMipmaps&&(e.generateMipmaps=t.generateMipmaps),void 0!==t.internalFormat&&(e.internalFormat=t.internalFormat);for(let t=0;t<this.textures.length;t++){this.textures[t].setValues(e)}}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==t&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=i,!0!==this.textures[r].isData3DTexture&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const i=Object.assign({},t.textures[e].image);this.textures[e].source=new Xr(i)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:'dispose'})}}class ts extends Kr{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class es extends $r{constructor(t=null,e=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=_t,this.minFilter=_t,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class is extends ts{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new es(null,t,e,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class rs extends $r{constructor(t=null,e=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=_t,this.minFilter=_t,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ss extends ts{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new rs(null,t,e,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class ns{constructor(t,e,i,r,s,n,o,a,h,c,u,l,p,d,m,f){ns.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,i,r,s,n,o,a,h,c,u,l,p,d,m,f)}set(t,e,i,r,s,n,o,a,h,c,u,l,p,d,m,f){const y=this.elements;return y[0]=t,y[4]=e,y[8]=i,y[12]=r,y[1]=s,y[5]=n,y[9]=o,y[13]=a,y[2]=h,y[6]=c,y[10]=u,y[14]=l,y[3]=p,y[7]=d,y[11]=m,y[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ns).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return 0===this.determinant()?(t.set(1,0,0),e.set(0,1,0),i.set(0,0,1),this):(t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this)}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){if(0===t.determinant())return this.identity();const e=this.elements,i=t.elements,r=1/os.setFromMatrixColumn(t,0).length(),s=1/os.setFromMatrixColumn(t,1).length(),n=1/os.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*s,e[5]=i[5]*s,e[6]=i[6]*s,e[7]=0,e[8]=i[8]*n,e[9]=i[9]*n,e[10]=i[10]*n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,r=t.y,s=t.z,n=Math.cos(i),o=Math.sin(i),a=Math.cos(r),h=Math.sin(r),c=Math.cos(s),u=Math.sin(s);if('XYZ'===t.order){const t=n*c,i=n*u,r=o*c,s=o*u;e[0]=a*c,e[4]=-a*u,e[8]=h,e[1]=i+r*h,e[5]=t-s*h,e[9]=-o*a,e[2]=s-t*h,e[6]=r+i*h,e[10]=n*a}else if('YXZ'===t.order){const t=a*c,i=a*u,r=h*c,s=h*u;e[0]=t+s*o,e[4]=r*o-i,e[8]=n*h,e[1]=n*u,e[5]=n*c,e[9]=-o,e[2]=i*o-r,e[6]=s+t*o,e[10]=n*a}else if('ZXY'===t.order){const t=a*c,i=a*u,r=h*c,s=h*u;e[0]=t-s*o,e[4]=-n*u,e[8]=r+i*o,e[1]=i+r*o,e[5]=n*c,e[9]=s-t*o,e[2]=-n*h,e[6]=o,e[10]=n*a}else if('ZYX'===t.order){const t=n*c,i=n*u,r=o*c,s=o*u;e[0]=a*c,e[4]=r*h-i,e[8]=t*h+s,e[1]=a*u,e[5]=s*h+t,e[9]=i*h-r,e[2]=-h,e[6]=o*a,e[10]=n*a}else if('YZX'===t.order){const t=n*a,i=n*h,r=o*a,s=o*h;e[0]=a*c,e[4]=s-t*u,e[8]=r*u+i,e[1]=u,e[5]=n*c,e[9]=-o*c,e[2]=-h*c,e[6]=i*u+r,e[10]=t-s*u}else if('XZY'===t.order){const t=n*a,i=n*h,r=o*a,s=o*h;e[0]=a*c,e[4]=-u,e[8]=h*c,e[1]=t*u+s,e[5]=n*c,e[9]=i*u-r,e[2]=r*u-i,e[6]=o*c,e[10]=s*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(hs,t,cs)}lookAt(t,e,i){const r=this.elements;return ps.subVectors(t,e),0===ps.lengthSq()&&(ps.z=1),ps.normalize(),us.crossVectors(i,ps),0===us.lengthSq()&&(1===Math.abs(i.z)?ps.x+=1e-4:ps.z+=1e-4,ps.normalize(),us.crossVectors(i,ps)),us.normalize(),ls.crossVectors(ps,us),r[0]=us.x,r[4]=ls.x,r[8]=ps.x,r[1]=us.y,r[5]=ls.y,r[9]=ps.y,r[2]=us.z,r[6]=ls.z,r[10]=ps.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,n=i[0],o=i[4],a=i[8],h=i[12],c=i[1],u=i[5],l=i[9],p=i[13],d=i[2],m=i[6],f=i[10],y=i[14],g=i[3],b=i[7],x=i[11],v=i[15],M=r[0],w=r[4],S=r[8],_=r[12],A=r[1],O=r[5],P=r[9],T=r[13],C=r[2],I=r[6],z=r[10],j=r[14],B=r[3],k=r[7],R=r[11],F=r[15];return s[0]=n*M+o*A+a*C+h*B,s[4]=n*w+o*O+a*I+h*k,s[8]=n*S+o*P+a*z+h*R,s[12]=n*_+o*T+a*j+h*F,s[1]=c*M+u*A+l*C+p*B,s[5]=c*w+u*O+l*I+p*k,s[9]=c*S+u*P+l*z+p*R,s[13]=c*_+u*T+l*j+p*F,s[2]=d*M+m*A+f*C+y*B,s[6]=d*w+m*O+f*I+y*k,s[10]=d*S+m*P+f*z+y*R,s[14]=d*_+m*T+f*j+y*F,s[3]=g*M+b*A+x*C+v*B,s[7]=g*w+b*O+x*I+v*k,s[11]=g*S+b*P+x*z+v*R,s[15]=g*_+b*T+x*j+v*F,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],s=t[12],n=t[1],o=t[5],a=t[9],h=t[13],c=t[2],u=t[6],l=t[10],p=t[14],d=t[3],m=t[7],f=t[11],y=t[15],g=a*p-h*l,b=o*p-h*u,x=o*l-a*u,v=n*p-h*c,M=n*l-a*c,w=n*u-o*c;return e*(m*g-f*b+y*x)-i*(d*g-f*v+y*M)+r*(d*b-m*v+y*w)-s*(d*x-m*M+f*w)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],o=t[5],a=t[6],h=t[7],c=t[8],u=t[9],l=t[10],p=t[11],d=t[12],m=t[13],f=t[14],y=t[15],g=e*o-i*n,b=e*a-r*n,x=e*h-s*n,v=i*a-r*o,M=i*h-s*o,w=r*h-s*a,S=c*m-u*d,_=c*f-l*d,A=c*y-p*d,O=u*f-l*m,P=u*y-p*m,T=l*y-p*f,C=g*T-b*P+x*O+v*A-M*_+w*S;if(0===C)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/C;return t[0]=(o*T-a*P+h*O)*I,t[1]=(r*P-i*T-s*O)*I,t[2]=(m*w-f*M+y*v)*I,t[3]=(l*M-u*w-p*v)*I,t[4]=(a*A-n*T-h*_)*I,t[5]=(e*T-r*A+s*_)*I,t[6]=(f*x-d*w-y*b)*I,t[7]=(c*w-l*x+p*b)*I,t[8]=(n*P-o*A+h*S)*I,t[9]=(i*A-e*P-s*S)*I,t[10]=(d*M-m*x+y*g)*I,t[11]=(u*x-c*M-p*g)*I,t[12]=(o*_-n*O-a*S)*I,t[13]=(e*O-i*_+r*S)*I,t[14]=(m*b-d*v-f*g)*I,t[15]=(c*v-u*b+l*g)*I,this}scale(t){const e=this.elements,i=t.x,r=t.y,s=t.z;return e[0]*=i,e[4]*=r,e[8]*=s,e[1]*=i,e[5]*=r,e[9]*=s,e[2]*=i,e[6]*=r,e[10]*=s,e[3]*=i,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),s=1-i,n=t.x,o=t.y,a=t.z,h=s*n,c=s*o;return this.set(h*n+i,h*o-r*a,h*a+r*o,0,h*o+r*a,c*o+i,c*a-r*n,0,h*a-r*o,c*a+r*n,s*a*a+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,s,n){return this.set(1,i,s,0,t,1,n,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,s=e._x,n=e._y,o=e._z,a=e._w,h=s+s,c=n+n,u=o+o,l=s*h,p=s*c,d=s*u,m=n*c,f=n*u,y=o*u,g=a*h,b=a*c,x=a*u,v=i.x,M=i.y,w=i.z;return r[0]=(1-(m+y))*v,r[1]=(p+x)*v,r[2]=(d-b)*v,r[3]=0,r[4]=(p-x)*M,r[5]=(1-(l+y))*M,r[6]=(f+g)*M,r[7]=0,r[8]=(d+b)*w,r[9]=(f-g)*w,r[10]=(1-(l+m))*w,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;t.x=r[12],t.y=r[13],t.z=r[14];const s=this.determinant();if(0===s)return i.set(1,1,1),e.identity(),this;let n=os.set(r[0],r[1],r[2]).length();const o=os.set(r[4],r[5],r[6]).length(),a=os.set(r[8],r[9],r[10]).length();s<0&&(n=-n),as.copy(this);const h=1/n,c=1/o,u=1/a;return as.elements[0]*=h,as.elements[1]*=h,as.elements[2]*=h,as.elements[4]*=c,as.elements[5]*=c,as.elements[6]*=c,as.elements[8]*=u,as.elements[9]*=u,as.elements[10]*=u,e.setFromRotationMatrix(as),i.x=n,i.y=o,i.z=a,this}makePerspective(t,e,i,r,s,n,o=Zi,a=!1){const h=this.elements,c=2*s/(e-t),u=2*s/(i-r),l=(e+t)/(e-t),p=(i+r)/(i-r);let d,m;if(a)d=s/(n-s),m=n*s/(n-s);else if(o===Zi)d=-(n+s)/(n-s),m=-2*n*s/(n-s);else{if(o!==$i)throw new Error('THREE.Matrix4.makePerspective(): Invalid coordinate system: '+o);d=-n/(n-s),m=-n*s/(n-s)}return h[0]=c,h[4]=0,h[8]=l,h[12]=0,h[1]=0,h[5]=u,h[9]=p,h[13]=0,h[2]=0,h[6]=0,h[10]=d,h[14]=m,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,e,i,r,s,n,o=Zi,a=!1){const h=this.elements,c=2/(e-t),u=2/(i-r),l=-(e+t)/(e-t),p=-(i+r)/(i-r);let d,m;if(a)d=1/(n-s),m=n/(n-s);else if(o===Zi)d=-2/(n-s),m=-(n+s)/(n-s);else{if(o!==$i)throw new Error('THREE.Matrix4.makeOrthographic(): Invalid coordinate system: '+o);d=-1/(n-s),m=-s/(n-s)}return h[0]=c,h[4]=0,h[8]=0,h[12]=l,h[1]=0,h[5]=u,h[9]=0,h[13]=p,h[2]=0,h[6]=0,h[10]=d,h[14]=m,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let t=0;t<16;t++)if(e[t]!==i[t])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const os=new Br,as=new ns,hs=new Br(0,0,0),cs=new Br(1,1,1),us=new Br,ls=new Br,ps=new Br,ds=new ns,ms=new jr;class fs{constructor(t=0,e=0,i=0,r=fs.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,r=this._order){return this._x=t,this._y=e,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const r=t.elements,s=r[0],n=r[4],o=r[8],a=r[1],h=r[5],c=r[9],u=r[2],l=r[6],p=r[10];switch(e){case'XYZ':this._y=Math.asin(Ar(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-n,s)):(this._x=Math.atan2(l,h),this._z=0);break;case'YXZ':this._x=Math.asin(-Ar(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(a,h)):(this._y=Math.atan2(-u,s),this._z=0);break;case'ZXY':this._x=Math.asin(Ar(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-n,h)):(this._y=0,this._z=Math.atan2(a,s));break;case'ZYX':this._y=Math.asin(-Ar(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(l,p),this._z=Math.atan2(a,s)):(this._x=0,this._z=Math.atan2(-n,h));break;case'YZX':this._z=Math.asin(Ar(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(o,p));break;case'XZY':this._z=Math.asin(-Ar(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(l,h),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-c,p),this._y=0);break;default:mr('Euler: .setFromRotationMatrix() encountered an unknown order: '+e)}return this._order=e,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return ds.makeRotationFromQuaternion(t),this.setFromRotationMatrix(ds,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return ms.setFromEuler(this),this.setFromQuaternion(ms,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}fs.DEFAULT_ORDER='XYZ';class ys{constructor(){this.mask=1}set(t){this.mask=1<<t>>>0}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return 0!==(this.mask&t.mask)}isEnabled(t){return!!(this.mask&1<<t)}}let gs=0;const bs=new Br,xs=new jr,vs=new ns,Ms=new Br,ws=new Br,Ss=new Br,_s=new jr,As=new Br(1,0,0),Os=new Br(0,1,0),Ps=new Br(0,0,1),Ts={type:'added'},Cs={type:'removed'},Is={type:'childadded',child:null},zs={type:'childremoved',child:null};class js extends xr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,'id',{value:gs++}),this.uuid=_r(),this.name='',this.type='Object3D',this.parent=null,this.children=[],this.up=js.DEFAULT_UP.clone();const t=new Br,e=new fs,i=new jr,r=new Br(1,1,1);e._onChange(function(){i.setFromEuler(e,!1)}),i._onChange(function(){e.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ns},normalMatrix:{value:new Fr}}),this.matrix=new ns,this.matrixWorld=new ns,this.matrixAutoUpdate=js.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=js.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ys,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.static=!1,this.userData={},this.pivot=null}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return xs.setFromAxisAngle(t,e),this.quaternion.multiply(xs),this}rotateOnWorldAxis(t,e){return xs.setFromAxisAngle(t,e),this.quaternion.premultiply(xs),this}rotateX(t){return this.rotateOnAxis(As,t)}rotateY(t){return this.rotateOnAxis(Os,t)}rotateZ(t){return this.rotateOnAxis(Ps,t)}translateOnAxis(t,e){return bs.copy(t).applyQuaternion(this.quaternion),this.position.add(bs.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(As,t)}translateY(t){return this.translateOnAxis(Os,t)}translateZ(t){return this.translateOnAxis(Ps,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(vs.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Ms.copy(t):Ms.set(t,e,i);const r=this.parent;this.updateWorldMatrix(!0,!1),ws.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?vs.lookAt(ws,Ms,this.up):vs.lookAt(Ms,ws,this.up),this.quaternion.setFromRotationMatrix(vs),r&&(vs.extractRotation(r.matrixWorld),xs.setFromRotationMatrix(vs),this.quaternion.premultiply(xs.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(fr('Object3D.add: object can\'t be added as a child of itself.',t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(Ts),Is.child=t,this.dispatchEvent(Is),Is.child=null):fr('Object3D.add: object not an instance of THREE.Object3D.',t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Cs),zs.child=t,this.dispatchEvent(zs),zs.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),vs.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),vs.multiply(t.parent.matrixWorld)),t.applyMatrix4(vs),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(Ts),Is.child=t,this.dispatchEvent(Is),Is.child=null,this}getObjectById(t){return this.getObjectByProperty('id',t)}getObjectByName(t){return this.getObjectByProperty('name',t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,r=this.children.length;i<r;i++){const r=this.children[i].getObjectByProperty(t,e);if(void 0!==r)return r}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const r=this.children;for(let s=0,n=r.length;s<n;s++)r[s].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ws,t,Ss),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ws,_s,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);const t=this.pivot;if(null!==t){const e=t.x,i=t.y,r=t.z,s=this.matrix.elements;s[12]+=e-s[0]*e-s[4]*i-s[8]*r,s[13]+=i-s[1]*e-s[5]*i-s[9]*r,s[14]+=r-s[2]*e-s[6]*i-s[10]*r}this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,r=e.length;i<r;i++){e[i].updateMatrixWorld(t)}}updateWorldMatrix(t,e){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===e){const t=this.children;for(let e=0,i=t.length;e<i;e++){t[e].updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||'string'==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:'Object',generator:'Object3D.toJSON'});const r={};function s(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,''!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),!1!==this.static&&(r.static=this.static),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),null!==this.pivot&&(r.pivot=this.pivot.toArray()),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),void 0!==this.morphTargetDictionary&&(r.morphTargetDictionary=Object.assign({},this.morphTargetDictionary)),void 0!==this.morphTargetInfluences&&(r.morphTargetInfluences=this.morphTargetInfluences.slice()),this.isInstancedMesh&&(r.type='InstancedMesh',r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type='BatchedMesh',r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(t=>Object.assign({},t,{boundingBox:t.boundingBox?t.boundingBox.toJSON():void 0,boundingSphere:t.boundingSphere?t.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(t=>Object.assign({},t)),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(t),r.indirectTexture=this._indirectTexture.toJSON(t),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(r.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(r.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const i=e.shapes;if(Array.isArray(i))for(let e=0,r=i.length;e<r;e++){const r=i[e];s(t.shapes,r)}else s(t.shapes,i)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let i=0,r=this.material.length;i<r;i++)e.push(s(t.materials,this.material[i]));r.material=e}else r.material=s(t.materials,this.material);if(this.children.length>0){r.children=[];for(let e=0;e<this.children.length;e++)r.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let e=0;e<this.animations.length;e++){const i=this.animations[e];r.animations.push(s(t.animations,i))}}if(e){const e=n(t.geometries),r=n(t.materials),s=n(t.textures),o=n(t.images),a=n(t.shapes),h=n(t.skeletons),c=n(t.animations),u=n(t.nodes);e.length>0&&(i.geometries=e),r.length>0&&(i.materials=r),s.length>0&&(i.textures=s),o.length>0&&(i.images=o),a.length>0&&(i.shapes=a),h.length>0&&(i.skeletons=h),c.length>0&&(i.animations=c),u.length>0&&(i.nodes=u)}return i.object=r,i;function n(t){const e=[];for(const i in t){const r=t[i];delete r.metadata,e.push(r)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),null!==t.pivot&&(this.pivot=t.pivot.clone()),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.static=t.static,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const i=t.children[e];this.add(i.clone())}return this}}js.DEFAULT_UP=new Br(0,1,0),js.DEFAULT_MATRIX_AUTO_UPDATE=!0,js.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;class Bs extends js{constructor(){super(),this.isGroup=!0,this.type='Group'}}const ks={type:'move'};class Rs{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Bs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Bs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Br,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Br),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Bs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Br,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Br),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:'connected',data:t}),this}disconnect(t){return this.dispatchEvent({type:'disconnected',data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let r=null,s=null,n=null;const o=this._targetRay,a=this._grip,h=this._hand;if(t&&'visible-blurred'!==e.session.visibilityState){if(h&&t.hand){n=!0;for(const r of t.hand.values()){const t=e.getJointPose(r,i),s=this._getHandJoint(h,r);null!==t&&(s.matrix.fromArray(t.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,s.jointRadius=t.radius),s.visible=null!==t}const r=h.joints['index-finger-tip'],s=h.joints['thumb-tip'],o=r.position.distanceTo(s.position);h.inputState.pinching&&o>.025?(h.inputState.pinching=!1,this.dispatchEvent({type:'pinchend',handedness:t.handedness,target:this})):!h.inputState.pinching&&o<=.015&&(h.inputState.pinching=!0,this.dispatchEvent({type:'pinchstart',handedness:t.handedness,target:this}))}else null!==a&&t.gripSpace&&(s=e.getPose(t.gripSpace,i),null!==s&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1));null!==o&&(r=e.getPose(t.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ks)))}return null!==o&&(o.visible=null!==r),null!==a&&(a.visible=null!==s),null!==h&&(h.visible=null!==n),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const i=new Bs;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}const Fs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ls={h:0,s:0,l:0},Ns={h:0,s:0,l:0};function Es(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<.16666666666666666?t+6*(e-t)*i:i<.5?e:i<.6666666666666666?t+6*(e-t)*(.6666666666666666-i):t}class Vs{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const e=t;e&&e.isColor?this.copy(e):'number'==typeof e?this.setHex(e):'string'==typeof e&&this.setStyle(e)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=hi){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Dr.colorSpaceToWorking(this,e),this}setRGB(t,e,i,r=Dr.workingColorSpace){return this.r=t,this.g=e,this.b=i,Dr.colorSpaceToWorking(this,r),this}setHSL(t,e,i,r=Dr.workingColorSpace){if(t=Or(t,1),e=Ar(e,0,1),i=Ar(i,0,1),0===e)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,s=2*i-r;this.r=Es(s,r,t+.3333333333333333),this.g=Es(s,r,t),this.b=Es(s,r,t-.3333333333333333)}return Dr.colorSpaceToWorking(this,r),this}setStyle(t,e=hi){function i(e){void 0!==e&&parseFloat(e)<1&&mr('Color: Alpha component of '+t+' will be ignored.')}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const n=r[1],o=r[2];switch(n){case'rgb':case'rgba':if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case'hsl':case'hsla':if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:mr('Color: Unknown color model '+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const i=r[1],s=i.length;if(3===s)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,e);if(6===s)return this.setHex(parseInt(i,16),e);mr('Color: Invalid hex color '+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=hi){const i=Fs[t.toLowerCase()];return void 0!==i?this.setHex(i,e):mr('Color: Unknown color '+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Ur(t.r),this.g=Ur(t.g),this.b=Ur(t.b),this}copyLinearToSRGB(t){return this.r=Wr(t.r),this.g=Wr(t.g),this.b=Wr(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=hi){return Dr.workingToColorSpace(Ds.copy(this),t),65536*Math.round(Ar(255*Ds.r,0,255))+256*Math.round(Ar(255*Ds.g,0,255))+Math.round(Ar(255*Ds.b,0,255))}getHexString(t=hi){return('000000'+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Dr.workingColorSpace){Dr.workingToColorSpace(Ds.copy(this),e);const i=Ds.r,r=Ds.g,s=Ds.b,n=Math.max(i,r,s),o=Math.min(i,r,s);let a,h;const c=(o+n)/2;if(o===n)a=0,h=0;else{const t=n-o;switch(h=c<=.5?t/(n+o):t/(2-n-o),n){case i:a=(r-s)/t+(r<s?6:0);break;case r:a=(s-i)/t+2;break;case s:a=(i-r)/t+4}a/=6}return t.h=a,t.s=h,t.l=c,t}getRGB(t,e=Dr.workingColorSpace){return Dr.workingToColorSpace(Ds.copy(this),e),t.r=Ds.r,t.g=Ds.g,t.b=Ds.b,t}getStyle(t=hi){Dr.workingToColorSpace(Ds.copy(this),t);const e=Ds.r,i=Ds.g,r=Ds.b;return t!==hi?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(t,e,i){return this.getHSL(Ls),this.setHSL(Ls.h+t,Ls.s+e,Ls.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Ls),t.getHSL(Ns);const i=Pr(Ls.h,Ns.h,e),r=Pr(Ls.s,Ns.s,e),s=Pr(Ls.l,Ns.l,e);return this.setHSL(i,r,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,r=this.b,s=t.elements;return this.r=s[0]*e+s[3]*i+s[6]*r,this.g=s[1]*e+s[4]*i+s[7]*r,this.b=s[2]*e+s[5]*i+s[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ds=new Vs;Vs.NAMES=Fs;class Us{constructor(t,e=25e-5){this.isFogExp2=!0,this.name='',this.color=new Vs(t),this.density=e}clone(){return new Us(this.color,this.density)}toJSON(){return{type:'FogExp2',name:this.name,color:this.color.getHex(),density:this.density}}}class Ws{constructor(t,e=1,i=1e3){this.isFog=!0,this.name='',this.color=new Vs(t),this.near=e,this.far=i}clone(){return new Ws(this.color,this.near,this.far)}toJSON(){return{type:'Fog',name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Gs extends js{constructor(){super(),this.isScene=!0,this.type='Scene',this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new fs,this.environmentIntensity=1,this.environmentRotation=new fs,this.overrideMaterial=null,'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe',{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}const qs=new Br,Js=new Br,Xs=new Br,Hs=new Br,Ys=new Br,Zs=new Br,$s=new Br,Qs=new Br,Ks=new Br,tn=new Br,en=new Qr,rn=new Qr,sn=new Qr;class nn{constructor(t=new Br,e=new Br,i=new Br){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),qs.subVectors(t,e),r.cross(qs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,i,r,s){qs.subVectors(r,e),Js.subVectors(i,e),Xs.subVectors(t,e);const n=qs.dot(qs),o=qs.dot(Js),a=qs.dot(Xs),h=Js.dot(Js),c=Js.dot(Xs),u=n*h-o*o;if(0===u)return s.set(0,0,0),null;const l=1/u,p=(h*a-o*c)*l,d=(n*c-o*a)*l;return s.set(1-p-d,d,p)}static containsPoint(t,e,i,r){return null!==this.getBarycoord(t,e,i,r,Hs)&&(Hs.x>=0&&Hs.y>=0&&Hs.x+Hs.y<=1)}static getInterpolation(t,e,i,r,s,n,o,a){return null===this.getBarycoord(t,e,i,r,Hs)?(a.x=0,a.y=0,'z'in a&&(a.z=0),'w'in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(s,Hs.x),a.addScaledVector(n,Hs.y),a.addScaledVector(o,Hs.z),a)}static getInterpolatedAttribute(t,e,i,r,s,n){return en.setScalar(0),rn.setScalar(0),sn.setScalar(0),en.fromBufferAttribute(t,e),rn.fromBufferAttribute(t,i),sn.fromBufferAttribute(t,r),n.setScalar(0),n.addScaledVector(en,s.x),n.addScaledVector(rn,s.y),n.addScaledVector(sn,s.z),n}static isFrontFacing(t,e,i,r){return qs.subVectors(i,e),Js.subVectors(t,e),qs.cross(Js).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return qs.subVectors(this.c,this.b),Js.subVectors(this.a,this.b),.5*qs.cross(Js).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(t){return nn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return nn.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,r,s){return nn.getInterpolation(t,this.a,this.b,this.c,e,i,r,s)}containsPoint(t){return nn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return nn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,s=this.c;let n,o;Ys.subVectors(r,i),Zs.subVectors(s,i),Qs.subVectors(t,i);const a=Ys.dot(Qs),h=Zs.dot(Qs);if(a<=0&&h<=0)return e.copy(i);Ks.subVectors(t,r);const c=Ys.dot(Ks),u=Zs.dot(Ks);if(c>=0&&u<=c)return e.copy(r);const l=a*u-c*h;if(l<=0&&a>=0&&c<=0)return n=a/(a-c),e.copy(i).addScaledVector(Ys,n);tn.subVectors(t,s);const p=Ys.dot(tn),d=Zs.dot(tn);if(d>=0&&p<=d)return e.copy(s);const m=p*h-a*d;if(m<=0&&h>=0&&d<=0)return o=h/(h-d),e.copy(i).addScaledVector(Zs,o);const f=c*d-p*u;if(f<=0&&u-c>=0&&p-d>=0)return $s.subVectors(s,r),o=(u-c)/(u-c+(p-d)),e.copy(r).addScaledVector($s,o);const y=1/(f+m+l);return n=m*y,o=l*y,e.copy(i).addScaledVector(Ys,n).addScaledVector(Zs,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}class on{constructor(t=new Br(1/0,1/0,1/0),e=new Br(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(hn.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(hn.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=hn.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(void 0!==i){const r=i.getAttribute('position');if(!0===e&&void 0!==r&&!0!==t.isInstancedMesh)for(let e=0,i=r.count;e<i;e++)!0===t.isMesh?t.getVertexPosition(e,hn):hn.fromBufferAttribute(r,e),hn.applyMatrix4(t.matrixWorld),this.expandByPoint(hn);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),cn.copy(t.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),cn.copy(i.boundingBox)),cn.applyMatrix4(t.matrixWorld),this.union(cn)}const r=t.children;for(let t=0,i=r.length;t<i;t++)this.expandByObject(r[t],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,hn),hn.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(yn),gn.subVectors(this.max,yn),un.subVectors(t.a,yn),ln.subVectors(t.b,yn),pn.subVectors(t.c,yn),dn.subVectors(ln,un),mn.subVectors(pn,ln),fn.subVectors(un,pn);let e=[0,-dn.z,dn.y,0,-mn.z,mn.y,0,-fn.z,fn.y,dn.z,0,-dn.x,mn.z,0,-mn.x,fn.z,0,-fn.x,-dn.y,dn.x,0,-mn.y,mn.x,0,-fn.y,fn.x,0];return!!vn(e,un,ln,pn,gn)&&(e=[1,0,0,0,1,0,0,0,1],!!vn(e,un,ln,pn,gn)&&(bn.crossVectors(dn,mn),e=[bn.x,bn.y,bn.z],vn(e,un,ln,pn,gn)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,hn).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(hn).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(an[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),an[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),an[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),an[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),an[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),an[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),an[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),an[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(an)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}}const an=[new Br,new Br,new Br,new Br,new Br,new Br,new Br,new Br],hn=new Br,cn=new on,un=new Br,ln=new Br,pn=new Br,dn=new Br,mn=new Br,fn=new Br,yn=new Br,gn=new Br,bn=new Br,xn=new Br;function vn(t,e,i,r,s){for(let n=0,o=t.length-3;n<=o;n+=3){xn.fromArray(t,n);const o=s.x*Math.abs(xn.x)+s.y*Math.abs(xn.y)+s.z*Math.abs(xn.z),a=e.dot(xn),h=i.dot(xn),c=r.dot(xn);if(Math.max(-Math.max(a,h,c),Math.min(a,h,c))>o)return!1}return!0}const Mn=wn();function wn(){const t=new ArrayBuffer(4),e=new Float32Array(t),i=new Uint32Array(t),r=new Uint32Array(512),s=new Uint32Array(512);for(let t=0;t<256;++t){const e=t-127;e<-27?(r[t]=0,r[256|t]=32768,s[t]=24,s[256|t]=24):e<-14?(r[t]=1024>>-e-14,r[256|t]=1024>>-e-14|32768,s[t]=-e-1,s[256|t]=-e-1):e<=15?(r[t]=e+15<<10,r[256|t]=e+15<<10|32768,s[t]=13,s[256|t]=13):e<128?(r[t]=31744,r[256|t]=64512,s[t]=24,s[256|t]=24):(r[t]=31744,r[256|t]=64512,s[t]=13,s[256|t]=13)}const n=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let t=1;t<1024;++t){let e=t<<13,i=0;for(;!(8388608&e);)e<<=1,i-=8388608;e&=-8388609,i+=947912704,n[t]=e|i}for(let t=1024;t<2048;++t)n[t]=939524096+(t-1024<<13);for(let t=1;t<31;++t)o[t]=t<<23;o[31]=1199570944,o[32]=2147483648;for(let t=33;t<63;++t)o[t]=2147483648+(t-32<<23);o[63]=3347054592;for(let t=1;t<64;++t)32!==t&&(a[t]=1024);return{floatView:e,uint32View:i,baseTable:r,shiftTable:s,mantissaTable:n,exponentTable:o,offsetTable:a}}function Sn(t){Math.abs(t)>65504&&mr('DataUtils.toHalfFloat(): Value out of range.'),t=Ar(t,-65504,65504),Mn.floatView[0]=t;const e=Mn.uint32View[0],i=e>>23&511;return Mn.baseTable[i]+((8388607&e)>>Mn.shiftTable[i])}function _n(t){const e=t>>10;return Mn.uint32View[0]=Mn.mantissaTable[Mn.offsetTable[e]+(1023&t)]+Mn.exponentTable[e],Mn.floatView[0]}class An{static toHalfFloat(t){return Sn(t)}static fromHalfFloat(t){return _n(t)}}const On=new Br,Pn=new zr;let Tn=0;class Cn{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.isBufferAttribute=!0,Object.defineProperty(this,'id',{value:Tn++}),this.name='',this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i,this.usage=Ei,this.updateRanges=[],this.gpuType=Vt,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)Pn.fromBufferAttribute(this,e),Pn.applyMatrix3(t),this.setXY(e,Pn.x,Pn.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)On.fromBufferAttribute(this,e),On.applyMatrix3(t),this.setXYZ(e,On.x,On.y,On.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)On.fromBufferAttribute(this,e),On.applyMatrix4(t),this.setXYZ(e,On.x,On.y,On.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)On.fromBufferAttribute(this,e),On.applyNormalMatrix(t),this.setXYZ(e,On.x,On.y,On.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)On.fromBufferAttribute(this,e),On.transformDirection(t),this.setXYZ(e,On.x,On.y,On.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Tr(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Cr(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Tr(e,this.array)),e}setX(t,e){return this.normalized&&(e=Cr(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Tr(e,this.array)),e}setY(t,e){return this.normalized&&(e=Cr(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Tr(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Cr(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Tr(e,this.array)),e}setW(t,e){return this.normalized&&(e=Cr(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array),r=Cr(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t*=this.itemSize,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array),r=Cr(r,this.array),s=Cr(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return''!==this.name&&(t.name=this.name),this.usage!==Ei&&(t.usage=this.usage),t}}class In extends Cn{constructor(t,e,i){super(new Int8Array(t),e,i)}}class zn extends Cn{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class jn extends Cn{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class Bn extends Cn{constructor(t,e,i){super(new Int16Array(t),e,i)}}class kn extends Cn{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class Rn extends Cn{constructor(t,e,i){super(new Int32Array(t),e,i)}}class Fn extends Cn{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class Ln extends Cn{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=_n(this.array[t*this.itemSize]);return this.normalized&&(e=Tr(e,this.array)),e}setX(t,e){return this.normalized&&(e=Cr(e,this.array)),this.array[t*this.itemSize]=Sn(e),this}getY(t){let e=_n(this.array[t*this.itemSize+1]);return this.normalized&&(e=Tr(e,this.array)),e}setY(t,e){return this.normalized&&(e=Cr(e,this.array)),this.array[t*this.itemSize+1]=Sn(e),this}getZ(t){let e=_n(this.array[t*this.itemSize+2]);return this.normalized&&(e=Tr(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Cr(e,this.array)),this.array[t*this.itemSize+2]=Sn(e),this}getW(t){let e=_n(this.array[t*this.itemSize+3]);return this.normalized&&(e=Tr(e,this.array)),e}setW(t,e){return this.normalized&&(e=Cr(e,this.array)),this.array[t*this.itemSize+3]=Sn(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array)),this.array[t+0]=Sn(e),this.array[t+1]=Sn(i),this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array),r=Cr(r,this.array)),this.array[t+0]=Sn(e),this.array[t+1]=Sn(i),this.array[t+2]=Sn(r),this}setXYZW(t,e,i,r,s){return t*=this.itemSize,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array),r=Cr(r,this.array),s=Cr(s,this.array)),this.array[t+0]=Sn(e),this.array[t+1]=Sn(i),this.array[t+2]=Sn(r),this.array[t+3]=Sn(s),this}}class Nn extends Cn{constructor(t,e,i){super(new Float32Array(t),e,i)}}const En=new on,Vn=new Br,Dn=new Br;class Un{constructor(t=new Br,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):En.setFromPoints(t).getCenter(i);let r=0;for(let e=0,s=t.length;e<s;e++)r=Math.max(r,i.distanceToSquared(t[e]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Vn.subVectors(t,this.center);const e=Vn.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),i=.5*(t-this.radius);this.center.addScaledVector(Vn,i/t),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Dn.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Vn.copy(t.center).add(Dn)),this.expandByPoint(Vn.copy(t.center).sub(Dn))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}}let Wn=0;const Gn=new ns,qn=new js,Jn=new Br,Xn=new on,Hn=new on,Yn=new Br;class Zn extends xr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,'id',{value:Wn++}),this.uuid=_r(),this.name='',this.type='BufferGeometry',this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(ir(t)?Fn:kn)(t,1):this.index=t,this}setIndirect(t,e=0){return this.indirect=t,this.indirectOffset=e,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const e=(new Fr).getNormalMatrix(t);i.applyNormalMatrix(e),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Gn.makeRotationFromQuaternion(t),this.applyMatrix4(Gn),this}rotateX(t){return Gn.makeRotationX(t),this.applyMatrix4(Gn),this}rotateY(t){return Gn.makeRotationY(t),this.applyMatrix4(Gn),this}rotateZ(t){return Gn.makeRotationZ(t),this.applyMatrix4(Gn),this}translate(t,e,i){return Gn.makeTranslation(t,e,i),this.applyMatrix4(Gn),this}scale(t,e,i){return Gn.makeScale(t,e,i),this.applyMatrix4(Gn),this}lookAt(t){return qn.lookAt(t),qn.updateMatrix(),this.applyMatrix4(qn.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jn).negate(),this.translate(Jn.x,Jn.y,Jn.z),this}setFromPoints(t){const e=this.getAttribute('position');if(void 0===e){const e=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];e.push(r.x,r.y,r.z||0)}this.setAttribute('position',new Nn(e,3))}else{const i=Math.min(t.length,e.count);for(let r=0;r<i;r++){const i=t[r];e.setXYZ(r,i.x,i.y,i.z||0)}t.length>e.count&&mr('BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry.'),e.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new on);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return fr('BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.',this),void this.boundingBox.set(new Br(-1/0,-1/0,-1/0),new Br(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const i=e[t];Xn.setFromBufferAttribute(i),this.morphTargetsRelative?(Yn.addVectors(this.boundingBox.min,Xn.min),this.boundingBox.expandByPoint(Yn),Yn.addVectors(this.boundingBox.max,Xn.max),this.boundingBox.expandByPoint(Yn)):(this.boundingBox.expandByPoint(Xn.min),this.boundingBox.expandByPoint(Xn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&fr('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Un);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return fr('BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.',this),void this.boundingSphere.set(new Br,1/0);if(t){const i=this.boundingSphere.center;if(Xn.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const i=e[t];Hn.setFromBufferAttribute(i),this.morphTargetsRelative?(Yn.addVectors(Xn.min,Hn.min),Xn.expandByPoint(Yn),Yn.addVectors(Xn.max,Hn.max),Xn.expandByPoint(Yn)):(Xn.expandByPoint(Hn.min),Xn.expandByPoint(Hn.max))}Xn.getCenter(i);let r=0;for(let e=0,s=t.count;e<s;e++)Yn.fromBufferAttribute(t,e),r=Math.max(r,i.distanceToSquared(Yn));if(e)for(let s=0,n=e.length;s<n;s++){const n=e[s],o=this.morphTargetsRelative;for(let e=0,s=n.count;e<s;e++)Yn.fromBufferAttribute(n,e),o&&(Jn.fromBufferAttribute(t,e),Yn.add(Jn)),r=Math.max(r,i.distanceToSquared(Yn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&fr('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void fr('BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)');const i=e.position,r=e.normal,s=e.uv;!1===this.hasAttribute('tangent')&&this.setAttribute('tangent',new Cn(new Float32Array(4*i.count),4));const n=this.getAttribute('tangent'),o=[],a=[];for(let t=0;t<i.count;t++)o[t]=new Br,a[t]=new Br;const h=new Br,c=new Br,u=new Br,l=new zr,p=new zr,d=new zr,m=new Br,f=new Br;function y(t,e,r){h.fromBufferAttribute(i,t),c.fromBufferAttribute(i,e),u.fromBufferAttribute(i,r),l.fromBufferAttribute(s,t),p.fromBufferAttribute(s,e),d.fromBufferAttribute(s,r),c.sub(h),u.sub(h),p.sub(l),d.sub(l);const n=1/(p.x*d.y-d.x*p.y);isFinite(n)&&(m.copy(c).multiplyScalar(d.y).addScaledVector(u,-p.y).multiplyScalar(n),f.copy(u).multiplyScalar(p.x).addScaledVector(c,-d.x).multiplyScalar(n),o[t].add(m),o[e].add(m),o[r].add(m),a[t].add(f),a[e].add(f),a[r].add(f))}let g=this.groups;0===g.length&&(g=[{start:0,count:t.count}]);for(let e=0,i=g.length;e<i;++e){const i=g[e],r=i.start;for(let e=r,s=r+i.count;e<s;e+=3)y(t.getX(e+0),t.getX(e+1),t.getX(e+2))}const b=new Br,x=new Br,v=new Br,M=new Br;function w(t){v.fromBufferAttribute(r,t),M.copy(v);const e=o[t];b.copy(e),b.sub(v.multiplyScalar(v.dot(e))).normalize(),x.crossVectors(M,e);const i=x.dot(a[t])<0?-1:1;n.setXYZW(t,b.x,b.y,b.z,i)}for(let e=0,i=g.length;e<i;++e){const i=g[e],r=i.start;for(let e=r,s=r+i.count;e<s;e+=3)w(t.getX(e+0)),w(t.getX(e+1)),w(t.getX(e+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute('position');if(void 0!==e){let i=this.getAttribute('normal');if(void 0===i)i=new Cn(new Float32Array(3*e.count),3),this.setAttribute('normal',i);else for(let t=0,e=i.count;t<e;t++)i.setXYZ(t,0,0,0);const r=new Br,s=new Br,n=new Br,o=new Br,a=new Br,h=new Br,c=new Br,u=new Br;if(t)for(let l=0,p=t.count;l<p;l+=3){const p=t.getX(l+0),d=t.getX(l+1),m=t.getX(l+2);r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,d),n.fromBufferAttribute(e,m),c.subVectors(n,s),u.subVectors(r,s),c.cross(u),o.fromBufferAttribute(i,p),a.fromBufferAttribute(i,d),h.fromBufferAttribute(i,m),o.add(c),a.add(c),h.add(c),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(d,a.x,a.y,a.z),i.setXYZ(m,h.x,h.y,h.z)}else for(let t=0,o=e.count;t<o;t+=3)r.fromBufferAttribute(e,t+0),s.fromBufferAttribute(e,t+1),n.fromBufferAttribute(e,t+2),c.subVectors(n,s),u.subVectors(r,s),c.cross(u),i.setXYZ(t+0,c.x,c.y,c.z),i.setXYZ(t+1,c.x,c.y,c.z),i.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Yn.fromBufferAttribute(t,e),Yn.normalize(),t.setXYZ(e,Yn.x,Yn.y,Yn.z)}toNonIndexed(){function t(t,e){const i=t.array,r=t.itemSize,s=t.normalized,n=new i.constructor(e.length*r);let o=0,a=0;for(let s=0,h=e.length;s<h;s++){o=t.isInterleavedBufferAttribute?e[s]*t.data.stride+t.offset:e[s]*r;for(let t=0;t<r;t++)n[a++]=i[o++]}return new Cn(n,r,s)}if(null===this.index)return mr('BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.'),this;const e=new Zn,i=this.index.array,r=this.attributes;for(const s in r){const n=t(r[s],i);e.setAttribute(s,n)}const s=this.morphAttributes;for(const r in s){const n=[],o=s[r];for(let e=0,r=o.length;e<r;e++){const r=t(o[e],i);n.push(r)}e.morphAttributes[r]=n}e.morphTargetsRelative=this.morphTargetsRelative;const n=this.groups;for(let t=0,i=n.length;t<i;t++){const i=n[t];e.addGroup(i.start,i.count,i.materialIndex)}return e}toJSON(){const t={metadata:{version:4.7,type:'BufferGeometry',generator:'BufferGeometry.toJSON'}};if(t.uuid=this.uuid,t.type=this.type,''!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const e in i){const r=i[e];t.data.attributes[e]=r.toJSON(t.data)}const r={};let s=!1;for(const e in this.morphAttributes){const i=this.morphAttributes[e],n=[];for(let e=0,r=i.length;e<r;e++){const r=i[e];n.push(r.toJSON(t.data))}n.length>0&&(r[e]=n,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const n=this.groups;n.length>0&&(t.data.groups=JSON.parse(JSON.stringify(n)));const o=this.boundingSphere;return null!==o&&(t.data.boundingSphere=o.toJSON()),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone());const r=t.attributes;for(const t in r){const i=r[t];this.setAttribute(t,i.clone(e))}const s=t.morphAttributes;for(const t in s){const i=[],r=s[t];for(let t=0,s=r.length;t<s;t++)i.push(r[t].clone(e));this.morphAttributes[t]=i}this.morphTargetsRelative=t.morphTargetsRelative;const n=t.groups;for(let t=0,e=n.length;t<e;t++){const e=n[t];this.addGroup(e.start,e.count,e.materialIndex)}const o=t.boundingBox;null!==o&&(this.boundingBox=o.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:'dispose'})}}class $n{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Ei,this.updateRanges=[],this.version=0,this.uuid=_r()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let r=0,s=this.stride;r<s;r++)this.array[t+r]=e.array[i+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=_r()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=_r()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Qn=new Br;class Kn{constructor(t,e,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name='',this.data=t,this.itemSize=e,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.applyMatrix4(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.applyNormalMatrix(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Qn.fromBufferAttribute(this,e),Qn.transformDirection(t),this.setXYZ(e,Qn.x,Qn.y,Qn.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Tr(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Cr(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=Cr(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Cr(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Cr(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Cr(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Tr(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Tr(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Tr(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Tr(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array),r=Cr(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=Cr(e,this.array),i=Cr(i,this.array),r=Cr(r,this.array),s=Cr(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=s,this}clone(t){if(void 0===t){pr('InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.');const t=[];for(let e=0;e<this.count;e++){const i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return new Cn(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Kn(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){pr('InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.');const t=[];for(let e=0;e<this.count;e++){const i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}let to,eo=0;class io extends xr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,'id',{value:eo++}),this.uuid=_r(),this.name='',this.type='Material',this.blending=w,this.side=b,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=L,this.blendDst=N,this.blendEquation=T,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Vs(0,0,0),this.blendAlpha=0,this.depthFunc=$,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ii,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yi,this.stencilZFail=yi,this.stencilZPass=yi,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){mr(`Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:mr(`Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||'string'==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.7,type:'Material',generator:'Material.toJSON'}};function r(t){const e=[];for(const i in t){const r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,''!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(t).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(t).uuid),void 0!==this.dispersion&&(i.dispersion=this.dispersion),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapRotation&&(i.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==w&&(i.blending=this.blending),this.side!==b&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),this.blendSrc!==L&&(i.blendSrc=this.blendSrc),this.blendDst!==N&&(i.blendDst=this.blendDst),this.blendEquation!==T&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==$&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Ii&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==yi&&(i.stencilFail=this.stencilFail),this.stencilZFail!==yi&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==yi&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!1===this.allowOverride&&(i.allowOverride=!1),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),'round'!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),'round'!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),e){const e=r(t.textures),s=r(t.images);e.length>0&&(i.textures=e),s.length>0&&(i.images=s)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const t=e.length;i=new Array(t);for(let r=0;r!==t;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.allowOverride=t.allowOverride,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:'dispose'})}set needsUpdate(t){!0===t&&this.version++}}class ro extends io{constructor(t){super(),this.isSpriteMaterial=!0,this.type='SpriteMaterial',this.color=new Vs(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const so=new Br,no=new Br,oo=new Br,ao=new zr,ho=new zr,co=new ns,uo=new Br,lo=new Br,po=new Br,mo=new zr,fo=new zr,yo=new zr;class go extends js{constructor(t=new ro){if(super(),this.isSprite=!0,this.type='Sprite',void 0===to){to=new Zn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new $n(t,5);to.setIndex([0,1,2,0,2,3]),to.setAttribute('position',new Kn(e,3,0,!1)),to.setAttribute('uv',new Kn(e,2,3,!1))}this.geometry=to,this.material=t,this.center=new zr(.5,.5),this.count=1}raycast(t,e){null===t.camera&&fr('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),no.setFromMatrixScale(this.matrixWorld),co.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),oo.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&no.multiplyScalar(-oo.z);const i=this.material.rotation;let r,s;0!==i&&(s=Math.cos(i),r=Math.sin(i));const n=this.center;bo(uo.set(-.5,-.5,0),oo,n,no,r,s),bo(lo.set(.5,-.5,0),oo,n,no,r,s),bo(po.set(.5,.5,0),oo,n,no,r,s),mo.set(0,0),fo.set(1,0),yo.set(1,1);let o=t.ray.intersectTriangle(uo,lo,po,!1,so);if(null===o&&(bo(lo.set(-.5,.5,0),oo,n,no,r,s),fo.set(0,1),o=t.ray.intersectTriangle(uo,po,lo,!1,so),null===o))return;const a=t.ray.origin.distanceTo(so);a<t.near||a>t.far||e.push({distance:a,point:so.clone(),uv:nn.getInterpolation(so,uo,lo,po,mo,fo,yo,new zr),face:null,object:this})}copy(t,e){return super.copy(t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function bo(t,e,i,r,s,n){ao.subVectors(t,i).addScalar(.5).multiply(r),void 0!==s?(ho.x=n*ao.x-s*ao.y,ho.y=s*ao.x+n*ao.y):ho.copy(ao),t.copy(e),t.x+=ho.x,t.y+=ho.y,t.applyMatrix4(co)}const xo=new Br,vo=new Br;class Mo extends js{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type='LOD',Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let t=0,i=e.length;t<i;t++){const i=e[t];this.addLevel(i.object.clone(),i.distance,i.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const r=this.levels;let s;for(s=0;s<r.length&&!(e<r[s].distance);s++);return r.splice(s,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const t=e.splice(i,1);return this.remove(t[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,r;for(i=1,r=e.length;i<r;i++){let r=e[i].distance;if(e[i].object.visible&&(r-=r*e[i].hysteresis),t<r)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){xo.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(xo);this.getObjectForDistance(i).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){xo.setFromMatrixPosition(t.matrixWorld),vo.setFromMatrixPosition(this.matrixWorld);const i=xo.distanceTo(vo)/t.zoom;let r,s;for(e[0].object.visible=!0,r=1,s=e.length;r<s;r++){let t=e[r].distance;if(e[r].object.visible&&(t-=t*e[r].hysteresis),!(i>=t))break;e[r-1].object.visible=!1,e[r].object.visible=!0}for(this._currentLevel=r-1;r<s;r++)e[r].object.visible=!1}}toJSON(t){const e=super.toJSON(t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let t=0,r=i.length;t<r;t++){const r=i[t];e.object.levels.push({object:r.object.uuid,distance:r.distance,hysteresis:r.hysteresis})}return e}}const wo=new Br,So=new Br,_o=new Br,Ao=new Br,Oo=new Br,Po=new Br,To=new Br;class Co{constructor(t=new Br,e=new Br(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,wo)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=wo.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(wo.copy(this.origin).addScaledVector(this.direction,e),wo.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){So.copy(t).add(e).multiplyScalar(.5),_o.copy(e).sub(t).normalize(),Ao.copy(this.origin).sub(So);const s=.5*t.distanceTo(e),n=-this.direction.dot(_o),o=Ao.dot(this.direction),a=-Ao.dot(_o),h=Ao.lengthSq(),c=Math.abs(1-n*n);let u,l,p,d;if(c>0)if(u=n*a-o,l=n*o-a,d=s*c,u>=0)if(l>=-d)if(l<=d){const t=1/c;u*=t,l*=t,p=u*(u+n*l+2*o)+l*(n*u+l+2*a)+h}else l=s,u=Math.max(0,-(n*l+o)),p=-u*u+l*(l+2*a)+h;else l=-s,u=Math.max(0,-(n*l+o)),p=-u*u+l*(l+2*a)+h;else l<=-d?(u=Math.max(0,-(-n*s+o)),l=u>0?-s:Math.min(Math.max(-s,-a),s),p=-u*u+l*(l+2*a)+h):l<=d?(u=0,l=Math.min(Math.max(-s,-a),s),p=l*(l+2*a)+h):(u=Math.max(0,-(n*s+o)),l=u>0?s:Math.min(Math.max(-s,-a),s),p=-u*u+l*(l+2*a)+h);else l=n>0?-s:s,u=Math.max(0,-(n*l+o)),p=-u*u+l*(l+2*a)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(So).addScaledVector(_o,l),p}intersectSphere(t,e){wo.subVectors(t.center,this.origin);const i=wo.dot(this.direction),r=wo.dot(wo)-i*i,s=t.radius*t.radius;if(r>s)return null;const n=Math.sqrt(s-r),o=i-n,a=i+n;return a<0?null:o<0?this.at(a,e):this.at(o,e)}intersectsSphere(t){return!(t.radius<0)&&this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,s,n,o,a;const h=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,l=this.origin;return h>=0?(i=(t.min.x-l.x)*h,r=(t.max.x-l.x)*h):(i=(t.max.x-l.x)*h,r=(t.min.x-l.x)*h),c>=0?(s=(t.min.y-l.y)*c,n=(t.max.y-l.y)*c):(s=(t.max.y-l.y)*c,n=(t.min.y-l.y)*c),i>n||s>r?null:((s>i||isNaN(i))&&(i=s),(n<r||isNaN(r))&&(r=n),u>=0?(o=(t.min.z-l.z)*u,a=(t.max.z-l.z)*u):(o=(t.max.z-l.z)*u,a=(t.min.z-l.z)*u),i>a||o>r?null:((o>i||i!=i)&&(i=o),(a<r||r!=r)&&(r=a),r<0?null:this.at(i>=0?i:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,wo)}intersectTriangle(t,e,i,r,s){Oo.subVectors(e,t),Po.subVectors(i,t),To.crossVectors(Oo,Po);let n,o=this.direction.dot(To);if(o>0){if(r)return null;n=1}else{if(!(o<0))return null;n=-1,o=-o}Ao.subVectors(this.origin,t);const a=n*this.direction.dot(Po.crossVectors(Ao,Po));if(a<0)return null;const h=n*this.direction.dot(Oo.cross(Ao));if(h<0)return null;if(a+h>o)return null;const c=-n*Ao.dot(To);return c<0?null:this.at(c/o,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Io extends io{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type='MeshBasicMaterial',this.color=new Vs(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fs,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const zo=new ns,jo=new Co,Bo=new Un,ko=new Br,Ro=new Br,Fo=new Br,Lo=new Br,No=new Br,Eo=new Br,Vo=new Br,Do=new Br;class Uo extends js{constructor(t=new Zn,e=new Io){super(),this.isMesh=!0,this.type='Mesh',this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,n=i.morphTargetsRelative;e.fromBufferAttribute(r,t);const o=this.morphTargetInfluences;if(s&&o){Eo.set(0,0,0);for(let i=0,r=s.length;i<r;i++){const r=o[i],a=s[i];0!==r&&(No.fromBufferAttribute(a,t),n?Eo.addScaledVector(No,r):Eo.addScaledVector(No.sub(e),r))}e.add(Eo)}return e}raycast(t,e){const i=this.geometry,r=this.material,s=this.matrixWorld;if(void 0!==r){if(null===i.boundingSphere&&i.computeBoundingSphere(),Bo.copy(i.boundingSphere),Bo.applyMatrix4(s),jo.copy(t.ray).recast(t.near),!1===Bo.containsPoint(jo.origin)){if(null===jo.intersectSphere(Bo,ko))return;if(jo.origin.distanceToSquared(ko)>(t.far-t.near)**2)return}zo.copy(s).invert(),jo.copy(t.ray).applyMatrix4(zo),null!==i.boundingBox&&!1===jo.intersectsBox(i.boundingBox)||this._computeIntersections(t,e,jo)}}_computeIntersections(t,e,i){let r;const s=this.geometry,n=this.material,o=s.index,a=s.attributes.position,h=s.attributes.uv,c=s.attributes.uv1,u=s.attributes.normal,l=s.groups,p=s.drawRange;if(null!==o)if(Array.isArray(n))for(let s=0,a=l.length;s<a;s++){const a=l[s],d=n[a.materialIndex];for(let s=Math.max(a.start,p.start),n=Math.min(o.count,Math.min(a.start+a.count,p.start+p.count));s<n;s+=3){r=Go(this,d,t,i,h,c,u,o.getX(s),o.getX(s+1),o.getX(s+2)),r&&(r.faceIndex=Math.floor(s/3),r.face.materialIndex=a.materialIndex,e.push(r))}}else{for(let s=Math.max(0,p.start),a=Math.min(o.count,p.start+p.count);s<a;s+=3){r=Go(this,n,t,i,h,c,u,o.getX(s),o.getX(s+1),o.getX(s+2)),r&&(r.faceIndex=Math.floor(s/3),e.push(r))}}else if(void 0!==a)if(Array.isArray(n))for(let s=0,o=l.length;s<o;s++){const o=l[s],d=n[o.materialIndex];for(let s=Math.max(o.start,p.start),n=Math.min(a.count,Math.min(o.start+o.count,p.start+p.count));s<n;s+=3){r=Go(this,d,t,i,h,c,u,s,s+1,s+2),r&&(r.faceIndex=Math.floor(s/3),r.face.materialIndex=o.materialIndex,e.push(r))}}else{for(let s=Math.max(0,p.start),o=Math.min(a.count,p.start+p.count);s<o;s+=3){r=Go(this,n,t,i,h,c,u,s,s+1,s+2),r&&(r.faceIndex=Math.floor(s/3),e.push(r))}}}}function Wo(t,e,i,r,s,n,o,a){let h;if(h=e.side===x?r.intersectTriangle(o,n,s,!0,a):r.intersectTriangle(s,n,o,e.side===b,a),null===h)return null;Do.copy(a),Do.applyMatrix4(t.matrixWorld);const c=i.ray.origin.distanceTo(Do);return c<i.near||c>i.far?null:{distance:c,point:Do.clone(),object:t}}function Go(t,e,i,r,s,n,o,a,h,c){t.getVertexPosition(a,Ro),t.getVertexPosition(h,Fo),t.getVertexPosition(c,Lo);const u=Wo(t,e,i,r,Ro,Fo,Lo,Vo);if(u){const t=new Br;nn.getBarycoord(Vo,Ro,Fo,Lo,t),s&&(u.uv=nn.getInterpolatedAttribute(s,a,h,c,t,new zr)),n&&(u.uv1=nn.getInterpolatedAttribute(n,a,h,c,t,new zr)),o&&(u.normal=nn.getInterpolatedAttribute(o,a,h,c,t,new Br),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const e={a:a,b:h,c:c,normal:new Br,materialIndex:0};nn.getNormal(Ro,Fo,Lo,e.normal),u.face=e,u.barycoord=t}return u}const qo=new Br,Jo=new Qr,Xo=new Qr,Ho=new Br,Yo=new ns,Zo=new Br,$o=new Un,Qo=new ns,Ko=new Co;class ta extends Uo{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type='SkinnedMesh',this.bindMode=dt,this.bindMatrix=new ns,this.bindMatrixInverse=new ns,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new on),this.boundingBox.makeEmpty();const e=t.getAttribute('position');for(let t=0;t<e.count;t++)this.getVertexPosition(t,Zo),this.boundingBox.expandByPoint(Zo)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Un),this.boundingSphere.makeEmpty();const e=t.getAttribute('position');for(let t=0;t<e.count;t++)this.getVertexPosition(t,Zo),this.boundingSphere.expandByPoint(Zo)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,r=this.matrixWorld;void 0!==i&&(null===this.boundingSphere&&this.computeBoundingSphere(),$o.copy(this.boundingSphere),$o.applyMatrix4(r),!1!==t.ray.intersectsSphere($o)&&(Qo.copy(r).invert(),Ko.copy(t.ray).applyMatrix4(Qo),null!==this.boundingBox&&!1===Ko.intersectsBox(this.boundingBox)||this._computeIntersections(t,e,Ko)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Qr,e=this.geometry.attributes.skinWeight;for(let i=0,r=e.count;i<r;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===dt?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===mt?this.bindMatrixInverse.copy(this.bindMatrix).invert():mr('SkinnedMesh: Unrecognized bindMode: '+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,r=this.geometry;Jo.fromBufferAttribute(r.attributes.skinIndex,t),Xo.fromBufferAttribute(r.attributes.skinWeight,t),qo.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const r=Xo.getComponent(t);if(0!==r){const s=Jo.getComponent(t);Yo.multiplyMatrices(i.bones[s].matrixWorld,i.boneInverses[s]),e.addScaledVector(Ho.copy(qo).applyMatrix4(Yo),r)}}return e.applyMatrix4(this.bindMatrixInverse)}}class ea extends js{constructor(){super(),this.isBone=!0,this.type='Bone'}}class ia extends $r{constructor(t=null,e=1,i=1,r,s,n,o,a,h=_t,c=_t,u,l){super(null,n,o,a,h,c,r,s,u,l),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ra=new ns,sa=new ns;class na{constructor(t=[],e=[]){this.uuid=_r(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){mr('Skeleton: Number of inverse bone matrices does not match amount of bones.'),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new ns)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new ns;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let r=0,s=t.length;r<s;r++){const s=t[r]?t[r].matrixWorld:sa;ra.multiplyMatrices(s,e[r]),ra.toArray(i,16*r)}null!==r&&(r.needsUpdate=!0)}clone(){return new na(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new ia(e,t,t,Yt,Vt);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const i=this.bones[e];if(i.name===t)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,r=t.bones.length;i<r;i++){const r=t.bones[i];let s=e[r];void 0===s&&(mr('Skeleton: No bone found with UUID:',r),s=new ea),this.bones.push(s),this.boneInverses.push((new ns).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.7,type:'Skeleton',generator:'Skeleton.toJSON'},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let r=0,s=e.length;r<s;r++){const s=e[r];t.bones.push(s.uuid);const n=i[r];t.boneInverses.push(n.toArray())}return t}}class oa extends Cn{constructor(t,e,i,r=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const aa=new ns,ha=new ns,ca=[],ua=new on,la=new ns,pa=new Uo,da=new Un;class ma extends Uo{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new oa(new Float32Array(16*i),16),this.previousInstanceMatrix=null,this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let t=0;t<i;t++)this.setMatrixAt(t,la)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new on),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,aa),ua.copy(t.boundingBox).applyMatrix4(aa),this.boundingBox.union(ua)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new Un),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,aa),da.copy(t.boundingSphere).applyMatrix4(aa),this.boundingSphere.union(da)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.previousInstanceMatrix&&(this.previousInstanceMatrix=t.previousInstanceMatrix.clone()),null!==t.morphTexture&&(this.morphTexture=t.morphTexture.clone()),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}getMorphAt(t,e){const i=e.morphTargetInfluences,r=this.morphTexture.source.data.data,s=t*(i.length+1)+1;for(let t=0;t<i.length;t++)i[t]=r[s+t]}raycast(t,e){const i=this.matrixWorld,r=this.count;if(pa.geometry=this.geometry,pa.material=this.material,void 0!==pa.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),da.copy(this.boundingSphere),da.applyMatrix4(i),!1!==t.ray.intersectsSphere(da)))for(let s=0;s<r;s++){this.getMatrixAt(s,aa),ha.multiplyMatrices(i,aa),pa.matrixWorld=ha,pa.raycast(t,ca);for(let t=0,i=ca.length;t<i;t++){const i=ca[t];i.instanceId=s,i.object=this,e.push(i)}ca.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new oa(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}setMorphAt(t,e){const i=e.morphTargetInfluences,r=i.length+1;null===this.morphTexture&&(this.morphTexture=new ia(new Float32Array(r*this.count),r,this.count,Qt,Vt));const s=this.morphTexture.source.data.data;let n=0;for(let t=0;t<i.length;t++)n+=i[t];const o=this.geometry.morphTargetsRelative?1:1-n,a=r*t;s[a]=o,s.set(i,a+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:'dispose'}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const fa=new Br,ya=new Br,ga=new Fr;class ba{constructor(t=new Br(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=fa.subVectors(i,e).cross(ya.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(fa),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(t.start).addScaledVector(i,s)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||ga.getNormalMatrix(t),r=this.coplanarPoint(fa).applyMatrix4(t),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const xa=new Un,va=new zr(.5,.5),Ma=new Br;class wa{constructor(t=new ba,e=new ba,i=new ba,r=new ba,s=new ba,n=new ba){this.planes=[t,e,i,r,s,n]}set(t,e,i,r,s,n){const o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(n),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Zi,i=!1){const r=this.planes,s=t.elements,n=s[0],o=s[1],a=s[2],h=s[3],c=s[4],u=s[5],l=s[6],p=s[7],d=s[8],m=s[9],f=s[10],y=s[11],g=s[12],b=s[13],x=s[14],v=s[15];if(r[0].setComponents(h-n,p-c,y-d,v-g).normalize(),r[1].setComponents(h+n,p+c,y+d,v+g).normalize(),r[2].setComponents(h+o,p+u,y+m,v+b).normalize(),r[3].setComponents(h-o,p-u,y-m,v-b).normalize(),i)r[4].setComponents(a,l,f,x).normalize(),r[5].setComponents(h-a,p-l,y-f,v-x).normalize();else if(r[4].setComponents(h-a,p-l,y-f,v-x).normalize(),e===Zi)r[5].setComponents(h+a,p+l,y+f,v+x).normalize();else{if(e!==$i)throw new Error('THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: '+e);r[5].setComponents(a,l,f,x).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),xa.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),xa.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(xa)}intersectsSprite(t){xa.center.set(0,0,0);const e=va.distanceTo(t.center);return xa.radius=.7071067811865476+e,xa.applyMatrix4(t.matrixWorld),this.intersectsSphere(xa)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let t=0;t<6;t++){if(e[t].distanceToPoint(i)<r)return!1}return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(Ma.x=r.normal.x>0?t.max.x:t.min.x,Ma.y=r.normal.y>0?t.max.y:t.min.y,Ma.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(Ma)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}const Sa=new ns,_a=new wa;class Aa{constructor(){this.coordinateSystem=Zi}intersectsObject(t,e){if(!e.isArrayCamera||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(Sa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_a.setFromProjectionMatrix(Sa,r.coordinateSystem,r.reversedDepth),_a.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(Sa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_a.setFromProjectionMatrix(Sa,r.coordinateSystem,r.reversedDepth),_a.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(Sa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_a.setFromProjectionMatrix(Sa,r.coordinateSystem,r.reversedDepth),_a.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(Sa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_a.setFromProjectionMatrix(Sa,r.coordinateSystem,r.reversedDepth),_a.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const r=e.cameras[i];if(Sa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_a.setFromProjectionMatrix(Sa,r.coordinateSystem,r.reversedDepth),_a.containsPoint(t))return!0}return!1}clone(){return new Aa}}function Oa(t,e){return t-e}function Pa(t,e){return t.z-e.z}function Ta(t,e){return e.z-t.z}class Ca{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,r){const s=this.pool,n=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];n.push(o),this.index++,o.start=t,o.count=e,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const Ia=new ns,za=new Vs(1,1,1),ja=new wa,Ba=new Aa,ka=new on,Ra=new Un,Fa=new Br,La=new Br,Na=new Br,Ea=new Ca,Va=new Uo,Da=[];function Ua(t,e,i=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const s=t.count;for(let n=0;n<s;n++)for(let s=0;s<r;s++)e.setComponent(n+i,s,t.getComponent(n,s))}else e.array.set(t.array,i*r);e.needsUpdate=!0}function Wa(t,e){if(t.constructor!==e.constructor){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++)e[r]=t[r]}else{const i=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,i))}}class Ga extends Uo{constructor(t,e,i=2*e,r){super(new Zn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(4*this._maxInstanceCount);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new ia(e,t,t,Yt,Vt);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new ia(e,t,t,Kt,Et);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new ia(e,t,t,Yt,Vt);i.colorSpace=Dr.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in t.attributes){const s=t.getAttribute(r),{array:n,itemSize:o,normalized:a}=s,h=new n.constructor(i*o),c=new Cn(h,o,a);e.setAttribute(r,c)}if(null!==t.getIndex()){const t=i>65535?new Uint32Array(r):new Uint16Array(r);e.setIndex(new Cn(t,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(Boolean(t.getIndex())!==Boolean(e.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=t.getAttribute(i),s=e.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error('THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.')}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||!1===e[t].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||!1===e[t].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new on);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,r=e.length;i<r;i++){if(!1===e[i].active)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,Ia),this.getBoundingBoxAt(r,ka).applyMatrix4(Ia),t.union(ka)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Un);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,r=e.length;i<r;i++){if(!1===e[i].active)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,Ia),this.getBoundingSphereAt(r,Ra).applyMatrix4(Ia),t.union(Ra)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error('THREE.BatchedMesh: Maximum item count reached.');const e={visible:!0,active:!0,geometryIndex:t};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Oa),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=e):(i=this._instanceInfo.length,this._instanceInfo.push(e));const r=this._matricesTexture;Ia.identity().toArray(r.image.data,16*i),r.needsUpdate=!0;const s=this._colorsTexture;return s&&(za.toArray(s.image.data,4*i),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=-1===e?t.getAttribute('position').count:e;const n=t.getIndex();if(null!==n&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=-1===i?n.count:i),-1!==r.indexStart&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error('THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.');let o;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Oa),o=this._availableGeometryIds.shift(),s[o]=r):(o=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(o,t),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,o}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error('THREE.BatchedMesh: Maximum geometry count reached.');this._validateGeometry(e);const i=this.geometry,r=null!==i.getIndex(),s=i.getIndex(),n=e.getIndex(),o=this._geometryInfo[t];if(r&&n.count>o.reservedIndexCount||e.attributes.position.count>o.reservedVertexCount)throw new Error('THREE.BatchedMesh: Reserved space not large enough for provided geometry.');const a=o.vertexStart,h=o.reservedVertexCount;o.vertexCount=e.getAttribute('position').count;for(const t in i.attributes){const r=e.getAttribute(t),s=i.getAttribute(t);Ua(r,s,a);const n=r.itemSize;for(let t=r.count,e=h;t<e;t++){const e=a+t;for(let t=0;t<n;t++)s.setComponent(e,t,0)}s.needsUpdate=!0,s.addUpdateRange(a*n,h*n)}if(r){const t=o.indexStart,i=o.reservedIndexCount;o.indexCount=e.getIndex().count;for(let e=0;e<n.count;e++)s.setX(t+e,a+n.getX(e));for(let e=n.count,r=i;e<r;e++)s.setX(t+e,a);s.needsUpdate=!0,s.addUpdateRange(t,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,null!==e.boundingBox&&(o.boundingBox=e.boundingBox.clone()),o.boundingSphere=null,null!==e.boundingSphere&&(o.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||!1===e[t].active)return this;const i=this._instanceInfo;for(let e=0,r=i.length;e<r;e++)i[e].active&&i[e].geometryIndex===t&&this.deleteInstance(e);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,r=i.map((t,e)=>e).sort((t,e)=>i[t].vertexStart-i[e].vertexStart),s=this.geometry;for(let n=0,o=i.length;n<o;n++){const o=r[n],a=i[o];if(!1!==a.active){if(null!==s.index){if(a.indexStart!==e){const{indexStart:i,vertexStart:r,reservedIndexCount:n}=a,o=s.index,h=o.array,c=t-r;for(let t=i;t<i+n;t++)h[t]=h[t]+c;o.array.copyWithin(e,i,i+n),o.addUpdateRange(e,n),o.needsUpdate=!0,a.indexStart=e}e+=a.reservedIndexCount}if(a.vertexStart!==t){const{vertexStart:e,reservedVertexCount:i}=a,r=s.attributes;for(const s in r){const n=r[s],{array:o,itemSize:a}=n;o.copyWithin(t*a,e*a,(e+i)*a),n.addUpdateRange(t*a,i*a),n.needsUpdate=!0}a.vertexStart=t}t+=a.reservedVertexCount,a.start=s.index?a.indexStart:a.vertexStart}}return this._nextIndexStart=e,this._nextVertexStart=t,this._visibilityChanged=!0,this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[t];if(null===r.boundingBox){const t=new on,e=i.index,s=i.attributes.position;for(let i=r.start,n=r.start+r.count;i<n;i++){let r=i;e&&(r=e.getX(r)),t.expandByPoint(Fa.fromBufferAttribute(s,r))}r.boundingBox=t}return e.copy(r.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[t];if(null===r.boundingSphere){const e=new Un;this.getBoundingBoxAt(t,ka),ka.getCenter(e.center);const s=i.index,n=i.attributes.position;let o=0;for(let t=r.start,i=r.start+r.count;t<i;t++){let i=t;s&&(i=s.getX(i)),Fa.fromBufferAttribute(n,i),o=Math.max(o,e.center.distanceToSquared(Fa))}e.radius=Math.sqrt(o),r.boundingSphere=e}return e.copy(r.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,r=this._matricesTexture.image.data;return e.toArray(r,16*t),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,16*t)}setColorAt(t,e){return this.validateInstanceId(t),null===this._colorsTexture&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,4*t),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,4*t)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e||(this._instanceInfo[t].visible=e,this._visibilityChanged=!0),this}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(Oa);e[e.length-1]===i.length-1;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const r=new Int32Array(t),s=new Int32Array(t);Wa(this._multiDrawCounts,r),Wa(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=t;const n=this._indirectTexture,o=this._matricesTexture,a=this._colorsTexture;n.dispose(),this._initIndirectTexture(),Wa(n.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Wa(o.image.data,this._matricesTexture.image.data),a&&(a.dispose(),this._initColorsTexture(),Wa(a.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(t=>t.active);if(Math.max(...i.map(t=>t.vertexStart+t.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index){if(Math.max(...i.map(t=>t.indexStart+t.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`)}const r=this.geometry;r.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Zn,this._initializeGeometry(r));const s=this.geometry;r.index&&Wa(r.index.array,s.index.array);for(const t in r.attributes)Wa(r.attributes[t].array,s.attributes[t].array)}raycast(t,e){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,n=this.geometry;Va.material=this.material,Va.geometry.index=n.index,Va.geometry.attributes=n.attributes,null===Va.geometry.boundingBox&&(Va.geometry.boundingBox=new on),null===Va.geometry.boundingSphere&&(Va.geometry.boundingSphere=new Un);for(let n=0,o=i.length;n<o;n++){if(!i[n].visible||!i[n].active)continue;const o=i[n].geometryIndex,a=r[o];Va.geometry.setDrawRange(a.start,a.count),this.getMatrixAt(n,Va.matrixWorld).premultiply(s),this.getBoundingBoxAt(o,Va.geometry.boundingBox),this.getBoundingSphereAt(o,Va.geometry.boundingSphere),Va.raycast(t,Da);for(let t=0,i=Da.length;t<i;t++){const i=Da[t];i.object=this,i.batchId=n,e.push(i)}Da.length=0}Va.material=null,Va.geometry.index=null,Va.geometry.attributes={},Va.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=null!==t.boundingBox?t.boundingBox.clone():null,this.boundingSphere=null!==t.boundingSphere?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(t=>Object.assign({},t,{boundingBox:null!==t.boundingBox?t.boundingBox.clone():null,boundingSphere:null!==t.boundingSphere?t.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(t=>Object.assign({},t)),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const n=r.getIndex();let o=null===n?1:n.array.BYTES_PER_ELEMENT,a=1;s.wireframe&&(a=2,o=r.attributes.position.count>65535?4:2);const h=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,l=this._geometryInfo,p=this.perObjectFrustumCulled,d=this._indirectTexture,m=d.image.data,f=i.isArrayCamera?Ba:ja;p&&!i.isArrayCamera&&(Ia.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),ja.setFromProjectionMatrix(Ia,i.coordinateSystem,i.reversedDepth));let y=0;if(this.sortObjects){Ia.copy(this.matrixWorld).invert(),Fa.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Ia),La.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Ia);for(let t=0,e=h.length;t<e;t++)if(h[t].visible&&h[t].active){const e=h[t].geometryIndex;this.getMatrixAt(t,Ia),this.getBoundingSphereAt(e,Ra).applyMatrix4(Ia);let r=!1;if(p&&(r=!f.intersectsSphere(Ra,i)),!r){const i=l[e],r=Na.subVectors(Ra.center,Fa).dot(La);Ea.push(i.start,i.count,r,t)}}const t=Ea.list,e=this.customSort;null===e?t.sort(s.transparent?Ta:Pa):e.call(this,t,i);for(let e=0,i=t.length;e<i;e++){const i=t[e];c[y]=i.start*o*a,u[y]=i.count*a,m[y]=i.index,y++}Ea.reset()}else for(let t=0,e=h.length;t<e;t++)if(h[t].visible&&h[t].active){const e=h[t].geometryIndex;let r=!1;if(p&&(this.getMatrixAt(t,Ia),this.getBoundingSphereAt(e,Ra).applyMatrix4(Ia),r=!f.intersectsSphere(Ra,i)),!r){const i=l[e];c[y]=i.start*o*a,u[y]=i.count*a,m[y]=t,y++}}d.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(t,e,i,r,s,n){this.onBeforeRender(t,null,r,s,n)}}class qa extends io{constructor(t){super(),this.isLineBasicMaterial=!0,this.type='LineBasicMaterial',this.color=new Vs(16777215),this.map=null,this.linewidth=1,this.linecap='round',this.linejoin='round',this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Ja=new Br,Xa=new Br,Ha=new ns,Ya=new Co,Za=new Un,$a=new Br,Qa=new Br;class Ka extends js{constructor(t=new Zn,e=new qa){super(),this.isLine=!0,this.type='Line',this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[0];for(let t=1,r=e.count;t<r;t++)Ja.fromBufferAttribute(e,t-1),Xa.fromBufferAttribute(e,t),i[t]=i[t-1],i[t]+=Ja.distanceTo(Xa);t.setAttribute('lineDistance',new Nn(i,1))}else mr('Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,s=t.params.Line.threshold,n=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Za.copy(i.boundingSphere),Za.applyMatrix4(r),Za.radius+=s,!1===t.ray.intersectsSphere(Za))return;Ha.copy(r).invert(),Ya.copy(t.ray).applyMatrix4(Ha);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,h=this.isLineSegments?2:1,c=i.index,u=i.attributes.position;if(null!==c){const i=Math.max(0,n.start),r=Math.min(c.count,n.start+n.count);for(let s=i,n=r-1;s<n;s+=h){const i=c.getX(s),r=c.getX(s+1),n=th(this,t,Ya,a,i,r,s);n&&e.push(n)}if(this.isLineLoop){const s=c.getX(r-1),n=c.getX(i),o=th(this,t,Ya,a,s,n,r-1);o&&e.push(o)}}else{const i=Math.max(0,n.start),r=Math.min(u.count,n.start+n.count);for(let s=i,n=r-1;s<n;s+=h){const i=th(this,t,Ya,a,s,s+1,s);i&&e.push(i)}if(this.isLineLoop){const s=th(this,t,Ya,a,r-1,i,r-1);s&&e.push(s)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function th(t,e,i,r,s,n,o){const a=t.geometry.attributes.position;Ja.fromBufferAttribute(a,s),Xa.fromBufferAttribute(a,n);if(i.distanceSqToSegment(Ja,Xa,$a,Qa)>r)return;$a.applyMatrix4(t.matrixWorld);const h=e.ray.origin.distanceTo($a);return h<e.near||h>e.far?void 0:{distance:h,point:Qa.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const eh=new Br,ih=new Br;class rh extends Ka{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type='LineSegments'}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[];for(let t=0,r=e.count;t<r;t+=2)eh.fromBufferAttribute(e,t),ih.fromBufferAttribute(e,t+1),i[t]=0===t?0:i[t-1],i[t+1]=i[t]+eh.distanceTo(ih);t.setAttribute('lineDistance',new Nn(i,1))}else mr('LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');return this}}class sh extends Ka{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type='LineLoop'}}class nh extends io{constructor(t){super(),this.isPointsMaterial=!0,this.type='PointsMaterial',this.color=new Vs(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const oh=new ns,ah=new Co,hh=new Un,ch=new Br;class uh extends js{constructor(t=new Zn,e=new nh){super(),this.isPoints=!0,this.type='Points',this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,s=t.params.Points.threshold,n=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),hh.copy(i.boundingSphere),hh.applyMatrix4(r),hh.radius+=s,!1===t.ray.intersectsSphere(hh))return;oh.copy(r).invert(),ah.copy(t.ray).applyMatrix4(oh);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,h=i.index,c=i.attributes.position;if(null!==h){for(let i=Math.max(0,n.start),s=Math.min(h.count,n.start+n.count);i<s;i++){const s=h.getX(i);ch.fromBufferAttribute(c,s),lh(ch,s,a,r,t,e,this)}}else{for(let i=Math.max(0,n.start),s=Math.min(c.count,n.start+n.count);i<s;i++)ch.fromBufferAttribute(c,i),lh(ch,i,a,r,t,e,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function lh(t,e,i,r,s,n,o){const a=ah.distanceSqToPoint(t);if(a<i){const i=new Br;ah.closestPointToPoint(t,i),i.applyMatrix4(r);const h=s.ray.origin.distanceTo(i);if(h<s.near||h>s.far)return;n.push({distance:h,distanceToRay:Math.sqrt(a),point:i,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class ph extends $r{constructor(t,e,i,r,s=Ct,n=Ct,o,a,h){super(t,e,i,r,s,n,o,a,h),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;'requestVideoFrameCallback'in t&&(this._requestVideoFrameCallbackId=t.requestVideoFrameCallback(function e(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=t.requestVideoFrameCallback(e)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!1==='requestVideoFrameCallback'in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){0!==this._requestVideoFrameCallbackId&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class dh extends ph{constructor(t,e,i,r,s,n,o,a){super({},t,e,i,r,s,n,o,a),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class mh extends $r{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=_t,this.minFilter=_t,this.generateMipmaps=!1,this.needsUpdate=!0}}class fh extends $r{constructor(t,e,i,r,s,n,o,a,h,c,u,l){super(null,n,o,a,h,c,r,s,u,l),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class yh extends fh{constructor(t,e,i,r,s,n){super(t,e,i,s,n),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=wt,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class gh extends fh{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,yt),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class bh extends $r{constructor(t=[],e=yt,i,r,s,n,o,a,h,c){super(t,e,i,r,s,n,o,a,h,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class xh extends $r{constructor(t,e,i,r,s,n,o,a,h){super(t,e,i,r,s,n,o,a,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class vh extends $r{constructor(t,e,i=Et,r,s,n,o=_t,a=_t,h,c=Zt,u=1){if(c!==Zt&&c!==$t)throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');super({width:t,height:e,depth:u},r,s,n,o,a,c,i,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Xr(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class Mh extends vh{constructor(t,e=Et,i=yt,r,s,n=_t,o=_t,a,h=Zt){const c={width:t,height:t,depth:1},u=[c,c,c,c,c,c];super(t,t,e,i,r,s,n,o,a,h),this.image=u,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(t){this.image=t}}class wh extends $r{constructor(t=null){super(),this.sourceTexture=t,this.isExternalTexture=!0}copy(t){return super.copy(t),this.sourceTexture=t.sourceTexture,this}}class Sh extends Zn{constructor(t=1,e=1,i=1,r=1,s=1,n=1){super(),this.type='BoxGeometry',this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:s,depthSegments:n};const o=this;r=Math.floor(r),s=Math.floor(s),n=Math.floor(n);const a=[],h=[],c=[],u=[];let l=0,p=0;function d(t,e,i,r,s,n,d,m,f,y,g){const b=n/f,x=d/y,v=n/2,M=d/2,w=m/2,S=f+1,_=y+1;let A=0,O=0;const P=new Br;for(let n=0;n<_;n++){const o=n*x-M;for(let a=0;a<S;a++){const l=a*b-v;P[t]=l*r,P[e]=o*s,P[i]=w,h.push(P.x,P.y,P.z),P[t]=0,P[e]=0,P[i]=m>0?1:-1,c.push(P.x,P.y,P.z),u.push(a/f),u.push(1-n/y),A+=1}}for(let t=0;t<y;t++)for(let e=0;e<f;e++){const i=l+e+S*t,r=l+e+S*(t+1),s=l+(e+1)+S*(t+1),n=l+(e+1)+S*t;a.push(i,r,n),a.push(r,s,n),O+=6}o.addGroup(p,O,g),p+=O,l+=A}d('z','y','x',-1,-1,i,e,t,n,s,0),d('z','y','x',1,-1,i,e,-t,n,s,1),d('x','z','y',1,1,t,i,e,r,n,2),d('x','z','y',1,-1,t,i,-e,r,n,3),d('x','y','z',1,-1,t,e,i,r,s,4),d('x','y','z',-1,-1,t,e,-i,r,s,5),this.setIndex(a),this.setAttribute('position',new Nn(h,3)),this.setAttribute('normal',new Nn(c,3)),this.setAttribute('uv',new Nn(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Sh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}class _h extends Zn{constructor(t=1,e=1,i=4,r=8,s=1){super(),this.type='CapsuleGeometry',this.parameters={radius:t,height:e,capSegments:i,radialSegments:r,heightSegments:s},e=Math.max(0,e),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const n=[],o=[],a=[],h=[],c=e/2,u=Math.PI/2*t,l=e,p=2*u+l,d=2*i+s,m=r+1,f=new Br,y=new Br;for(let g=0;g<=d;g++){let b=0,x=0,v=0,M=0;if(g<=i){const e=g/i,r=e*Math.PI/2;x=-c-t*Math.cos(r),v=t*Math.sin(r),M=-t*Math.cos(r),b=e*u}else if(g<=i+s){const r=(g-i)/s;x=r*e-c,v=t,M=0,b=u+r*l}else{const e=(g-i-s)/i,r=e*Math.PI/2;x=c+t*Math.sin(r),v=t*Math.cos(r),M=t*Math.sin(r),b=u+l+e*u}const w=Math.max(0,Math.min(1,b/p));let S=0;0===g?S=.5/r:g===d&&(S=-.5/r);for(let t=0;t<=r;t++){const e=t/r,i=e*Math.PI*2,s=Math.sin(i),n=Math.cos(i);y.x=-v*n,y.y=x,y.z=v*s,o.push(y.x,y.y,y.z),f.set(-v*n,M,v*s),f.normalize(),a.push(f.x,f.y,f.z),h.push(e+S,w)}if(g>0){const t=(g-1)*m;for(let e=0;e<r;e++){const i=t+e,r=t+e+1,s=g*m+e,o=g*m+e+1;n.push(i,r,s),n.push(r,o,s)}}}this.setIndex(n),this.setAttribute('position',new Nn(o,3)),this.setAttribute('normal',new Nn(a,3)),this.setAttribute('uv',new Nn(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new _h(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class Ah extends Zn{constructor(t=1,e=32,i=0,r=2*Math.PI){super(),this.type='CircleGeometry',this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},e=Math.max(3,e);const s=[],n=[],o=[],a=[],h=new Br,c=new zr;n.push(0,0,0),o.push(0,0,1),a.push(.5,.5);for(let s=0,u=3;s<=e;s++,u+=3){const l=i+s/e*r;h.x=t*Math.cos(l),h.y=t*Math.sin(l),n.push(h.x,h.y,h.z),o.push(0,0,1),c.x=(n[u]/t+1)/2,c.y=(n[u+1]/t+1)/2,a.push(c.x,c.y)}for(let t=1;t<=e;t++)s.push(t,t+1,0);this.setIndex(s),this.setAttribute('position',new Nn(n,3)),this.setAttribute('normal',new Nn(o,3)),this.setAttribute('uv',new Nn(a,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Ah(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Oh extends Zn{constructor(t=1,e=1,i=1,r=32,s=1,n=!1,o=0,a=2*Math.PI){super(),this.type='CylinderGeometry',this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:s,openEnded:n,thetaStart:o,thetaLength:a};const h=this;r=Math.floor(r),s=Math.floor(s);const c=[],u=[],l=[],p=[];let d=0;const m=[],f=i/2;let y=0;function g(i){const s=d,n=new zr,m=new Br;let g=0;const b=!0===i?t:e,x=!0===i?1:-1;for(let t=1;t<=r;t++)u.push(0,f*x,0),l.push(0,x,0),p.push(.5,.5),d++;const v=d;for(let t=0;t<=r;t++){const e=t/r*a+o,i=Math.cos(e),s=Math.sin(e);m.x=b*s,m.y=f*x,m.z=b*i,u.push(m.x,m.y,m.z),l.push(0,x,0),n.x=.5*i+.5,n.y=.5*s*x+.5,p.push(n.x,n.y),d++}for(let t=0;t<r;t++){const e=s+t,r=v+t;!0===i?c.push(r,r+1,e):c.push(r+1,r,e),g+=3}h.addGroup(y,g,!0===i?1:2),y+=g}!(function(){const n=new Br,g=new Br;let b=0;const x=(e-t)/i;for(let h=0;h<=s;h++){const c=[],y=h/s,b=y*(e-t)+t;for(let t=0;t<=r;t++){const e=t/r,s=e*a+o,h=Math.sin(s),m=Math.cos(s);g.x=b*h,g.y=-y*i+f,g.z=b*m,u.push(g.x,g.y,g.z),n.set(h,x,m).normalize(),l.push(n.x,n.y,n.z),p.push(e,1-y),c.push(d++)}m.push(c)}for(let i=0;i<r;i++)for(let r=0;r<s;r++){const n=m[r][i],o=m[r+1][i],a=m[r+1][i+1],h=m[r][i+1];(t>0||0!==r)&&(c.push(n,o,h),b+=3),(e>0||r!==s-1)&&(c.push(o,a,h),b+=3)}h.addGroup(y,b,0),y+=b})(),!1===n&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(c),this.setAttribute('position',new Nn(u,3)),this.setAttribute('normal',new Nn(l,3)),this.setAttribute('uv',new Nn(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Oh(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Ph extends Oh{constructor(t=1,e=1,i=32,r=1,s=!1,n=0,o=2*Math.PI){super(0,t,e,i,r,s,n,o),this.type='ConeGeometry',this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:n,thetaLength:o}}static fromJSON(t){return new Ph(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Th extends Zn{constructor(t=[],e=[],i=1,r=0){super(),this.type='PolyhedronGeometry',this.parameters={vertices:t,indices:e,radius:i,detail:r};const s=[],n=[];function o(t,e,i,r){const s=r+1,n=[];for(let r=0;r<=s;r++){n[r]=[];const o=t.clone().lerp(i,r/s),a=e.clone().lerp(i,r/s),h=s-r;for(let t=0;t<=h;t++)n[r][t]=0===t&&r===s?o:o.clone().lerp(a,t/h)}for(let t=0;t<s;t++)for(let e=0;e<2*(s-t)-1;e++){const i=Math.floor(e/2);e%2==0?(h(n[t][i+1]),h(n[t+1][i]),h(n[t][i])):(h(n[t][i+1]),h(n[t+1][i+1]),h(n[t+1][i]))}}function a(){for(let t=0;t<n.length;t+=6){const e=n[t+0],i=n[t+2],r=n[t+4],s=Math.max(e,i,r),o=Math.min(e,i,r);s>.9&&o<.1&&(e<.2&&(n[t+0]+=1),i<.2&&(n[t+2]+=1),r<.2&&(n[t+4]+=1))}}function h(t){s.push(t.x,t.y,t.z)}function c(e,i){const r=3*e;i.x=t[r+0],i.y=t[r+1],i.z=t[r+2]}function u(){const t=new Br,e=new Br,i=new Br,r=new Br,o=new zr,a=new zr,h=new zr;for(let c=0,u=0;c<s.length;c+=9,u+=6){t.set(s[c+0],s[c+1],s[c+2]),e.set(s[c+3],s[c+4],s[c+5]),i.set(s[c+6],s[c+7],s[c+8]),o.set(n[u+0],n[u+1]),a.set(n[u+2],n[u+3]),h.set(n[u+4],n[u+5]),r.copy(t).add(e).add(i).divideScalar(3);const d=p(r);l(o,u+0,t,d),l(a,u+2,e,d),l(h,u+4,i,d)}}function l(t,e,i,r){r<0&&1===t.x&&(n[e]=t.x-1),0===i.x&&0===i.z&&(n[e]=r/2/Math.PI+.5)}function p(t){return Math.atan2(t.z,-t.x)}function d(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!(function(t){const i=new Br,r=new Br,s=new Br;for(let n=0;n<e.length;n+=3)c(e[n+0],i),c(e[n+1],r),c(e[n+2],s),o(i,r,s,t)})(r),(function(t){const e=new Br;for(let i=0;i<s.length;i+=3)e.x=s[i+0],e.y=s[i+1],e.z=s[i+2],e.normalize().multiplyScalar(t),s[i+0]=e.x,s[i+1]=e.y,s[i+2]=e.z})(i),(function(){const t=new Br;for(let e=0;e<s.length;e+=3){t.x=s[e+0],t.y=s[e+1],t.z=s[e+2];const i=p(t)/2/Math.PI+.5,r=d(t)/Math.PI+.5;n.push(i,1-r)}u(),a()})(),this.setAttribute('position',new Nn(s,3)),this.setAttribute('normal',new Nn(s.slice(),3)),this.setAttribute('uv',new Nn(n,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Th(t.vertices,t.indices,t.radius,t.detail)}}class Ch extends Th{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,r=.6180339887498948;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-.6180339887498948,-1.618033988749895,0,-.6180339887498948,i,0,r,-1.618033988749895,0,r,i,-.6180339887498948,-1.618033988749895,0,-.6180339887498948,i,0,r,-1.618033988749895,0,r,i,0,-1.618033988749895,0,-.6180339887498948,i,0,-.6180339887498948,-1.618033988749895,0,r,i,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type='DodecahedronGeometry',this.parameters={radius:t,detail:e}}static fromJSON(t){return new Ch(t.radius,t.detail)}}const Ih=new Br,zh=new Br,jh=new Br,Bh=new nn;class kh extends Zn{constructor(t=null,e=1){if(super(),this.type='EdgesGeometry',this.parameters={geometry:t,thresholdAngle:e},null!==t){const i=4,r=Math.pow(10,i),s=Math.cos(wr*e),n=t.getIndex(),o=t.getAttribute('position'),a=n?n.count:o.count,h=[0,0,0],c=['a','b','c'],u=new Array(3),l={},p=[];for(let t=0;t<a;t+=3){n?(h[0]=n.getX(t),h[1]=n.getX(t+1),h[2]=n.getX(t+2)):(h[0]=t,h[1]=t+1,h[2]=t+2);const{a:e,b:i,c:a}=Bh;if(e.fromBufferAttribute(o,h[0]),i.fromBufferAttribute(o,h[1]),a.fromBufferAttribute(o,h[2]),Bh.getNormal(jh),u[0]=`${Math.round(e.x*r)},${Math.round(e.y*r)},${Math.round(e.z*r)}`,u[1]=`${Math.round(i.x*r)},${Math.round(i.y*r)},${Math.round(i.z*r)}`,u[2]=`${Math.round(a.x*r)},${Math.round(a.y*r)},${Math.round(a.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let t=0;t<3;t++){const e=(t+1)%3,i=u[t],r=u[e],n=Bh[c[t]],o=Bh[c[e]],a=`${i}_${r}`,d=`${r}_${i}`;d in l&&l[d]?(jh.dot(l[d].normal)<=s&&(p.push(n.x,n.y,n.z),p.push(o.x,o.y,o.z)),l[d]=null):a in l||(l[a]={index0:h[t],index1:h[e],normal:jh.clone()})}}for(const t in l)if(l[t]){const{index0:e,index1:i}=l[t];Ih.fromBufferAttribute(o,e),zh.fromBufferAttribute(o,i),p.push(Ih.x,Ih.y,Ih.z),p.push(zh.x,zh.y,zh.z)}this.setAttribute('position',new Nn(p,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Rh{constructor(){this.type='Curve',this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){mr('Curve: .getPoint() not implemented.')}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,r=this.getPoint(0),s=0;e.push(0);for(let n=1;n<=t;n++)i=this.getPoint(n/t),s+=i.distanceTo(r),e.push(s),r=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let r=0;const s=i.length;let n;n=e||t*i[s-1];let o,a=0,h=s-1;for(;a<=h;)if(r=Math.floor(a+(h-a)/2),o=i[r]-n,o<0)a=r+1;else{if(!(o>0)){h=r;break}h=r-1}if(r=h,i[r]===n)return r/(s-1);const c=i[r];return(r+(n-c)/(i[r+1]-c))/(s-1)}getTangent(t,e){const i=1e-4;let r=t-i,s=t+i;r<0&&(r=0),s>1&&(s=1);const n=this.getPoint(r),o=this.getPoint(s),a=e||(n.isVector2?new zr:new Br);return a.copy(o).sub(n).normalize(),a}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new Br,r=[],s=[],n=[],o=new Br,a=new ns;for(let e=0;e<=t;e++){const i=e/t;r[e]=this.getTangentAt(i,new Br)}s[0]=new Br,n[0]=new Br;let h=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),l=Math.abs(r[0].z);c<=h&&(h=c,i.set(1,0,0)),u<=h&&(h=u,i.set(0,1,0)),l<=h&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),n[0].crossVectors(r[0],s[0]);for(let e=1;e<=t;e++){if(s[e]=s[e-1].clone(),n[e]=n[e-1].clone(),o.crossVectors(r[e-1],r[e]),o.length()>Number.EPSILON){o.normalize();const t=Math.acos(Ar(r[e-1].dot(r[e]),-1,1));s[e].applyMatrix4(a.makeRotationAxis(o,t))}n[e].crossVectors(r[e],s[e])}if(!0===e){let e=Math.acos(Ar(s[0].dot(s[t]),-1,1));e/=t,r[0].dot(o.crossVectors(s[0],s[t]))>0&&(e=-e);for(let i=1;i<=t;i++)s[i].applyMatrix4(a.makeRotationAxis(r[i],e*i)),n[i].crossVectors(r[i],s[i])}return{tangents:r,normals:s,binormals:n}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.7,type:'Curve',generator:'Curve.toJSON'}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Fh extends Rh{constructor(t=0,e=0,i=1,r=1,s=0,n=2*Math.PI,o=!1,a=0){super(),this.isEllipseCurve=!0,this.type='EllipseCurve',this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=n,this.aClockwise=o,this.aRotation=a}getPoint(t,e=new zr){const i=e,r=2*Math.PI;let s=this.aEndAngle-this.aStartAngle;const n=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=n?0:r),!0!==this.aClockwise||n||(s===r?s=-r:s-=r);const o=this.aStartAngle+t*s;let a=this.aX+this.xRadius*Math.cos(o),h=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),i=a-this.aX,r=h-this.aY;a=i*t-r*e+this.aX,h=i*e+r*t+this.aY}return i.set(a,h)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class Lh extends Fh{constructor(t,e,i,r,s,n){super(t,e,i,i,r,s,n),this.isArcCurve=!0,this.type='ArcCurve'}}function Nh(){let t=0,e=0,i=0,r=0;function s(s,n,o,a){t=s,e=o,i=-3*s+3*n-2*o-a,r=2*s-2*n+o+a}return{initCatmullRom:function(t,e,i,r,n){s(e,i,n*(i-t),n*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,n,o,a){let h=(e-t)/n-(i-t)/(n+o)+(i-e)/o,c=(i-e)/o-(r-e)/(o+a)+(r-i)/a;h*=o,c*=o,s(e,i,h,c)},calc:function(s){const n=s*s;return t+e*s+i*n+r*(n*s)}}}const Eh=new Br,Vh=new Nh,Dh=new Nh,Uh=new Nh;class Wh extends Rh{constructor(t=[],e=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type='CatmullRomCurve3',this.points=t,this.closed=e,this.curveType=i,this.tension=r}getPoint(t,e=new Br){const i=e,r=this.points,s=r.length,n=(s-(this.closed?0:1))*t;let o,a,h=Math.floor(n),c=n-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/s)+1)*s:0===c&&h===s-1&&(h=s-2,c=1),this.closed||h>0?o=r[(h-1)%s]:(Eh.subVectors(r[0],r[1]).add(r[0]),o=Eh);const u=r[h%s],l=r[(h+1)%s];if(this.closed||h+2<s?a=r[(h+2)%s]:(Eh.subVectors(r[s-1],r[s-2]).add(r[s-1]),a=Eh),'centripetal'===this.curveType||'chordal'===this.curveType){const t='chordal'===this.curveType?.5:.25;let e=Math.pow(o.distanceToSquared(u),t),i=Math.pow(u.distanceToSquared(l),t),r=Math.pow(l.distanceToSquared(a),t);i<1e-4&&(i=1),e<1e-4&&(e=i),r<1e-4&&(r=i),Vh.initNonuniformCatmullRom(o.x,u.x,l.x,a.x,e,i,r),Dh.initNonuniformCatmullRom(o.y,u.y,l.y,a.y,e,i,r),Uh.initNonuniformCatmullRom(o.z,u.z,l.z,a.z,e,i,r)}else'catmullrom'===this.curveType&&(Vh.initCatmullRom(o.x,u.x,l.x,a.x,this.tension),Dh.initCatmullRom(o.y,u.y,l.y,a.y,this.tension),Uh.initCatmullRom(o.z,u.z,l.z,a.z,this.tension));return i.set(Vh.calc(c),Dh.calc(c),Uh.calc(c)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push((new Br).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Gh(t,e,i,r,s){const n=.5*(r-e),o=.5*(s-i),a=t*t;return(2*i-2*r+n+o)*(t*a)+(-3*i+3*r-2*n-o)*a+n*t+i}function qh(t,e){const i=1-t;return i*i*e}function Jh(t,e){return 2*(1-t)*t*e}function Xh(t,e){return t*t*e}function Hh(t,e,i,r){return qh(t,e)+Jh(t,i)+Xh(t,r)}function Yh(t,e){const i=1-t;return i*i*i*e}function Zh(t,e){const i=1-t;return 3*i*i*t*e}function $h(t,e){return 3*(1-t)*t*t*e}function Qh(t,e){return t*t*t*e}function Kh(t,e,i,r,s){return Yh(t,e)+Zh(t,i)+$h(t,r)+Qh(t,s)}class tc extends Rh{constructor(t=new zr,e=new zr,i=new zr,r=new zr){super(),this.isCubicBezierCurve=!0,this.type='CubicBezierCurve',this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new zr){const i=e,r=this.v0,s=this.v1,n=this.v2,o=this.v3;return i.set(Kh(t,r.x,s.x,n.x,o.x),Kh(t,r.y,s.y,n.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class ec extends Rh{constructor(t=new Br,e=new Br,i=new Br,r=new Br){super(),this.isCubicBezierCurve3=!0,this.type='CubicBezierCurve3',this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new Br){const i=e,r=this.v0,s=this.v1,n=this.v2,o=this.v3;return i.set(Kh(t,r.x,s.x,n.x,o.x),Kh(t,r.y,s.y,n.y,o.y),Kh(t,r.z,s.z,n.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class ic extends Rh{constructor(t=new zr,e=new zr){super(),this.isLineCurve=!0,this.type='LineCurve',this.v1=t,this.v2=e}getPoint(t,e=new zr){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new zr){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class rc extends Rh{constructor(t=new Br,e=new Br){super(),this.isLineCurve3=!0,this.type='LineCurve3',this.v1=t,this.v2=e}getPoint(t,e=new Br){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Br){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class sc extends Rh{constructor(t=new zr,e=new zr,i=new zr){super(),this.isQuadraticBezierCurve=!0,this.type='QuadraticBezierCurve',this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new zr){const i=e,r=this.v0,s=this.v1,n=this.v2;return i.set(Hh(t,r.x,s.x,n.x),Hh(t,r.y,s.y,n.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class nc extends Rh{constructor(t=new Br,e=new Br,i=new Br){super(),this.isQuadraticBezierCurve3=!0,this.type='QuadraticBezierCurve3',this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Br){const i=e,r=this.v0,s=this.v1,n=this.v2;return i.set(Hh(t,r.x,s.x,n.x),Hh(t,r.y,s.y,n.y),Hh(t,r.z,s.z,n.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class oc extends Rh{constructor(t=[]){super(),this.isSplineCurve=!0,this.type='SplineCurve',this.points=t}getPoint(t,e=new zr){const i=e,r=this.points,s=(r.length-1)*t,n=Math.floor(s),o=s-n,a=r[0===n?n:n-1],h=r[n],c=r[n>r.length-2?r.length-1:n+1],u=r[n>r.length-3?r.length-1:n+2];return i.set(Gh(o,a.x,h.x,c.x,u.x),Gh(o,a.y,h.y,c.y,u.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const i=this.points[e];t.points.push(i.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push((new zr).fromArray(i))}return this}}var ac=Object.freeze({__proto__:null,ArcCurve:Lh,CatmullRomCurve3:Wh,CubicBezierCurve:tc,CubicBezierCurve3:ec,EllipseCurve:Fh,LineCurve:ic,LineCurve3:rc,QuadraticBezierCurve:sc,QuadraticBezierCurve3:nc,SplineCurve:oc});class hc extends Rh{constructor(){super(),this.type='CurvePath',this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=!0===t.isVector2?'LineCurve':'LineCurve3';this.curves.push(new ac[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const t=r[s]-i,n=this.curves[s],o=n.getLength(),a=0===o?0:1-t/o;return n.getPointAt(a,e)}s++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const n=s[r],o=n.isEllipseCurve?2*t:n.isLineCurve||n.isLineCurve3?1:n.isSplineCurve?t*n.points.length:t,a=n.getPoints(o);for(let t=0;t<a.length;t++){const r=a[t];i&&i.equals(r)||(e.push(r),i=r)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const i=this.curves[e];t.curves.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const i=t.curves[e];this.curves.push((new ac[i.type]).fromJSON(i))}return this}}class cc extends hc{constructor(t){super(),this.type='Path',this.currentPoint=new zr,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new ic(this.currentPoint.clone(),new zr(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,r){const s=new sc(this.currentPoint.clone(),new zr(t,e),new zr(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(t,e,i,r,s,n){const o=new tc(this.currentPoint.clone(),new zr(t,e),new zr(i,r),new zr(s,n));return this.curves.push(o),this.currentPoint.set(s,n),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new oc(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,r,s,n){const o=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(t+o,e+a,i,r,s,n),this}absarc(t,e,i,r,s,n){return this.absellipse(t,e,i,i,r,s,n),this}ellipse(t,e,i,r,s,n,o,a){const h=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(t+h,e+c,i,r,s,n,o,a),this}absellipse(t,e,i,r,s,n,o,a){const h=new Fh(t,e,i,r,s,n,o,a);if(this.curves.length>0){const t=h.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(h);const c=h.getPoint(1);return this.currentPoint.copy(c),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class uc extends cc{constructor(t){super(t),this.uuid=_r(),this.type='Shape',this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const i=t.holes[e];this.holes.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const i=this.holes[e];t.holes.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const i=t.holes[e];this.holes.push((new cc).fromJSON(i))}return this}}function lc(t,e,i=2){const r=e&&e.length,s=r?e[0]*i:t.length;let n=pc(t,0,s,i,!0);const o=[];if(!n||n.next===n.prev)return o;let a,h,c;if(r&&(n=xc(t,e,n,i)),t.length>80*i){a=t[0],h=t[1];let e=a,r=h;for(let n=i;n<s;n+=i){const i=t[n],s=t[n+1];i<a&&(a=i),s<h&&(h=s),i>e&&(e=i),s>r&&(r=s)}c=Math.max(e-a,r-h),c=0!==c?32767/c:0}return mc(n,o,i,a,h,c,0),o}function pc(t,e,i,r,s){let n;if(s===Wc(t,e,i,r)>0)for(let s=e;s<i;s+=r)n=Vc(s/r|0,t[s],t[s+1],n);else for(let s=i-r;s>=e;s-=r)n=Vc(s/r|0,t[s],t[s+1],n);return n&&jc(n,n.next)&&(Dc(n),n=n.next),n}function dc(t,e){if(!t)return t;e||(e=t);let i,r=t;do{if(i=!1,r.steiner||!jc(r,r.next)&&0!==zc(r.prev,r,r.next))r=r.next;else{if(Dc(r),r=e=r.prev,r===r.next)break;i=!0}}while(i||r!==e);return e}function mc(t,e,i,r,s,n,o){if(!t)return;!o&&n&&_c(t,r,s,n);let a=t;for(;t.prev!==t.next;){const h=t.prev,c=t.next;if(n?yc(t,r,s,n):fc(t))e.push(h.i,t.i,c.i),Dc(t),t=c.next,a=c.next;else if((t=c)===a){o?1===o?mc(t=gc(dc(t),e),e,i,r,s,n,2):2===o&&bc(t,e,i,r,s,n):mc(dc(t),e,i,r,s,n,1);break}}}function fc(t){const e=t.prev,i=t,r=t.next;if(zc(e,i,r)>=0)return!1;const s=e.x,n=i.x,o=r.x,a=e.y,h=i.y,c=r.y,u=Math.min(s,n,o),l=Math.min(a,h,c),p=Math.max(s,n,o),d=Math.max(a,h,c);let m=r.next;for(;m!==e;){if(m.x>=u&&m.x<=p&&m.y>=l&&m.y<=d&&Cc(s,a,n,h,o,c,m.x,m.y)&&zc(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function yc(t,e,i,r){const s=t.prev,n=t,o=t.next;if(zc(s,n,o)>=0)return!1;const a=s.x,h=n.x,c=o.x,u=s.y,l=n.y,p=o.y,d=Math.min(a,h,c),m=Math.min(u,l,p),f=Math.max(a,h,c),y=Math.max(u,l,p),g=Oc(d,m,e,i,r),b=Oc(f,y,e,i,r);let x=t.prevZ,v=t.nextZ;for(;x&&x.z>=g&&v&&v.z<=b;){if(x.x>=d&&x.x<=f&&x.y>=m&&x.y<=y&&x!==s&&x!==o&&Cc(a,u,h,l,c,p,x.x,x.y)&&zc(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,v.x>=d&&v.x<=f&&v.y>=m&&v.y<=y&&v!==s&&v!==o&&Cc(a,u,h,l,c,p,v.x,v.y)&&zc(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;x&&x.z>=g;){if(x.x>=d&&x.x<=f&&x.y>=m&&x.y<=y&&x!==s&&x!==o&&Cc(a,u,h,l,c,p,x.x,x.y)&&zc(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;v&&v.z<=b;){if(v.x>=d&&v.x<=f&&v.y>=m&&v.y<=y&&v!==s&&v!==o&&Cc(a,u,h,l,c,p,v.x,v.y)&&zc(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function gc(t,e){let i=t;do{const r=i.prev,s=i.next.next;!jc(r,s)&&Bc(r,i,i.next,s)&&Lc(r,s)&&Lc(s,r)&&(e.push(r.i,i.i,s.i),Dc(i),Dc(i.next),i=t=s),i=i.next}while(i!==t);return dc(i)}function bc(t,e,i,r,s,n){let o=t;do{let t=o.next.next;for(;t!==o.prev;){if(o.i!==t.i&&Ic(o,t)){let a=Ec(o,t);return o=dc(o,o.next),a=dc(a,a.next),mc(o,e,i,r,s,n,0),void mc(a,e,i,r,s,n,0)}t=t.next}o=o.next}while(o!==t)}function xc(t,e,i,r){const s=[];for(let i=0,n=e.length;i<n;i++){const o=pc(t,e[i]*r,i<n-1?e[i+1]*r:t.length,r,!1);o===o.next&&(o.steiner=!0),s.push(Pc(o))}s.sort(vc);for(let t=0;t<s.length;t++)i=Mc(s[t],i);return i}function vc(t,e){let i=t.x-e.x;if(0===i&&(i=t.y-e.y,0===i)){i=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)}return i}function Mc(t,e){const i=wc(t,e);if(!i)return e;const r=Ec(i,t);return dc(r,r.next),dc(i,i.next)}function wc(t,e){let i=e;const r=t.x,s=t.y;let n,o=-1/0;if(jc(t,i))return i;do{if(jc(t,i.next))return i.next;if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){const t=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(t<=r&&t>o&&(o=t,n=i.x<i.next.x?i:i.next,t===r))return n}i=i.next}while(i!==e);if(!n)return null;const a=n,h=n.x,c=n.y;let u=1/0;i=n;do{if(r>=i.x&&i.x>=h&&r!==i.x&&Tc(s<c?r:o,s,h,c,s<c?o:r,s,i.x,i.y)){const e=Math.abs(s-i.y)/(r-i.x);Lc(i,t)&&(e<u||e===u&&(i.x>n.x||i.x===n.x&&Sc(n,i)))&&(n=i,u=e)}i=i.next}while(i!==a);return n}function Sc(t,e){return zc(t.prev,t,e.prev)<0&&zc(e.next,t,t.next)<0}function _c(t,e,i,r){let s=t;do{0===s.z&&(s.z=Oc(s.x,s.y,e,i,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,Ac(s)}function Ac(t){let e,i=1;do{let r,s=t;t=null;let n=null;for(e=0;s;){e++;let o=s,a=0;for(let t=0;t<i&&(a++,o=o.nextZ,o);t++);let h=i;for(;a>0||h>0&&o;)0!==a&&(0===h||!o||s.z<=o.z)?(r=s,s=s.nextZ,a--):(r=o,o=o.nextZ,h--),n?n.nextZ=r:t=r,r.prevZ=n,n=r;s=o}n.nextZ=null,i*=2}while(e>1);return t}function Oc(t,e,i,r,s){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*s|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*s|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Pc(t){let e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function Tc(t,e,i,r,s,n,o,a){return(s-o)*(e-a)>=(t-o)*(n-a)&&(t-o)*(r-a)>=(i-o)*(e-a)&&(i-o)*(n-a)>=(s-o)*(r-a)}function Cc(t,e,i,r,s,n,o,a){return!(t===o&&e===a)&&Tc(t,e,i,r,s,n,o,a)}function Ic(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Fc(t,e)&&(Lc(t,e)&&Lc(e,t)&&Nc(t,e)&&(zc(t.prev,t,e.prev)||zc(t,e.prev,e))||jc(t,e)&&zc(t.prev,t,t.next)>0&&zc(e.prev,e,e.next)>0)}function zc(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function jc(t,e){return t.x===e.x&&t.y===e.y}function Bc(t,e,i,r){const s=Rc(zc(t,e,i)),n=Rc(zc(t,e,r)),o=Rc(zc(i,r,t)),a=Rc(zc(i,r,e));return s!==n&&o!==a||(!(0!==s||!kc(t,i,e))||(!(0!==n||!kc(t,r,e))||(!(0!==o||!kc(i,t,r))||!(0!==a||!kc(i,e,r)))))}function kc(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function Rc(t){return t>0?1:t<0?-1:0}function Fc(t,e){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Bc(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function Lc(t,e){return zc(t.prev,t,t.next)<0?zc(t,e,t.next)>=0&&zc(t,t.prev,e)>=0:zc(t,e,t.prev)<0||zc(t,t.next,e)<0}function Nc(t,e){let i=t,r=!1;const s=(t.x+e.x)/2,n=(t.y+e.y)/2;do{i.y>n!=i.next.y>n&&i.next.y!==i.y&&s<(i.next.x-i.x)*(n-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}function Ec(t,e){const i=Uc(t.i,t.x,t.y),r=Uc(e.i,e.x,e.y),s=t.next,n=e.prev;return t.next=e,e.prev=t,i.next=s,s.prev=i,r.next=i,i.prev=r,n.next=r,r.prev=n,r}function Vc(t,e,i,r){const s=Uc(t,e,i);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s}function Dc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Uc(t,e,i){return{i:t,x:e,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Wc(t,e,i,r){let s=0;for(let n=e,o=i-r;n<i;n+=r)s+=(t[o]-t[n])*(t[n+1]+t[o+1]),o=n;return s}class Gc{static triangulate(t,e,i=2){return lc(t,e,i)}}class qc{static area(t){const e=t.length;let i=0;for(let r=e-1,s=0;s<e;r=s++)i+=t[r].x*t[s].y-t[s].x*t[r].y;return.5*i}static isClockWise(t){return qc.area(t)<0}static triangulateShape(t,e){const i=[],r=[],s=[];Jc(t),Xc(i,t);let n=t.length;e.forEach(Jc);for(let t=0;t<e.length;t++)r.push(n),n+=e[t].length,Xc(i,e[t]);const o=Gc.triangulate(i,r);for(let t=0;t<o.length;t+=3)s.push(o.slice(t,t+3));return s}}function Jc(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Xc(t,e){for(let i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}class Hc extends Zn{constructor(t=new uc([new zr(.5,.5),new zr(-.5,.5),new zr(-.5,-.5),new zr(.5,-.5)]),e={}){super(),this.type='ExtrudeGeometry',this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,r=[],s=[];for(let e=0,i=t.length;e<i;e++){n(t[e])}function n(t){const n=[],o=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1,h=void 0!==e.depth?e.depth:1;let c=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:.2,l=void 0!==e.bevelSize?e.bevelSize:u-.1,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3;const m=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:Yc;let y,g,b,x,v,M=!1;if(m){y=m.getSpacedPoints(a),M=!0,c=!1;const t=!!m.isCatmullRomCurve3&&m.closed;g=m.computeFrenetFrames(a,t),b=new Br,x=new Br,v=new Br}c||(d=0,u=0,l=0,p=0);const w=t.extractPoints(o);let S=w.shape;const _=w.holes;if(!qc.isClockWise(S)){S=S.reverse();for(let t=0,e=_.length;t<e;t++){const e=_[t];qc.isClockWise(e)&&(_[t]=e.reverse())}}function A(t){let e=t[0];for(let i=1;i<=t.length;i++){const r=i%t.length,s=t[r],n=s.x-e.x,o=s.y-e.y,a=n*n+o*o,h=Math.max(Math.abs(s.x),Math.abs(s.y),Math.abs(e.x),Math.abs(e.y));a<=1.0000000000000001e-20*h*h?(t.splice(r,1),i--):e=s}}A(S),_.forEach(A);const O=_.length,P=S;for(let t=0;t<O;t++){const e=_[t];S=S.concat(e)}function T(t,e,i){return e||fr('ExtrudeGeometry: vec does not exist'),t.clone().addScaledVector(e,i)}const C=S.length;function I(t,e,i){let r,s,n;const o=t.x-e.x,a=t.y-e.y,h=i.x-t.x,c=i.y-t.y,u=o*o+a*a,l=o*c-a*h;if(Math.abs(l)>Number.EPSILON){const l=Math.sqrt(u),p=Math.sqrt(h*h+c*c),d=e.x-a/l,m=e.y+o/l,f=((i.x-c/p-d)*c-(i.y+h/p-m)*h)/(o*c-a*h);r=d+o*f-t.x,s=m+a*f-t.y;const y=r*r+s*s;if(y<=2)return new zr(r,s);n=Math.sqrt(y/2)}else{let t=!1;o>Number.EPSILON?h>Number.EPSILON&&(t=!0):o<-Number.EPSILON?h<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(c)&&(t=!0),t?(r=-a,s=o,n=Math.sqrt(u)):(r=o,s=a,n=Math.sqrt(u/2))}return new zr(r/n,s/n)}const z=[];for(let t=0,e=P.length,i=e-1,r=t+1;t<e;t++,i++,r++)i===e&&(i=0),r===e&&(r=0),z[t]=I(P[t],P[i],P[r]);const j=[];let B,k,R=z.concat();for(let t=0,e=O;t<e;t++){const e=_[t];B=[];for(let t=0,i=e.length,r=i-1,s=t+1;t<i;t++,r++,s++)r===i&&(r=0),s===i&&(s=0),B[t]=I(e[t],e[r],e[s]);j.push(B),R=R.concat(B)}if(0===d)k=qc.triangulateShape(P,_);else{const t=[],e=[];for(let i=0;i<d;i++){const r=i/d,s=u*Math.cos(r*Math.PI/2),n=l*Math.sin(r*Math.PI/2)+p;for(let e=0,i=P.length;e<i;e++){const i=T(P[e],z[e],n);E(i.x,i.y,-s),0===r&&t.push(i)}for(let t=0,i=O;t<i;t++){const i=_[t];B=j[t];const o=[];for(let t=0,e=i.length;t<e;t++){const e=T(i[t],B[t],n);E(e.x,e.y,-s),0===r&&o.push(e)}0===r&&e.push(o)}}k=qc.triangulateShape(t,e)}const F=k.length,L=l+p;for(let t=0;t<C;t++){const e=c?T(S[t],R[t],L):S[t];M?(x.copy(g.normals[0]).multiplyScalar(e.x),b.copy(g.binormals[0]).multiplyScalar(e.y),v.copy(y[0]).add(x).add(b),E(v.x,v.y,v.z)):E(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<C;e++){const i=c?T(S[e],R[e],L):S[e];M?(x.copy(g.normals[t]).multiplyScalar(i.x),b.copy(g.binormals[t]).multiplyScalar(i.y),v.copy(y[t]).add(x).add(b),E(v.x,v.y,v.z)):E(i.x,i.y,h/a*t)}for(let t=d-1;t>=0;t--){const e=t/d,i=u*Math.cos(e*Math.PI/2),r=l*Math.sin(e*Math.PI/2)+p;for(let t=0,e=P.length;t<e;t++){const e=T(P[t],z[t],r);E(e.x,e.y,h+i)}for(let t=0,e=_.length;t<e;t++){const e=_[t];B=j[t];for(let t=0,s=e.length;t<s;t++){const s=T(e[t],B[t],r);M?E(s.x,s.y+y[a-1].y,y[a-1].x+i):E(s.x,s.y,h+i)}}}function N(t,e){let i=t.length;for(;--i>=0;){const r=i;let s=i-1;s<0&&(s=t.length-1);for(let t=0,i=a+2*d;t<i;t++){const i=C*t,n=C*(t+1);D(e+r+i,e+s+i,e+s+n,e+r+n)}}}function E(t,e,i){n.push(t),n.push(e),n.push(i)}function V(t,e,s){U(t),U(e),U(s);const n=r.length/3,o=f.generateTopUV(i,r,n-3,n-2,n-1);W(o[0]),W(o[1]),W(o[2])}function D(t,e,s,n){U(t),U(e),U(n),U(e),U(s),U(n);const o=r.length/3,a=f.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);W(a[0]),W(a[1]),W(a[3]),W(a[1]),W(a[2]),W(a[3])}function U(t){r.push(n[3*t+0]),r.push(n[3*t+1]),r.push(n[3*t+2])}function W(t){s.push(t.x),s.push(t.y)}!(function(){const t=r.length/3;if(c){let t=0,e=C*t;for(let t=0;t<F;t++){const i=k[t];V(i[2]+e,i[1]+e,i[0]+e)}t=a+2*d,e=C*t;for(let t=0;t<F;t++){const i=k[t];V(i[0]+e,i[1]+e,i[2]+e)}}else{for(let t=0;t<F;t++){const e=k[t];V(e[2],e[1],e[0])}for(let t=0;t<F;t++){const e=k[t];V(e[0]+C*a,e[1]+C*a,e[2]+C*a)}}i.addGroup(t,r.length/3-t,0)})(),(function(){const t=r.length/3;let e=0;N(P,e),e+=P.length;for(let t=0,i=_.length;t<i;t++){const i=_[t];N(i,e),e+=i.length}i.addGroup(t,r.length/3-t,1)})()}this.setAttribute('position',new Nn(r,3)),this.setAttribute('uv',new Nn(s,2)),this.computeVertexNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return Zc(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const i=[];for(let r=0,s=t.shapes.length;r<s;r++){const s=e[t.shapes[r]];i.push(s)}const r=t.options.extrudePath;return void 0!==r&&(t.options.extrudePath=(new ac[r.type]).fromJSON(r)),new Hc(i,t.options)}}const Yc={generateTopUV:function(t,e,i,r,s){const n=e[3*i],o=e[3*i+1],a=e[3*r],h=e[3*r+1],c=e[3*s],u=e[3*s+1];return[new zr(n,o),new zr(a,h),new zr(c,u)]},generateSideWallUV:function(t,e,i,r,s,n){const o=e[3*i],a=e[3*i+1],h=e[3*i+2],c=e[3*r],u=e[3*r+1],l=e[3*r+2],p=e[3*s],d=e[3*s+1],m=e[3*s+2],f=e[3*n],y=e[3*n+1],g=e[3*n+2];return Math.abs(a-u)<Math.abs(o-c)?[new zr(o,1-h),new zr(c,1-l),new zr(p,1-m),new zr(f,1-g)]:[new zr(a,1-h),new zr(u,1-l),new zr(d,1-m),new zr(y,1-g)]}};function Zc(t,e,i){if(i.shapes=[],Array.isArray(t))for(let e=0,r=t.length;e<r;e++){const r=t[e];i.shapes.push(r.uuid)}else i.shapes.push(t.uuid);return i.options=Object.assign({},e),void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}class $c extends Th{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2;super([-1,i,0,1,i,0,-1,-1.618033988749895,0,1,-1.618033988749895,0,0,-1,i,0,1,i,0,-1,-1.618033988749895,0,1,-1.618033988749895,i,0,-1,i,0,1,-1.618033988749895,0,-1,-1.618033988749895,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type='IcosahedronGeometry',this.parameters={radius:t,detail:e}}static fromJSON(t){return new $c(t.radius,t.detail)}}class Qc extends Zn{constructor(t=[new zr(0,-.5),new zr(.5,0),new zr(0,.5)],e=12,i=0,r=2*Math.PI){super(),this.type='LatheGeometry',this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e),r=Ar(r,0,2*Math.PI);const s=[],n=[],o=[],a=[],h=[],c=1/e,u=new Br,l=new zr,p=new Br,d=new Br,m=new Br;let f=0,y=0;for(let e=0;e<=t.length-1;e++)switch(e){case 0:f=t[e+1].x-t[e].x,y=t[e+1].y-t[e].y,p.x=1*y,p.y=-f,p.z=0*y,m.copy(p),p.normalize(),a.push(p.x,p.y,p.z);break;case t.length-1:a.push(m.x,m.y,m.z);break;default:f=t[e+1].x-t[e].x,y=t[e+1].y-t[e].y,p.x=1*y,p.y=-f,p.z=0*y,d.copy(p),p.x+=m.x,p.y+=m.y,p.z+=m.z,p.normalize(),a.push(p.x,p.y,p.z),m.copy(d)}for(let s=0;s<=e;s++){const p=i+s*c*r,d=Math.sin(p),m=Math.cos(p);for(let i=0;i<=t.length-1;i++){u.x=t[i].x*d,u.y=t[i].y,u.z=t[i].x*m,n.push(u.x,u.y,u.z),l.x=s/e,l.y=i/(t.length-1),o.push(l.x,l.y);const r=a[3*i+0]*d,c=a[3*i+1],p=a[3*i+0]*m;h.push(r,c,p)}}for(let i=0;i<e;i++)for(let e=0;e<t.length-1;e++){const r=e+i*t.length,n=r,o=r+t.length,a=r+t.length+1,h=r+1;s.push(n,o,h),s.push(a,h,o)}this.setIndex(s),this.setAttribute('position',new Nn(n,3)),this.setAttribute('uv',new Nn(o,2)),this.setAttribute('normal',new Nn(h,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Qc(t.points,t.segments,t.phiStart,t.phiLength)}}class Kc extends Th{constructor(t=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type='OctahedronGeometry',this.parameters={radius:t,detail:e}}static fromJSON(t){return new Kc(t.radius,t.detail)}}class tu extends Zn{constructor(t=1,e=1,i=1,r=1){super(),this.type='PlaneGeometry',this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const s=t/2,n=e/2,o=Math.floor(i),a=Math.floor(r),h=o+1,c=a+1,u=t/o,l=e/a,p=[],d=[],m=[],f=[];for(let t=0;t<c;t++){const e=t*l-n;for(let i=0;i<h;i++){const r=i*u-s;d.push(r,-e,0),m.push(0,0,1),f.push(i/o),f.push(1-t/a)}}for(let t=0;t<a;t++)for(let e=0;e<o;e++){const i=e+h*t,r=e+h*(t+1),s=e+1+h*(t+1),n=e+1+h*t;p.push(i,r,n),p.push(r,s,n)}this.setIndex(p),this.setAttribute('position',new Nn(d,3)),this.setAttribute('normal',new Nn(m,3)),this.setAttribute('uv',new Nn(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new tu(t.width,t.height,t.widthSegments,t.heightSegments)}}class eu extends Zn{constructor(t=.5,e=1,i=32,r=1,s=0,n=2*Math.PI){super(),this.type='RingGeometry',this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:n},i=Math.max(3,i);const o=[],a=[],h=[],c=[];let u=t;const l=(e-t)/(r=Math.max(1,r)),p=new Br,d=new zr;for(let t=0;t<=r;t++){for(let t=0;t<=i;t++){const r=s+t/i*n;p.x=u*Math.cos(r),p.y=u*Math.sin(r),a.push(p.x,p.y,p.z),h.push(0,0,1),d.x=(p.x/e+1)/2,d.y=(p.y/e+1)/2,c.push(d.x,d.y)}u+=l}for(let t=0;t<r;t++){const e=t*(i+1);for(let t=0;t<i;t++){const r=t+e,s=r,n=r+i+1,a=r+i+2,h=r+1;o.push(s,n,h),o.push(n,a,h)}}this.setIndex(o),this.setAttribute('position',new Nn(a,3)),this.setAttribute('normal',new Nn(h,3)),this.setAttribute('uv',new Nn(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new eu(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class iu extends Zn{constructor(t=new uc([new zr(0,.5),new zr(-.5,-.5),new zr(.5,-.5)]),e=12){super(),this.type='ShapeGeometry',this.parameters={shapes:t,curveSegments:e};const i=[],r=[],s=[],n=[];let o=0,a=0;if(!1===Array.isArray(t))h(t);else for(let e=0;e<t.length;e++)h(t[e]),this.addGroup(o,a,e),o+=a,a=0;function h(t){const o=r.length/3,h=t.extractPoints(e);let c=h.shape;const u=h.holes;!1===qc.isClockWise(c)&&(c=c.reverse());for(let t=0,e=u.length;t<e;t++){const e=u[t];!0===qc.isClockWise(e)&&(u[t]=e.reverse())}const l=qc.triangulateShape(c,u);for(let t=0,e=u.length;t<e;t++){const e=u[t];c=c.concat(e)}for(let t=0,e=c.length;t<e;t++){const e=c[t];r.push(e.x,e.y,0),s.push(0,0,1),n.push(e.x,e.y)}for(let t=0,e=l.length;t<e;t++){const e=l[t],r=e[0]+o,s=e[1]+o,n=e[2]+o;i.push(r,s,n),a+=3}}this.setIndex(i),this.setAttribute('position',new Nn(r,3)),this.setAttribute('normal',new Nn(s,3)),this.setAttribute('uv',new Nn(n,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return ru(this.parameters.shapes,t)}static fromJSON(t,e){const i=[];for(let r=0,s=t.shapes.length;r<s;r++){const s=e[t.shapes[r]];i.push(s)}return new iu(i,t.curveSegments)}}function ru(t,e){if(e.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const r=t[i];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class su extends Zn{constructor(t=1,e=32,i=16,r=0,s=2*Math.PI,n=0,o=Math.PI){super(),this.type='SphereGeometry',this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:s,thetaStart:n,thetaLength:o},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const a=Math.min(n+o,Math.PI);let h=0;const c=[],u=new Br,l=new Br,p=[],d=[],m=[],f=[];for(let p=0;p<=i;p++){const y=[],g=p/i;let b=0;0===p&&0===n?b=.5/e:p===i&&a===Math.PI&&(b=-.5/e);for(let i=0;i<=e;i++){const a=i/e;u.x=-t*Math.cos(r+a*s)*Math.sin(n+g*o),u.y=t*Math.cos(n+g*o),u.z=t*Math.sin(r+a*s)*Math.sin(n+g*o),d.push(u.x,u.y,u.z),l.copy(u).normalize(),m.push(l.x,l.y,l.z),f.push(a+b,1-g),y.push(h++)}c.push(y)}for(let t=0;t<i;t++)for(let r=0;r<e;r++){const e=c[t][r+1],s=c[t][r],o=c[t+1][r],h=c[t+1][r+1];(0!==t||n>0)&&p.push(e,s,h),(t!==i-1||a<Math.PI)&&p.push(s,o,h)}this.setIndex(p),this.setAttribute('position',new Nn(d,3)),this.setAttribute('normal',new Nn(m,3)),this.setAttribute('uv',new Nn(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new su(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class nu extends Th{constructor(t=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type='TetrahedronGeometry',this.parameters={radius:t,detail:e}}static fromJSON(t){return new nu(t.radius,t.detail)}}class ou extends Zn{constructor(t=1,e=.4,i=12,r=48,s=2*Math.PI,n=0,o=2*Math.PI){super(),this.type='TorusGeometry',this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:s,thetaStart:n,thetaLength:o},i=Math.floor(i),r=Math.floor(r);const a=[],h=[],c=[],u=[],l=new Br,p=new Br,d=new Br;for(let a=0;a<=i;a++){const m=n+a/i*o;for(let n=0;n<=r;n++){const o=n/r*s;p.x=(t+e*Math.cos(m))*Math.cos(o),p.y=(t+e*Math.cos(m))*Math.sin(o),p.z=e*Math.sin(m),h.push(p.x,p.y,p.z),l.x=t*Math.cos(o),l.y=t*Math.sin(o),d.subVectors(p,l).normalize(),c.push(d.x,d.y,d.z),u.push(n/r),u.push(a/i)}}for(let t=1;t<=i;t++)for(let e=1;e<=r;e++){const i=(r+1)*t+e-1,s=(r+1)*(t-1)+e-1,n=(r+1)*(t-1)+e,o=(r+1)*t+e;a.push(i,s,o),a.push(s,n,o)}this.setIndex(a),this.setAttribute('position',new Nn(h,3)),this.setAttribute('normal',new Nn(c,3)),this.setAttribute('uv',new Nn(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ou(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class au extends Zn{constructor(t=1,e=.4,i=64,r=8,s=2,n=3){super(),this.type='TorusKnotGeometry',this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:s,q:n},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],h=[],c=[],u=new Br,l=new Br,p=new Br,d=new Br,m=new Br,f=new Br,y=new Br;for(let o=0;o<=i;++o){const b=o/i*s*Math.PI*2;g(b,s,n,t,p),g(b+.01,s,n,t,d),f.subVectors(d,p),y.addVectors(d,p),m.crossVectors(f,y),y.crossVectors(m,f),m.normalize(),y.normalize();for(let t=0;t<=r;++t){const s=t/r*Math.PI*2,n=-e*Math.cos(s),d=e*Math.sin(s);u.x=p.x+(n*y.x+d*m.x),u.y=p.y+(n*y.y+d*m.y),u.z=p.z+(n*y.z+d*m.z),a.push(u.x,u.y,u.z),l.subVectors(u,p).normalize(),h.push(l.x,l.y,l.z),c.push(o/i),c.push(t/r)}}for(let t=1;t<=i;t++)for(let e=1;e<=r;e++){const i=(r+1)*(t-1)+(e-1),s=(r+1)*t+(e-1),n=(r+1)*t+e,a=(r+1)*(t-1)+e;o.push(i,s,a),o.push(s,n,a)}function g(t,e,i,r,s){const n=Math.cos(t),o=Math.sin(t),a=i/e*t,h=Math.cos(a);s.x=r*(2+h)*.5*n,s.y=r*(2+h)*o*.5,s.z=r*Math.sin(a)*.5}this.setIndex(o),this.setAttribute('position',new Nn(a,3)),this.setAttribute('normal',new Nn(h,3)),this.setAttribute('uv',new Nn(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new au(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class hu extends Zn{constructor(t=new nc(new Br(-1,-1,0),new Br(-1,1,0),new Br(1,1,0)),e=64,i=1,r=8,s=!1){super(),this.type='TubeGeometry',this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:s};const n=t.computeFrenetFrames(e,s);this.tangents=n.tangents,this.normals=n.normals,this.binormals=n.binormals;const o=new Br,a=new Br,h=new zr;let c=new Br;const u=[],l=[],p=[],d=[];function m(s){c=t.getPointAt(s/e,c);const h=n.normals[s],p=n.binormals[s];for(let t=0;t<=r;t++){const e=t/r*Math.PI*2,s=Math.sin(e),n=-Math.cos(e);a.x=n*h.x+s*p.x,a.y=n*h.y+s*p.y,a.z=n*h.z+s*p.z,a.normalize(),l.push(a.x,a.y,a.z),o.x=c.x+i*a.x,o.y=c.y+i*a.y,o.z=c.z+i*a.z,u.push(o.x,o.y,o.z)}}function f(){for(let t=1;t<=e;t++)for(let e=1;e<=r;e++){const i=(r+1)*(t-1)+(e-1),s=(r+1)*t+(e-1),n=(r+1)*t+e,o=(r+1)*(t-1)+e;d.push(i,s,o),d.push(s,n,o)}}function y(){for(let t=0;t<=e;t++)for(let i=0;i<=r;i++)h.x=t/e,h.y=i/r,p.push(h.x,h.y)}!(function(){for(let t=0;t<e;t++)m(t);m(!1===s?e:0),y(),f()})(),this.setIndex(d),this.setAttribute('position',new Nn(u,3)),this.setAttribute('normal',new Nn(l,3)),this.setAttribute('uv',new Nn(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new hu((new ac[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class cu extends Zn{constructor(t=null){if(super(),this.type='WireframeGeometry',this.parameters={geometry:t},null!==t){const e=[],i=new Set,r=new Br,s=new Br;if(null!==t.index){const n=t.attributes.position,o=t.index;let a=t.groups;0===a.length&&(a=[{start:0,count:o.count,materialIndex:0}]);for(let t=0,h=a.length;t<h;++t){const h=a[t],c=h.start;for(let t=c,a=c+h.count;t<a;t+=3)for(let a=0;a<3;a++){const h=o.getX(t+a),c=o.getX(t+(a+1)%3);r.fromBufferAttribute(n,h),s.fromBufferAttribute(n,c),!0===uu(r,s,i)&&(e.push(r.x,r.y,r.z),e.push(s.x,s.y,s.z))}}}else{const n=t.attributes.position;for(let t=0,o=n.count/3;t<o;t++)for(let o=0;o<3;o++){const a=3*t+o,h=3*t+(o+1)%3;r.fromBufferAttribute(n,a),s.fromBufferAttribute(n,h),!0===uu(r,s,i)&&(e.push(r.x,r.y,r.z),e.push(s.x,s.y,s.z))}}this.setAttribute('position',new Nn(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function uu(t,e,i){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return!0!==i.has(r)&&!0!==i.has(s)&&(i.add(r),i.add(s),!0)}var lu=Object.freeze({__proto__:null,BoxGeometry:Sh,CapsuleGeometry:_h,CircleGeometry:Ah,ConeGeometry:Ph,CylinderGeometry:Oh,DodecahedronGeometry:Ch,EdgesGeometry:kh,ExtrudeGeometry:Hc,IcosahedronGeometry:$c,LatheGeometry:Qc,OctahedronGeometry:Kc,PlaneGeometry:tu,PolyhedronGeometry:Th,RingGeometry:eu,ShapeGeometry:iu,SphereGeometry:su,TetrahedronGeometry:nu,TorusGeometry:ou,TorusKnotGeometry:au,TubeGeometry:hu,WireframeGeometry:cu});class pu extends io{constructor(t){super(),this.isShadowMaterial=!0,this.type='ShadowMaterial',this.color=new Vs(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}function du(t){const e={};for(const i in t){e[i]={};for(const r in t[i]){const s=t[i][r];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(mr('UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms().'),e[i][r]=null):e[i][r]=s.clone():Array.isArray(s)?e[i][r]=s.slice():e[i][r]=s}}return e}function mu(t){const e={};for(let i=0;i<t.length;i++){const r=du(t[i]);for(const t in r)e[t]=r[t]}return e}function fu(t){const e=[];for(let i=0;i<t.length;i++)e.push(t[i].clone());return e}function yu(t){const e=t.getRenderTarget();return null===e?t.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:Dr.workingColorSpace}const gu={clone:du,merge:mu};class bu extends io{constructor(t){super(),this.isShaderMaterial=!0,this.type='ShaderMaterial',this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=du(t.uniforms),this.uniformsGroups=fu(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this.defaultAttributeValues=Object.assign({},t.defaultAttributeValues),this.index0AttributeName=t.index0AttributeName,this.uniformsNeedUpdate=t.uniformsNeedUpdate,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:'t',value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:'c',value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:'v2',value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:'v3',value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:'v4',value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:'m3',value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:'m4',value:r.toArray()}:e.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const t in this.extensions)!0===this.extensions[t]&&(i[t]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class xu extends bu{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type='RawShaderMaterial'}}class vu extends io{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type='MeshStandardMaterial',this.defines={STANDARD:''},this.color=new Vs(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ni,this.normalScale=new zr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:''},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Mu extends vu{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:'',PHYSICAL:''},this.type='MeshPhysicalMaterial',this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new zr(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,'reflectivity',{get:function(){return Ar(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vs(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vs(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vs(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:'',PHYSICAL:''},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class wu extends io{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type='MeshPhongMaterial',this.color=new Vs(16777215),this.specular=new Vs(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ni,this.normalScale=new zr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fs,this.combine=it,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Su extends io{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:''},this.type='MeshToonMaterial',this.color=new Vs(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ni,this.normalScale=new zr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class _u extends io{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type='MeshNormalMaterial',this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ni,this.normalScale=new zr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class Au extends io{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type='MeshLambertMaterial',this.color=new Vs(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ni,this.normalScale=new zr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fs,this.combine=it,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Ou extends io{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type='MeshDepthMaterial',this.depthPacking=ei,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class Pu extends io{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type='MeshDistanceMaterial',this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class Tu extends io{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:''},this.type='MeshMatcapMaterial',this.color=new Vs(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ni,this.normalScale=new zr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:''},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Cu extends qa{constructor(t){super(),this.isLineDashedMaterial=!0,this.type='LineDashedMaterial',this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Iu(t,e){return t&&t.constructor!==e?'number'==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t):t}function zu(t){const e=t.length,i=new Array(e);for(let t=0;t!==e;++t)i[t]=t;return i.sort(function(e,i){return t[e]-t[i]}),i}function ju(t,e,i){const r=t.length,s=new t.constructor(r);for(let n=0,o=0;o!==r;++n){const r=i[n]*e;for(let i=0;i!==e;++i)s[o++]=t[r+i]}return s}function Bu(t,e,i,r){let s=1,n=t[0];for(;void 0!==n&&void 0===n[r];)n=t[s++];if(void 0===n)return;let o=n[r];if(void 0!==o)if(Array.isArray(o))do{o=n[r],void 0!==o&&(e.push(n.time),i.push(...o)),n=t[s++]}while(void 0!==n);else if(void 0!==o.toArray)do{o=n[r],void 0!==o&&(e.push(n.time),o.toArray(i,i.length)),n=t[s++]}while(void 0!==n);else do{o=n[r],void 0!==o&&(e.push(n.time),i.push(o)),n=t[s++]}while(void 0!==n)}function ku(t,e,i,r,s=30){const n=t.clone();n.name=e;const o=[];for(let t=0;t<n.tracks.length;++t){const e=n.tracks[t],a=e.getValueSize(),h=[],c=[];for(let t=0;t<e.times.length;++t){const n=e.times[t]*s;if(!(n<i||n>=r)){h.push(e.times[t]);for(let i=0;i<a;++i)c.push(e.values[t*a+i])}}0!==h.length&&(e.times=Iu(h,e.times.constructor),e.values=Iu(c,e.values.constructor),o.push(e))}n.tracks=o;let a=1/0;for(let t=0;t<n.tracks.length;++t)a>n.tracks[t].times[0]&&(a=n.tracks[t].times[0]);for(let t=0;t<n.tracks.length;++t)n.tracks[t].shift(-1*a);return n.resetDuration(),n}function Ru(t,e=0,i=t,r=30){r<=0&&(r=30);const s=i.tracks.length,n=e/r;for(let e=0;e<s;++e){const r=i.tracks[e],s=r.ValueTypeName;if('bool'===s||'string'===s)continue;const o=t.tracks.find(function(t){return t.name===r.name&&t.ValueTypeName===s});if(void 0===o)continue;let a=0;const h=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=h/3);let c=0;const u=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const l=r.times.length-1;let p;if(n<=r.times[0]){const t=a,e=h-a;p=r.values.slice(t,e)}else if(n>=r.times[l]){const t=l*h+a,e=t+h-a;p=r.values.slice(t,e)}else{const t=r.createInterpolant(),e=a,i=h-a;t.evaluate(n),p=t.resultBuffer.slice(e,i)}if('quaternion'===s){(new jr).fromArray(p).normalize().conjugate().toArray(p)}const d=o.times.length;for(let t=0;t<d;++t){const e=t*u+c;if('quaternion'===s)jr.multiplyQuaternionsFlat(o.values,e,p,0,o.values,e);else{const t=u-2*c;for(let i=0;i<t;++i)o.values[e+i]-=p[i]}}}return t.blendMode=$e,t}class Fu{static convertArray(t,e){return Iu(t,e)}static isTypedArray(t){return nr(t)}static getKeyframeOrder(t){return zu(t)}static sortedArray(t,e,i){return ju(t,e,i)}static flattenJSON(t,e,i,r){Bu(t,e,i,r)}static subclip(t,e,i,r,s=30){return ku(t,e,i,r,s)}static makeClipAdditive(t,e=0,i=t,r=30){return Ru(t,e,i,r)}}class Lu{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],s=e[i-1];t:{e:{let n;i:{r:if(!(t<r)){for(let n=i+2;;){if(void 0===r){if(t<s)break r;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===n)break;if(s=r,r=e[++i],t<r)break e}n=e.length;break i}if(!(t>=s)){const o=e[1];t<o&&(i=2,s=o);for(let n=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===n)break;if(r=s,s=e[--i-1],t>=s)break e}n=i,i=0;break i}break t}for(;i<n;){const r=i+n>>>1;t<e[r]?n=r:i=r+1}if(r=e[i],s=e[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=t*r;for(let t=0;t!==r;++t)e[t]=i[s+t];return e}interpolate_(){throw new Error('call to abstract method')}intervalChanged_(){}}class Nu extends Lu{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Xe,endingEnd:Xe}}intervalChanged_(t,e,i){const r=this.parameterPositions;let s=t-2,n=t+1,o=r[s],a=r[n];if(void 0===o)switch(this.getSettings_().endingStart){case He:s=t,o=2*e-i;break;case Ye:s=r.length-2,o=e+r[s]-r[s+1];break;default:s=t,o=i}if(void 0===a)switch(this.getSettings_().endingEnd){case He:n=t,a=2*i-e;break;case Ye:n=1,a=i+r[1]-r[0];break;default:n=t-1,a=e}const h=.5*(i-e),c=this.valueSize;this._weightPrev=h/(e-o),this._weightNext=h/(a-i),this._offsetPrev=s*c,this._offsetNext=n*c}interpolate_(t,e,i,r){const s=this.resultBuffer,n=this.sampleValues,o=this.valueSize,a=t*o,h=a-o,c=this._offsetPrev,u=this._offsetNext,l=this._weightPrev,p=this._weightNext,d=(i-e)/(r-e),m=d*d,f=m*d,y=-l*f+2*l*m-l*d,g=(1+l)*f+(-1.5-2*l)*m+(-.5+l)*d+1,b=(-1-p)*f+(1.5+p)*m+.5*d,x=p*f-p*m;for(let t=0;t!==o;++t)s[t]=y*n[c+t]+g*n[h+t]+b*n[a+t]+x*n[u+t];return s}}class Eu extends Lu{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,n=this.sampleValues,o=this.valueSize,a=t*o,h=a-o,c=(i-e)/(r-e),u=1-c;for(let t=0;t!==o;++t)s[t]=n[h+t]*u+n[a+t]*c;return s}}class Vu extends Lu{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Du extends Lu{interpolate_(t,e,i,r){const s=this.resultBuffer,n=this.sampleValues,o=this.valueSize,a=t*o,h=a-o,c=this.settings||this.DefaultSettings_,u=c.inTangents,l=c.outTangents;if(!u||!l){const t=(i-e)/(r-e),c=1-t;for(let e=0;e!==o;++e)s[e]=n[h+e]*c+n[a+e]*t;return s}const p=2*o,d=t-1;for(let c=0;c!==o;++c){const o=n[h+c],m=n[a+c],f=d*p+2*c,y=l[f],g=l[f+1],b=t*p+2*c,x=u[b],v=u[b+1];let M,w,S,_,A,O=(i-e)/(r-e);for(let t=0;t<8;t++){M=O*O,w=M*O,S=1-O,_=S*S,A=_*S;const t=A*e+3*_*O*y+3*S*M*x+w*r-i;if(Math.abs(t)<1e-10)break;const s=3*_*(y-e)+6*S*O*(x-y)+3*M*(r-x);if(Math.abs(s)<1e-10)break;O-=t/s,O=Math.max(0,Math.min(1,O))}s[c]=A*o+3*_*O*g+3*S*M*v+w*m}return s}}class Uu{constructor(t,e,i,r){if(void 0===t)throw new Error('THREE.KeyframeTrack: track name is undefined');if(void 0===e||0===e.length)throw new Error('THREE.KeyframeTrack: no keyframes in track named '+t);this.name=t,this.times=Iu(e,this.TimeBufferType),this.values=Iu(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Iu(t.times,Array),values:Iu(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(i.interpolation=e)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new Vu(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Eu(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Nu(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodBezier(t){const e=new Du(this.times,this.values,this.getValueSize(),t);return this.settings&&(e.settings=this.settings),e}setInterpolation(t){let e;switch(t){case We:e=this.InterpolantFactoryMethodDiscrete;break;case Ge:e=this.InterpolantFactoryMethodLinear;break;case qe:e=this.InterpolantFactoryMethodSmooth;break;case Je:e=this.InterpolantFactoryMethodBezier}if(void 0===e){const e='unsupported interpolation for '+this.ValueTypeName+' keyframe track named '+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return mr('KeyframeTrack:',e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return We;case this.InterpolantFactoryMethodLinear:return Ge;case this.InterpolantFactoryMethodSmooth:return qe;case this.InterpolantFactoryMethodBezier:return Je}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let s=0,n=r-1;for(;s!==r&&i[s]<t;)++s;for(;-1!==n&&i[n]>e;)--n;if(++n,0!==s||n!==r){s>=n&&(n=Math.max(n,1),s=n-1);const t=this.getValueSize();this.times=i.slice(s,n),this.values=this.values.slice(s*t,n*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(fr('KeyframeTrack: Invalid value size in track.',this),t=!1);const i=this.times,r=this.values,s=i.length;0===s&&(fr('KeyframeTrack: Track is empty.',this),t=!1);let n=null;for(let e=0;e!==s;e++){const r=i[e];if('number'==typeof r&&isNaN(r)){fr('KeyframeTrack: Time is not a valid number.',this,e,r),t=!1;break}if(null!==n&&n>r){fr('KeyframeTrack: Out of order keys.',this,e,r,n),t=!1;break}n=r}if(void 0!==r&&nr(r))for(let e=0,i=r.length;e!==i;++e){const i=r[e];if(isNaN(i)){fr('KeyframeTrack: Value is not a valid number.',this,e,i),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===qe,s=t.length-1;let n=1;for(let o=1;o<s;++o){let s=!1;const a=t[o];if(a!==t[o+1]&&(1!==o||a!==t[0]))if(r)s=!0;else{const t=o*i,r=t-i,n=t+i;for(let o=0;o!==i;++o){const i=e[t+o];if(i!==e[r+o]||i!==e[n+o]){s=!0;break}}}if(s){if(o!==n){t[n]=t[o];const r=o*i,s=n*i;for(let t=0;t!==i;++t)e[s+t]=e[r+t]}++n}}if(s>0){t[n]=t[s];for(let t=s*i,r=n*i,o=0;o!==i;++o)e[r+o]=e[t+o];++n}return n!==t.length?(this.times=t.slice(0,n),this.values=e.slice(0,n*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}Uu.prototype.ValueTypeName='',Uu.prototype.TimeBufferType=Float32Array,Uu.prototype.ValueBufferType=Float32Array,Uu.prototype.DefaultInterpolation=Ge;class Wu extends Uu{constructor(t,e,i){super(t,e,i)}}Wu.prototype.ValueTypeName='bool',Wu.prototype.ValueBufferType=Array,Wu.prototype.DefaultInterpolation=We,Wu.prototype.InterpolantFactoryMethodLinear=void 0,Wu.prototype.InterpolantFactoryMethodSmooth=void 0;class Gu extends Uu{constructor(t,e,i,r){super(t,e,i,r)}}Gu.prototype.ValueTypeName='color';class qu extends Uu{constructor(t,e,i,r){super(t,e,i,r)}}qu.prototype.ValueTypeName='number';class Ju extends Lu{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,n=this.sampleValues,o=this.valueSize,a=(i-e)/(r-e);let h=t*o;for(let t=h+o;h!==t;h+=4)jr.slerpFlat(s,0,n,h-o,n,h,a);return s}}class Xu extends Uu{constructor(t,e,i,r){super(t,e,i,r)}InterpolantFactoryMethodLinear(t){return new Ju(this.times,this.values,this.getValueSize(),t)}}Xu.prototype.ValueTypeName='quaternion',Xu.prototype.InterpolantFactoryMethodSmooth=void 0;class Hu extends Uu{constructor(t,e,i){super(t,e,i)}}Hu.prototype.ValueTypeName='string',Hu.prototype.ValueBufferType=Array,Hu.prototype.DefaultInterpolation=We,Hu.prototype.InterpolantFactoryMethodLinear=void 0,Hu.prototype.InterpolantFactoryMethodSmooth=void 0;class Yu extends Uu{constructor(t,e,i,r){super(t,e,i,r)}}Yu.prototype.ValueTypeName='vector';class Zu{constructor(t="",e=-1,i=[],r=Ze){this.name=t,this.tracks=i,this.duration=e,this.blendMode=r,this.uuid=_r(),this.userData={},this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,r=1/(t.fps||1);for(let t=0,s=i.length;t!==s;++t)e.push(Qu(i[t]).scale(r));const s=new this(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s.userData=JSON.parse(t.userData||'{}'),s}static toJSON(t){const e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode,userData:JSON.stringify(t.userData)};for(let t=0,r=i.length;t!==r;++t)e.push(Uu.toJSON(i[t]));return r}static CreateFromMorphTargetSequence(t,e,i,r){const s=e.length,n=[];for(let t=0;t<s;t++){let o=[],a=[];o.push((t+s-1)%s,t,(t+1)%s),a.push(0,1,0);const h=zu(o);o=ju(o,1,h),a=ju(a,1,h),r||0!==o[0]||(o.push(s),a.push(a[0])),n.push(new qu('.morphTargetInfluences['+e[t].name+']',o,a).scale(1/i))}return new this(t,-1,n)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const e=t;i=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<i.length;t++)if(i[t].name===e)return i[t];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let e=0,i=t.length;e<i;e++){const i=t[e],n=i.name.match(s);if(n&&n.length>1){const t=n[1];let e=r[t];e||(r[t]=e=[]),e.push(i)}}const n=[];for(const t in r)n.push(this.CreateFromMorphTargetSequence(t,r[t],e,i));return n}static parseAnimation(t,e){if(mr('AnimationClip: parseAnimation() is deprecated and will be removed with r185'),!t)return fr('AnimationClip: No animation in JSONLoader data.'),null;const i=function(t,e,i,r,s){if(0!==i.length){const n=[],o=[];Bu(i,n,o,r),0!==n.length&&s.push(new t(e,n,o))}},r=[],s=t.name||'default',n=t.fps||30,o=t.blendMode;let a=t.length||-1;const h=t.hierarchy||[];for(let t=0;t<h.length;t++){const s=h[t].keys;if(s&&0!==s.length)if(s[0].morphTargets){const t={};let e;for(e=0;e<s.length;e++)if(s[e].morphTargets)for(let i=0;i<s[e].morphTargets.length;i++)t[s[e].morphTargets[i]]=-1;for(const i in t){const t=[],n=[];for(let r=0;r!==s[e].morphTargets.length;++r){const r=s[e];t.push(r.time),n.push(r.morphTarget===i?1:0)}r.push(new qu('.morphTargetInfluence['+i+']',t,n))}a=t.length*n}else{const n='.bones['+e[t].name+']';i(Yu,n+'.position',s,'pos',r),i(Xu,n+'.quaternion',s,'rot',r),i(Yu,n+'.scale',s,'scl',r)}}if(0===r.length)return null;return new this(s,a,r,o)}resetDuration(){let t=0;for(let e=0,i=this.tracks.length;e!==i;++e){const i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());const e=new this.constructor(this.name,this.duration,t,this.blendMode);return e.userData=JSON.parse(JSON.stringify(this.userData)),e}toJSON(){return this.constructor.toJSON(this)}}function $u(t){switch(t.toLowerCase()){case'scalar':case'double':case'float':case'number':case'integer':return qu;case'vector':case'vector2':case'vector3':case'vector4':return Yu;case'color':return Gu;case'quaternion':return Xu;case'bool':case'boolean':return Wu;case'string':return Hu}throw new Error('THREE.KeyframeTrack: Unsupported typeName: '+t)}function Qu(t){if(void 0===t.type)throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');const e=$u(t.type);if(void 0===t.times){const e=[],i=[];Bu(t.keys,e,i,'value'),t.times=e,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ku={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(tl(t)||(this.files[t]=e))},get:function(t){if(!1!==this.enabled&&!tl(t))return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function tl(t){try{const e=t.slice(t.indexOf(':')+1);return'blob:'===new URL(e).protocol}catch(t){return!1}}class el{constructor(t,e,i){const r=this;let s,n=!1,o=0,a=0;const h=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this._abortController=null,this.itemStart=function(t){a++,!1===n&&void 0!==r.onStart&&r.onStart(t,o,a),n=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return h.push(t,e),this},this.removeHandler=function(t){const e=h.indexOf(t);return-1!==e&&h.splice(e,2),this},this.getHandler=function(t){for(let e=0,i=h.length;e<i;e+=2){const i=h[e],r=h[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const il=new el;class rl{constructor(t){this.manager=void 0!==t?t:il,this.crossOrigin='anonymous',this.withCredentials=!1,this.path='',this.resourcePath='',this.requestHeader={},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe',{detail:this}))}load(){}loadAsync(t,e){const i=this;return new Promise(function(r,s){i.load(t,r,e,s)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}abort(){return this}}rl.DEFAULT_MATERIAL_NAME='__DEFAULT';const sl={};class nl extends Error{constructor(t,e){super(t),this.response=e}}class ol extends rl{constructor(t){super(t),this.mimeType='',this.responseType='',this._abortController=new AbortController}load(t,e,i,r){void 0===t&&(t=''),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=Ku.get(`file:${t}`);if(void 0!==s)return this.manager.itemStart(t),setTimeout(()=>{e&&e(s),this.manager.itemEnd(t)},0),s;if(void 0!==sl[t])return void sl[t].push({onLoad:e,onProgress:i,onError:r});sl[t]=[],sl[t].push({onLoad:e,onProgress:i,onError:r});const n=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?'include':'same-origin',signal:'function'==typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,a=this.responseType;fetch(n).then(e=>{if(200===e.status||0===e.status){if(0===e.status&&mr('FileLoader: HTTP Status 0 received.'),'undefined'==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const i=sl[t],r=e.body.getReader(),s=e.headers.get('X-File-Size')||e.headers.get('Content-Length'),n=s?parseInt(s):0,o=0!==n;let a=0;const h=new ReadableStream({start(t){!(function e(){r.read().then(({done:r,value:s})=>{if(r)t.close();else{a+=s.byteLength;const r=new ProgressEvent('progress',{lengthComputable:o,loaded:a,total:n});for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onProgress&&e.onProgress(r)}t.enqueue(s),e()}},e=>{t.error(e)})})()}});return new Response(h)}throw new nl(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`,e)}).then(t=>{switch(a){case'arraybuffer':return t.arrayBuffer();case'blob':return t.blob();case'document':return t.text().then(t=>(new DOMParser).parseFromString(t,o));case'json':return t.json();default:if(''===o)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(o),i=e&&e[1]?e[1].toLowerCase():void 0,r=new TextDecoder(i);return t.arrayBuffer().then(t=>r.decode(t))}}}).then(e=>{Ku.add(`file:${t}`,e);const i=sl[t];delete sl[t];for(let t=0,r=i.length;t<r;t++){const r=i[t];r.onLoad&&r.onLoad(e)}}).catch(e=>{const i=sl[t];if(void 0===i)throw this.manager.itemError(t),e;delete sl[t];for(let t=0,r=i.length;t<r;t++){const r=i[t];r.onError&&r.onError(e)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class al extends rl{constructor(t){super(t)}load(t,e,i,r){const s=this,n=new ol(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(t,function(i){try{e(s.parse(JSON.parse(i)))}catch(e){r?r(e):fr(e),s.manager.itemError(t)}},i,r)}parse(t){const e=[];for(let i=0;i<t.length;i++){const r=Zu.parse(t[i]);e.push(r)}return e}}class hl extends rl{constructor(t){super(t)}load(t,e,i,r){const s=this,n=[],o=new fh,a=new ol(this.manager);a.setPath(this.path),a.setResponseType('arraybuffer'),a.setRequestHeader(this.requestHeader),a.setWithCredentials(s.withCredentials);let h=0;function c(c){a.load(t[c],function(t){const i=s.parse(t,!0);n[c]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},h+=1,6===h&&(1===i.mipmapCount&&(o.minFilter=Ct),o.image=n,o.format=i.format,o.needsUpdate=!0,e&&e(o))},i,r)}if(Array.isArray(t))for(let e=0,i=t.length;e<i;++e)c(e);else a.load(t,function(t){const i=s.parse(t,!0);if(i.isCubemap){const t=i.mipmaps.length/i.mipmapCount;for(let e=0;e<t;e++){n[e]={mipmaps:[]};for(let t=0;t<i.mipmapCount;t++)n[e].mipmaps.push(i.mipmaps[e*i.mipmapCount+t]),n[e].format=i.format,n[e].width=i.width,n[e].height=i.height}o.image=n}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=Ct),o.format=i.format,o.needsUpdate=!0,e&&e(o)},i,r);return o}}const cl=new WeakMap;class ul extends rl{constructor(t){super(t)}load(t,e,i,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,n=Ku.get(`image:${t}`);if(void 0!==n){if(!0===n.complete)s.manager.itemStart(t),setTimeout(function(){e&&e(n),s.manager.itemEnd(t)},0);else{let t=cl.get(n);void 0===t&&(t=[],cl.set(n,t)),t.push({onLoad:e,onError:r})}return n}const o=or('img');function a(){c(),e&&e(this);const i=cl.get(this)||[];for(let t=0;t<i.length;t++){const e=i[t];e.onLoad&&e.onLoad(this)}cl.delete(this),s.manager.itemEnd(t)}function h(e){c(),r&&r(e),Ku.remove(`image:${t}`);const i=cl.get(this)||[];for(let t=0;t<i.length;t++){const r=i[t];r.onError&&r.onError(e)}cl.delete(this),s.manager.itemError(t),s.manager.itemEnd(t)}function c(){o.removeEventListener('load',a,!1),o.removeEventListener('error',h,!1)}return o.addEventListener('load',a,!1),o.addEventListener('error',h,!1),'data:'!==t.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),Ku.add(`image:${t}`,o),s.manager.itemStart(t),o.src=t,o}}class ll extends rl{constructor(t){super(t)}load(t,e,i,r){const s=new bh;s.colorSpace=hi;const n=new ul(this.manager);n.setCrossOrigin(this.crossOrigin),n.setPath(this.path);let o=0;function a(i){n.load(t[i],function(t){s.images[i]=t,o++,6===o&&(s.needsUpdate=!0,e&&e(s))},void 0,r)}for(let e=0;e<t.length;++e)a(e);return s}}class pl extends rl{constructor(t){super(t)}load(t,e,i,r){const s=this,n=new ia,o=new ol(this.manager);return o.setResponseType('arraybuffer'),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(t,function(t){let i;try{i=s.parse(t)}catch(t){if(void 0===r)return void t(t);r(t)}void 0!==i.image?n.image=i.image:void 0!==i.data&&(n.image.width=i.width,n.image.height=i.height,n.image.data=i.data),n.wrapS=void 0!==i.wrapS?i.wrapS:wt,n.wrapT=void 0!==i.wrapT?i.wrapT:wt,n.magFilter=void 0!==i.magFilter?i.magFilter:Ct,n.minFilter=void 0!==i.minFilter?i.minFilter:Ct,n.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.colorSpace&&(n.colorSpace=i.colorSpace),void 0!==i.flipY&&(n.flipY=i.flipY),void 0!==i.format&&(n.format=i.format),void 0!==i.type&&(n.type=i.type),void 0!==i.mipmaps&&(n.mipmaps=i.mipmaps,n.minFilter=jt),1===i.mipmapCount&&(n.minFilter=Ct),void 0!==i.generateMipmaps&&(n.generateMipmaps=i.generateMipmaps),n.needsUpdate=!0,e&&e(n,i)},i,r),n}}class dl extends rl{constructor(t){super(t)}load(t,e,i,r){const s=new $r,n=new ul(this.manager);return n.setCrossOrigin(this.crossOrigin),n.setPath(this.path),n.load(t,function(t){s.image=t,s.needsUpdate=!0,void 0!==e&&e(s)},i,r),s}}class ml extends js{constructor(t,e=1){super(),this.isLight=!0,this.type='Light',this.color=new Vs(t),this.intensity=e}dispose(){this.dispatchEvent({type:'dispose'})}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,e}}class fl extends ml{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type='HemisphereLight',this.position.copy(js.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vs(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}toJSON(t){const e=super.toJSON(t);return e.object.groundColor=this.groundColor.getHex(),e}}const yl=new ns,gl=new Br,bl=new Br;class xl{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.biasNode=null,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new zr(512,512),this.mapType=kt,this.map=null,this.mapPass=null,this.matrix=new ns,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wa,this._frameExtents=new zr(1,1),this._viewportCount=1,this._viewports=[new Qr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;gl.setFromMatrixPosition(t.matrixWorld),e.position.copy(gl),bl.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(bl),e.updateMatrixWorld(),yl.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yl,e.coordinateSystem,e.reversedDepth),e.coordinateSystem===$i||e.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(yl)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this.biasNode=t.biasNode,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 1!==this.intensity&&(t.intensity=this.intensity),0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}const vl=new Br,Ml=new jr,wl=new Br;class Sl extends js{constructor(){super(),this.isCamera=!0,this.type='Camera',this.matrixWorldInverse=new ns,this.projectionMatrix=new ns,this.projectionMatrixInverse=new ns,this.coordinateSystem=Zi,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorld.decompose(vl,Ml,wl),1===wl.x&&1===wl.y&&1===wl.z?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(vl,Ml,wl.set(1,1,1)).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorld.decompose(vl,Ml,wl),1===wl.x&&1===wl.y&&1===wl.z?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(vl,Ml,wl.set(1,1,1)).invert()}clone(){return(new this.constructor).copy(this)}}const _l=new Br,Al=new zr,Ol=new zr;class Pl extends Sl{constructor(t=50,e=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type='PerspectiveCamera',this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Sr*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*wr*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*Sr*Math.atan(Math.tan(.5*wr*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){_l.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(_l.x,_l.y).multiplyScalar(-t/_l.z),_l.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(_l.x,_l.y).multiplyScalar(-t/_l.z)}getViewSize(t,e){return this.getViewBounds(t,Al,Ol),e.subVectors(Ol,Al)}setViewOffset(t,e,i,r,s,n){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*wr*this.fov)/this.zoom,i=2*e,r=this.aspect*i,s=-.5*r;const n=this.view;if(null!==this.view&&this.view.enabled){const t=n.fullWidth,o=n.fullHeight;s+=n.offsetX*r/t,e-=n.offsetY*i/o,r*=n.width/t,i*=n.height/o}const o=this.filmOffset;0!==o&&(s+=t*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-i,t,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class Tl extends xl{constructor(){super(new Pl(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(t){const e=this.camera,i=2*Sr*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=t.distance||e.far;i===e.fov&&r===e.aspect&&s===e.far||(e.fov=i,e.aspect=r,e.far=s,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Cl extends ml{constructor(t,e,i=0,r=Math.PI/3,s=0,n=2){super(t,e),this.isSpotLight=!0,this.type='SpotLight',this.position.copy(js.DEFAULT_UP),this.updateMatrix(),this.target=new js,this.distance=i,this.angle=r,this.penumbra=s,this.decay=n,this.map=null,this.shadow=new Tl}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.map=t.map,this.shadow=t.shadow.clone(),this}toJSON(t){const e=super.toJSON(t);return e.object.distance=this.distance,e.object.angle=this.angle,e.object.decay=this.decay,e.object.penumbra=this.penumbra,e.object.target=this.target.uuid,this.map&&this.map.isTexture&&(e.object.map=this.map.toJSON(t).uuid),e.object.shadow=this.shadow.toJSON(),e}}class Il extends xl{constructor(){super(new Pl(90,1,.5,500)),this.isPointLightShadow=!0}}class zl extends ml{constructor(t,e,i=0,r=2){super(t,e),this.isPointLight=!0,this.type='PointLight',this.distance=i,this.decay=r,this.shadow=new Il}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}toJSON(t){const e=super.toJSON(t);return e.object.distance=this.distance,e.object.decay=this.decay,e.object.shadow=this.shadow.toJSON(),e}}class jl extends Sl{constructor(t=-1,e=1,i=1,r=-1,s=.1,n=2e3){super(),this.isOrthographicCamera=!0,this.type='OrthographicCamera',this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=s,this.far=n,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,s,n){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-t,n=i+t,o=r+e,a=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=t*this.view.offsetX,n=s+t*this.view.width,o-=e*this.view.offsetY,a=o-e*this.view.height}this.projectionMatrix.makeOrthographic(s,n,o,a,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}class Bl extends xl{constructor(){super(new jl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class kl extends ml{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type='DirectionalLight',this.position.copy(js.DEFAULT_UP),this.updateMatrix(),this.target=new js,this.shadow=new Bl}dispose(){super.dispose(),this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}toJSON(t){const e=super.toJSON(t);return e.object.shadow=this.shadow.toJSON(),e.object.target=this.target.uuid,e}}class Rl extends ml{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type='AmbientLight'}}class Fl extends ml{constructor(t,e,i=10,r=10){super(t,e),this.isRectAreaLight=!0,this.type='RectAreaLight',this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class Ll{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Br)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,r=t.y,s=t.z,n=this.coefficients;return e.copy(n[0]).multiplyScalar(.282095),e.addScaledVector(n[1],.488603*r),e.addScaledVector(n[2],.488603*s),e.addScaledVector(n[3],.488603*i),e.addScaledVector(n[4],i*r*1.092548),e.addScaledVector(n[5],r*s*1.092548),e.addScaledVector(n[6],.315392*(3*s*s-1)),e.addScaledVector(n[7],i*s*1.092548),e.addScaledVector(n[8],.546274*(i*i-r*r)),e}getIrradianceAt(t,e){const i=t.x,r=t.y,s=t.z,n=this.coefficients;return e.copy(n[0]).multiplyScalar(.886227),e.addScaledVector(n[1],1.023328*r),e.addScaledVector(n[2],1.023328*s),e.addScaledVector(n[3],1.023328*i),e.addScaledVector(n[4],.858086*i*r),e.addScaledVector(n[5],.858086*r*s),e.addScaledVector(n[6],.743125*s*s-.247708),e.addScaledVector(n[7],.858086*i*s),e.addScaledVector(n[8],.429043*(i*i-r*r)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,e+3*r);return this}toArray(t=[],e=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,e+3*r);return t}static getBasisAt(t,e){const i=t.x,r=t.y,s=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*s,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*s,e[6]=.315392*(3*s*s-1),e[7]=1.092548*i*s,e[8]=.546274*(i*i-r*r)}}class Nl extends ml{constructor(t=new Ll,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class El extends rl{constructor(t){super(t),this.textures={}}load(t,e,i,r){const s=this,n=new ol(s.manager);n.setPath(s.path),n.setRequestHeader(s.requestHeader),n.setWithCredentials(s.withCredentials),n.load(t,function(i){try{e(s.parse(JSON.parse(i)))}catch(e){r?r(e):fr(e),s.manager.itemError(t)}},i,r)}parse(t){const e=this.textures;function i(t){return void 0===e[t]&&mr('MaterialLoader: Undefined texture',t),e[t]}const r=this.createMaterialFromType(t.type);if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&void 0!==r.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=t.sheen),void 0!==t.sheenColor&&(r.sheenColor=(new Vs).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(r.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==r.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==r.specular&&r.specular.setHex(t.specular),void 0!==t.specularIntensity&&(r.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.dispersion&&(r.dispersion=t.dispersion),void 0!==t.iridescence&&(r.iridescence=t.iridescence),void 0!==t.iridescenceIOR&&(r.iridescenceIOR=t.iridescenceIOR),void 0!==t.iridescenceThicknessRange&&(r.iridescenceThicknessRange=t.iridescenceThicknessRange),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.thickness&&(r.thickness=t.thickness),void 0!==t.attenuationDistance&&(r.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(t.attenuationColor),void 0!==t.anisotropy&&(r.anisotropy=t.anisotropy),void 0!==t.anisotropyRotation&&(r.anisotropyRotation=t.anisotropyRotation),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.shadowSide&&(r.shadowSide=t.shadowSide),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.alphaHash&&(r.alphaHash=t.alphaHash),void 0!==t.depthFunc&&(r.depthFunc=t.depthFunc),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.blendSrc&&(r.blendSrc=t.blendSrc),void 0!==t.blendDst&&(r.blendDst=t.blendDst),void 0!==t.blendEquation&&(r.blendEquation=t.blendEquation),void 0!==t.blendSrcAlpha&&(r.blendSrcAlpha=t.blendSrcAlpha),void 0!==t.blendDstAlpha&&(r.blendDstAlpha=t.blendDstAlpha),void 0!==t.blendEquationAlpha&&(r.blendEquationAlpha=t.blendEquationAlpha),void 0!==t.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(t.blendColor),void 0!==t.blendAlpha&&(r.blendAlpha=t.blendAlpha),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),void 0!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.alphaToCoverage&&(r.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(r.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.forceSinglePass&&(r.forceSinglePass=t.forceSinglePass),void 0!==t.allowOverride&&(r.allowOverride=t.allowOverride),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&('number'==typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const s=t.uniforms[e];switch(r.uniforms[e]={},s.type){case't':r.uniforms[e].value=i(s.value);break;case'c':r.uniforms[e].value=(new Vs).setHex(s.value);break;case'v2':r.uniforms[e].value=(new zr).fromArray(s.value);break;case'v3':r.uniforms[e].value=(new Br).fromArray(s.value);break;case'v4':r.uniforms[e].value=(new Qr).fromArray(s.value);break;case'm3':r.uniforms[e].value=(new Fr).fromArray(s.value);break;case'm4':r.uniforms[e].value=(new ns).fromArray(s.value);break;default:r.uniforms[e].value=s.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.glslVersion&&(r.glslVersion=t.glslVersion),void 0!==t.extensions)for(const e in t.extensions)r.extensions[e]=t.extensions[e];if(void 0!==t.lights&&(r.lights=t.lights),void 0!==t.clipping&&(r.clipping=t.clipping),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),r.normalScale=(new zr).fromArray(e)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.specularIntensityMap&&(r.specularIntensityMap=i(t.specularIntensityMap)),void 0!==t.specularColorMap&&(r.specularColorMap=i(t.specularColorMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapRotation&&r.envMapRotation.fromArray(t.envMapRotation),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new zr).fromArray(t.clearcoatNormalScale)),void 0!==t.iridescenceMap&&(r.iridescenceMap=i(t.iridescenceMap)),void 0!==t.iridescenceThicknessMap&&(r.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),void 0!==t.transmissionMap&&(r.transmissionMap=i(t.transmissionMap)),void 0!==t.thicknessMap&&(r.thicknessMap=i(t.thicknessMap)),void 0!==t.anisotropyMap&&(r.anisotropyMap=i(t.anisotropyMap)),void 0!==t.sheenColorMap&&(r.sheenColorMap=i(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(r.sheenRoughnessMap=i(t.sheenRoughnessMap)),r}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return El.createMaterialFromType(t)}static createMaterialFromType(t){return new{ShadowMaterial:pu,SpriteMaterial:ro,RawShaderMaterial:xu,ShaderMaterial:bu,PointsMaterial:nh,MeshPhysicalMaterial:Mu,MeshStandardMaterial:vu,MeshPhongMaterial:wu,MeshToonMaterial:Su,MeshNormalMaterial:_u,MeshLambertMaterial:Au,MeshDepthMaterial:Ou,MeshDistanceMaterial:Pu,MeshBasicMaterial:Io,MeshMatcapMaterial:Tu,LineDashedMaterial:Cu,LineBasicMaterial:qa,Material:io}[t]}}class Vl{static extractUrlBase(t){const e=t.lastIndexOf('/');return-1===e?'./':t.slice(0,e+1)}static resolveURL(t,e){return'string'!=typeof t||''===t?'':(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,'$1')),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Dl extends Zn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type='InstancedBufferGeometry',this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class Ul extends rl{constructor(t){super(t)}load(t,e,i,r){const s=this,n=new ol(s.manager);n.setPath(s.path),n.setRequestHeader(s.requestHeader),n.setWithCredentials(s.withCredentials),n.load(t,function(i){try{e(s.parse(JSON.parse(i)))}catch(e){r?r(e):fr(e),s.manager.itemError(t)}},i,r)}parse(t){const e={},i={};function r(t,i){if(void 0!==e[i])return e[i];const r=t.interleavedBuffers[i],n=s(t,r.buffer),o=sr(r.type,n),a=new $n(o,r.stride);return a.uuid=r.uuid,e[i]=a,a}function s(t,e){if(void 0!==i[e])return i[e];const r=t.arrayBuffers[e],s=new Uint32Array(r).buffer;return i[e]=s,s}const n=t.isInstancedBufferGeometry?new Dl:new Zn,o=t.data.index;if(void 0!==o){const t=sr(o.type,o.array);n.setIndex(new Cn(t,1))}const a=t.data.attributes;for(const e in a){const i=a[e];let s;if(i.isInterleavedBufferAttribute){const e=r(t.data,i.data);s=new Kn(e,i.itemSize,i.offset,i.normalized)}else{const t=sr(i.type,i.array);s=new(i.isInstancedBufferAttribute?oa:Cn)(t,i.itemSize,i.normalized)}void 0!==i.name&&(s.name=i.name),void 0!==i.usage&&s.setUsage(i.usage),n.setAttribute(e,s)}const h=t.data.morphAttributes;if(h)for(const e in h){const i=h[e],s=[];for(let e=0,n=i.length;e<n;e++){const n=i[e];let o;if(n.isInterleavedBufferAttribute){const e=r(t.data,n.data);o=new Kn(e,n.itemSize,n.offset,n.normalized)}else{const t=sr(n.type,n.array);o=new Cn(t,n.itemSize,n.normalized)}void 0!==n.name&&(o.name=n.name),s.push(o)}n.morphAttributes[e]=s}t.data.morphTargetsRelative&&(n.morphTargetsRelative=!0);const c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(let t=0,e=c.length;t!==e;++t){const e=c[t];n.addGroup(e.start,e.count,e.materialIndex)}const u=t.data.boundingSphere;return void 0!==u&&(n.boundingSphere=(new Un).fromJSON(u)),t.name&&(n.name=t.name),t.userData&&(n.userData=t.userData),n}}class Wl extends rl{constructor(t){super(t)}load(t,e,i,r){const s=this,n=''===this.path?Vl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||n;const o=new ol(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(i){let n=null;try{n=JSON.parse(i)}catch(e){return void 0!==r&&r(e),void e('ObjectLoader: Can\'t parse '+t+'.',e.message)}const o=n.metadata;if(void 0===o||void 0===o.type||'geometry'===o.type.toLowerCase())return void 0!==r&&r(new Error('THREE.ObjectLoader: Can\'t load '+t)),void fr('ObjectLoader: Can\'t load '+t);s.parse(n,e)},i,r)}async loadAsync(t,e){const i=''===this.path?Vl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||i;const r=new ol(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const s=await r.loadAsync(t,e);let n;try{n=JSON.parse(s)}catch(e){throw new Error('ObjectLoader: Can\'t parse '+t+'. '+e.message)}const o=n.metadata;if(void 0===o||void 0===o.type||'geometry'===o.type.toLowerCase())throw new Error('THREE.ObjectLoader: Can\'t load '+t);return await this.parseAsync(n)}parse(t,e){const i=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,r),n=this.parseImages(t.images,function(){void 0!==e&&e(h)}),o=this.parseTextures(t.textures,n),a=this.parseMaterials(t.materials,o),h=this.parseObject(t.object,s,a,o,i),c=this.parseSkeletons(t.skeletons,h);if(this.bindSkeletons(h,c),this.bindLightTargets(h),void 0!==e){let t=!1;for(const e in n)if(n[e].data instanceof HTMLImageElement){t=!0;break}!1===t&&e(h)}return h}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),s=await this.parseImagesAsync(t.images),n=this.parseTextures(t.textures,s),o=this.parseMaterials(t.materials,n),a=this.parseObject(t.object,r,o,n,e),h=this.parseSkeletons(t.skeletons,a);return this.bindSkeletons(a,h),this.bindLightTargets(a),a}parseShapes(t){const e={};if(void 0!==t)for(let i=0,r=t.length;i<r;i++){const r=(new uc).fromJSON(t[i]);e[r.uuid]=r}return e}parseSkeletons(t,e){const i={},r={};if(e.traverse(function(t){t.isBone&&(r[t.uuid]=t)}),void 0!==t)for(let e=0,s=t.length;e<s;e++){const s=(new na).fromJSON(t[e],r);i[s.uuid]=s}return i}parseGeometries(t,e){const i={};if(void 0!==t){const r=new Ul;for(let s=0,n=t.length;s<n;s++){let n;const o=t[s];switch(o.type){case'BufferGeometry':case'InstancedBufferGeometry':n=r.parse(o);break;default:o.type in lu?n=lu[o.type].fromJSON(o,e):mr(`ObjectLoader: Unsupported geometry type "${o.type}"`)}n.uuid=o.uuid,void 0!==o.name&&(n.name=o.name),void 0!==o.userData&&(n.userData=o.userData),i[o.uuid]=n}}return i}parseMaterials(t,e){const i={},r={};if(void 0!==t){const s=new El;s.setTextures(e);for(let e=0,n=t.length;e<n;e++){const n=t[e];void 0===i[n.uuid]&&(i[n.uuid]=s.parse(n)),r[n.uuid]=i[n.uuid]}}return r}parseAnimations(t){const e={};if(void 0!==t)for(let i=0;i<t.length;i++){const r=t[i],s=Zu.parse(r);e[s.uuid]=s}return e}parseImages(t,e){const i=this,r={};let s;function n(t){return i.manager.itemStart(t),s.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemError(t),i.manager.itemEnd(t)})}function o(t){if('string'==typeof t){const e=t;return n(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:i.resourcePath+e)}return t.data?{data:sr(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){const i=new el(e);s=new ul(i),s.setCrossOrigin(this.crossOrigin);for(let e=0,i=t.length;e<i;e++){const i=t[e],s=i.url;if(Array.isArray(s)){const t=[];for(let e=0,i=s.length;e<i;e++){const i=o(s[e]);null!==i&&(i instanceof HTMLImageElement?t.push(i):t.push(new ia(i.data,i.width,i.height)))}r[i.uuid]=new Xr(t)}else{const t=o(i.url);r[i.uuid]=new Xr(t)}}}return r}async parseImagesAsync(t){const e=this,i={};let r;async function s(t){if('string'==typeof t){const i=t,s=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i)?i:e.resourcePath+i;return await r.loadAsync(s)}return t.data?{data:sr(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){r=new ul(this.manager),r.setCrossOrigin(this.crossOrigin);for(let e=0,r=t.length;e<r;e++){const r=t[e],n=r.url;if(Array.isArray(n)){const t=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],r=await s(i);null!==r&&(r instanceof HTMLImageElement?t.push(r):t.push(new ia(r.data,r.width,r.height)))}i[r.uuid]=new Xr(t)}else{const t=await s(r.url);i[r.uuid]=new Xr(t)}}}return i}parseTextures(t,e){function i(t,e){return'number'==typeof t?t:(mr('ObjectLoader.parseTexture: Constant should be in numeric form.',t),e[t])}const r={};if(void 0!==t)for(let s=0,n=t.length;s<n;s++){const n=t[s];void 0===n.image&&mr('ObjectLoader: No "image" specified for',n.uuid),void 0===e[n.image]&&mr('ObjectLoader: Undefined image',n.image);const o=e[n.image],a=o.data;let h;Array.isArray(a)?(h=new bh,6===a.length&&(h.needsUpdate=!0)):(h=a&&a.data?new ia:new $r,a&&(h.needsUpdate=!0)),h.source=o,h.uuid=n.uuid,void 0!==n.name&&(h.name=n.name),void 0!==n.mapping&&(h.mapping=i(n.mapping,Gl)),void 0!==n.channel&&(h.channel=n.channel),void 0!==n.offset&&h.offset.fromArray(n.offset),void 0!==n.repeat&&h.repeat.fromArray(n.repeat),void 0!==n.center&&h.center.fromArray(n.center),void 0!==n.rotation&&(h.rotation=n.rotation),void 0!==n.wrap&&(h.wrapS=i(n.wrap[0],ql),h.wrapT=i(n.wrap[1],ql)),void 0!==n.format&&(h.format=n.format),void 0!==n.internalFormat&&(h.internalFormat=n.internalFormat),void 0!==n.type&&(h.type=n.type),void 0!==n.colorSpace&&(h.colorSpace=n.colorSpace),void 0!==n.minFilter&&(h.minFilter=i(n.minFilter,Jl)),void 0!==n.magFilter&&(h.magFilter=i(n.magFilter,Jl)),void 0!==n.anisotropy&&(h.anisotropy=n.anisotropy),void 0!==n.flipY&&(h.flipY=n.flipY),void 0!==n.generateMipmaps&&(h.generateMipmaps=n.generateMipmaps),void 0!==n.premultiplyAlpha&&(h.premultiplyAlpha=n.premultiplyAlpha),void 0!==n.unpackAlignment&&(h.unpackAlignment=n.unpackAlignment),void 0!==n.compareFunction&&(h.compareFunction=n.compareFunction),void 0!==n.userData&&(h.userData=n.userData),r[n.uuid]=h}return r}parseObject(t,e,i,r,s){let n,o,a;function h(t){return void 0===e[t]&&mr('ObjectLoader: Undefined geometry',t),e[t]}function c(t){if(void 0!==t){if(Array.isArray(t)){const e=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];void 0===i[s]&&mr('ObjectLoader: Undefined material',s),e.push(i[s])}return e}return void 0===i[t]&&mr('ObjectLoader: Undefined material',t),i[t]}}function u(t){return void 0===r[t]&&mr('ObjectLoader: Undefined texture',t),r[t]}switch(t.type){case'Scene':n=new Gs,void 0!==t.background&&(Number.isInteger(t.background)?n.background=new Vs(t.background):n.background=u(t.background)),void 0!==t.environment&&(n.environment=u(t.environment)),void 0!==t.fog&&('Fog'===t.fog.type?n.fog=new Ws(t.fog.color,t.fog.near,t.fog.far):'FogExp2'===t.fog.type&&(n.fog=new Us(t.fog.color,t.fog.density)),''!==t.fog.name&&(n.fog.name=t.fog.name)),void 0!==t.backgroundBlurriness&&(n.backgroundBlurriness=t.backgroundBlurriness),void 0!==t.backgroundIntensity&&(n.backgroundIntensity=t.backgroundIntensity),void 0!==t.backgroundRotation&&n.backgroundRotation.fromArray(t.backgroundRotation),void 0!==t.environmentIntensity&&(n.environmentIntensity=t.environmentIntensity),void 0!==t.environmentRotation&&n.environmentRotation.fromArray(t.environmentRotation);break;case'PerspectiveCamera':n=new Pl(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(n.focus=t.focus),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.filmGauge&&(n.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(n.filmOffset=t.filmOffset),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case'OrthographicCamera':n=new jl(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case'AmbientLight':n=new Rl(t.color,t.intensity);break;case'DirectionalLight':n=new kl(t.color,t.intensity),n.target=t.target||'';break;case'PointLight':n=new zl(t.color,t.intensity,t.distance,t.decay);break;case'RectAreaLight':n=new Fl(t.color,t.intensity,t.width,t.height);break;case'SpotLight':n=new Cl(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),n.target=t.target||'';break;case'HemisphereLight':n=new fl(t.color,t.groundColor,t.intensity);break;case'LightProbe':const e=(new Ll).fromArray(t.sh);n=new Nl(e,t.intensity);break;case'SkinnedMesh':o=h(t.geometry),a=c(t.material),n=new ta(o,a),void 0!==t.bindMode&&(n.bindMode=t.bindMode),void 0!==t.bindMatrix&&n.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(n.skeleton=t.skeleton);break;case'Mesh':o=h(t.geometry),a=c(t.material),n=new Uo(o,a);break;case'InstancedMesh':o=h(t.geometry),a=c(t.material);const i=t.count,r=t.instanceMatrix,s=t.instanceColor;n=new ma(o,a,i),n.instanceMatrix=new oa(new Float32Array(r.array),16),void 0!==s&&(n.instanceColor=new oa(new Float32Array(s.array),s.itemSize));break;case'BatchedMesh':o=h(t.geometry),a=c(t.material),n=new Ga(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,a),n.geometry=o,n.perObjectFrustumCulled=t.perObjectFrustumCulled,n.sortObjects=t.sortObjects,n._drawRanges=t.drawRanges,n._reservedRanges=t.reservedRanges,n._geometryInfo=t.geometryInfo.map(t=>{let e=null,i=null;return void 0!==t.boundingBox&&(e=(new on).fromJSON(t.boundingBox)),void 0!==t.boundingSphere&&(i=(new Un).fromJSON(t.boundingSphere)),Object.assign({},t,{boundingBox:e,boundingSphere:i})}),n._instanceInfo=t.instanceInfo,n._availableInstanceIds=t._availableInstanceIds,n._availableGeometryIds=t._availableGeometryIds,n._nextIndexStart=t.nextIndexStart,n._nextVertexStart=t.nextVertexStart,n._geometryCount=t.geometryCount,n._maxInstanceCount=t.maxInstanceCount,n._maxVertexCount=t.maxVertexCount,n._maxIndexCount=t.maxIndexCount,n._geometryInitialized=t.geometryInitialized,n._matricesTexture=u(t.matricesTexture.uuid),n._indirectTexture=u(t.indirectTexture.uuid),void 0!==t.colorsTexture&&(n._colorsTexture=u(t.colorsTexture.uuid)),void 0!==t.boundingSphere&&(n.boundingSphere=(new Un).fromJSON(t.boundingSphere)),void 0!==t.boundingBox&&(n.boundingBox=(new on).fromJSON(t.boundingBox));break;case'LOD':n=new Mo;break;case'Line':n=new Ka(h(t.geometry),c(t.material));break;case'LineLoop':n=new sh(h(t.geometry),c(t.material));break;case'LineSegments':n=new rh(h(t.geometry),c(t.material));break;case'PointCloud':case'Points':n=new uh(h(t.geometry),c(t.material));break;case'Sprite':n=new go(c(t.material));break;case'Group':n=new Bs;break;case'Bone':n=new ea;break;default:n=new js}if(n.uuid=t.uuid,void 0!==t.name&&(n.name=t.name),void 0!==t.matrix?(n.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(n.matrixAutoUpdate=t.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.rotation&&n.rotation.fromArray(t.rotation),void 0!==t.quaternion&&n.quaternion.fromArray(t.quaternion),void 0!==t.scale&&n.scale.fromArray(t.scale)),void 0!==t.up&&n.up.fromArray(t.up),void 0!==t.pivot&&(n.pivot=(new Br).fromArray(t.pivot)),void 0!==t.morphTargetDictionary&&(n.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),void 0!==t.morphTargetInfluences&&(n.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.castShadow&&(n.castShadow=t.castShadow),void 0!==t.receiveShadow&&(n.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.intensity&&(n.shadow.intensity=t.shadow.intensity),void 0!==t.shadow.bias&&(n.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(n.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(n.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&n.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(n.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.frustumCulled&&(n.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(n.renderOrder=t.renderOrder),void 0!==t.static&&(n.static=t.static),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.layers&&(n.layers.mask=t.layers),void 0!==t.children){const o=t.children;for(let t=0;t<o.length;t++)n.add(this.parseObject(o[t],e,i,r,s))}if(void 0!==t.animations){const e=t.animations;for(let t=0;t<e.length;t++){const i=e[t];n.animations.push(s[i])}}if('LOD'===t.type){void 0!==t.autoUpdate&&(n.autoUpdate=t.autoUpdate);const e=t.levels;for(let t=0;t<e.length;t++){const i=e[t],r=n.getObjectByProperty('uuid',i.object);void 0!==r&&n.addLevel(r,i.distance,i.hysteresis)}}return n}bindSkeletons(t,e){0!==Object.keys(e).length&&t.traverse(function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){const i=e[t.skeleton];void 0===i?mr('ObjectLoader: No skeleton found with UUID:',t.skeleton):t.bind(i,t.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,r=t.getObjectByProperty('uuid',i);e.target=void 0!==r?r:new js}})}}const Gl={UVMapping:ft,CubeReflectionMapping:yt,CubeRefractionMapping:gt,EquirectangularReflectionMapping:bt,EquirectangularRefractionMapping:xt,CubeUVReflectionMapping:vt},ql={RepeatWrapping:Mt,ClampToEdgeWrapping:wt,MirroredRepeatWrapping:St},Jl={NearestFilter:_t,NearestMipmapNearestFilter:At,NearestMipmapLinearFilter:Pt,LinearFilter:Ct,LinearMipmapNearestFilter:It,LinearMipmapLinearFilter:jt},Xl=new WeakMap;class Hl extends rl{constructor(t){super(t),this.isImageBitmapLoader=!0,'undefined'==typeof createImageBitmap&&mr('ImageBitmapLoader: createImageBitmap() not supported.'),'undefined'==typeof fetch&&mr('ImageBitmapLoader: fetch() not supported.'),this.options={premultiplyAlpha:'none'},this._abortController=new AbortController}setOptions(t){return this.options=t,this}load(t,e,i,r){void 0===t&&(t=''),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,n=Ku.get(`image-bitmap:${t}`);if(void 0!==n)return s.manager.itemStart(t),n.then?void n.then(i=>{if(!0!==Xl.has(n))return e&&e(i),s.manager.itemEnd(t),i;r&&r(Xl.get(n)),s.manager.itemError(t),s.manager.itemEnd(t)}):(setTimeout(function(){e&&e(n),s.manager.itemEnd(t)},0),n);const o={};o.credentials='anonymous'===this.crossOrigin?'same-origin':'include',o.headers=this.requestHeader,o.signal='function'==typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const a=fetch(t,o).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,Object.assign(s.options,{colorSpaceConversion:'none'}))}).then(function(i){return Ku.add(`image-bitmap:${t}`,i),e&&e(i),s.manager.itemEnd(t),i}).catch(function(e){r&&r(e),Xl.set(a,e),Ku.remove(`image-bitmap:${t}`),s.manager.itemError(t),s.manager.itemEnd(t)});Ku.add(`image-bitmap:${t}`,a),s.manager.itemStart(t)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Yl;class Zl{static getContext(){return void 0===Yl&&(Yl=new(window.AudioContext||window.webkitAudioContext)),Yl}static setContext(t){Yl=t}}class $l extends rl{constructor(t){super(t)}load(t,e,i,r){const s=this,n=new ol(this.manager);function o(e){r?r(e):fr(e),s.manager.itemError(t)}n.setResponseType('arraybuffer'),n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(t,function(t){try{const i=t.slice(0);Zl.getContext().decodeAudioData(i,function(t){e(t)}).catch(o)}catch(t){o(t)}},i,r)}}const Ql=new ns,Kl=new ns,tp=new ns;class ep{constructor(){this.type='StereoCamera',this.aspect=1,this.eyeSep=.064,this.cameraL=new Pl,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pl,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,tp.copy(t.projectionMatrix);const i=e.eyeSep/2,r=i*e.near/e.focus,s=e.near*Math.tan(wr*e.fov*.5)/e.zoom;let n,o;Kl.elements[12]=-i,Ql.elements[12]=i,n=-s*e.aspect+r,o=s*e.aspect+r,tp.elements[0]=2*e.near/(o-n),tp.elements[8]=(o+n)/(o-n),this.cameraL.projectionMatrix.copy(tp),n=-s*e.aspect-r,o=s*e.aspect-r,tp.elements[0]=2*e.near/(o-n),tp.elements[8]=(o+n)/(o-n),this.cameraR.projectionMatrix.copy(tp)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Kl),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Ql)}}const ip=-90;class rp extends js{constructor(t,e,i){super(),this.type='CubeCamera',this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Pl(ip,1,t,e);r.layers=this.layers,this.add(r);const s=new Pl(ip,1,t,e);s.layers=this.layers,this.add(s);const n=new Pl(ip,1,t,e);n.layers=this.layers,this.add(n);const o=new Pl(ip,1,t,e);o.layers=this.layers,this.add(o);const a=new Pl(ip,1,t,e);a.layers=this.layers,this.add(a);const h=new Pl(ip,1,t,e);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,r,s,n,o,a]=e;for(const t of e)this.remove(t);if(t===Zi)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),n.up.set(0,0,1),n.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else{if(t!==$i)throw new Error('THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: '+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),n.up.set(0,0,-1),n.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1)}for(const t of e)this.add(t),t.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,n,o,a,h,c]=this.children,u=t.getRenderTarget(),l=t.getActiveCubeFace(),p=t.getActiveMipmapLevel(),d=t.xr.enabled;t.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1;let f=!1;f=!0===t.isWebGLRenderer?t.state.buffers.depth.getReversed():t.reversedDepthBuffer,t.setRenderTarget(i,0,r),f&&!1===t.autoClear&&t.clearDepth(),t.render(e,s),t.setRenderTarget(i,1,r),f&&!1===t.autoClear&&t.clearDepth(),t.render(e,n),t.setRenderTarget(i,2,r),f&&!1===t.autoClear&&t.clearDepth(),t.render(e,o),t.setRenderTarget(i,3,r),f&&!1===t.autoClear&&t.clearDepth(),t.render(e,a),t.setRenderTarget(i,4,r),f&&!1===t.autoClear&&t.clearDepth(),t.render(e,h),i.texture.generateMipmaps=m,t.setRenderTarget(i,5,r),f&&!1===t.autoClear&&t.clearDepth(),t.render(e,c),t.setRenderTarget(u,l,p),t.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class sp extends Pl{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class np{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(t){this._document=t,void 0!==t.hidden&&(this._pageVisibilityHandler=op.bind(this),t.addEventListener('visibilitychange',this._pageVisibilityHandler,!1))}disconnect(){null!==this._pageVisibilityHandler&&(this._document.removeEventListener('visibilitychange',this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(t){return this._timescale=t,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(t){return null!==this._pageVisibilityHandler&&!0===this._document.hidden?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(void 0!==t?t:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function op(){!1===this._document.hidden&&this.reset()}const ap=new Br,hp=new jr,cp=new Br,up=new Br,lp=new Br;class pp extends js{constructor(){super(),this.type='AudioListener',this.context=Zl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._timer=new np}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t),this._timer.update();const e=this.context.listener;if(this.timeDelta=this._timer.getDelta(),this.matrixWorld.decompose(ap,hp,cp),up.set(0,0,-1).applyQuaternion(hp),lp.set(0,1,0).applyQuaternion(hp),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(ap.x,t),e.positionY.linearRampToValueAtTime(ap.y,t),e.positionZ.linearRampToValueAtTime(ap.z,t),e.forwardX.linearRampToValueAtTime(up.x,t),e.forwardY.linearRampToValueAtTime(up.y,t),e.forwardZ.linearRampToValueAtTime(up.z,t),e.upX.linearRampToValueAtTime(lp.x,t),e.upY.linearRampToValueAtTime(lp.y,t),e.upZ.linearRampToValueAtTime(lp.z,t)}else e.setPosition(ap.x,ap.y,ap.z),e.setOrientation(up.x,up.y,up.z,lp.x,lp.y,lp.z)}}class dp extends js{constructor(t){super(),this.type='Audio',this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType='empty',this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType='audioNode',this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType='mediaNode',this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType='mediaStreamNode',this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType='buffer',this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void mr('Audio: Audio is already playing.');if(!1===this.hasPlaybackControl)return void mr('Audio: this Audio has no playback control.');this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;mr('Audio: this Audio has no playback control.')}stop(t=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this;mr('Audio: this Audio has no playback control.')}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;mr('Audio: this Audio has no playback control.')}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(mr('Audio: this Audio has no playback control.'),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;mr('Audio: this Audio has no playback control.')}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),'buffer'!==t.sourceType?(mr('Audio: Audio source type cannot be copied.'),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const mp=new Br,fp=new jr,yp=new Br,gp=new Br;class bp extends dp{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel='HRTF',this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(mp,fp,yp),gp.set(0,0,1).applyQuaternion(fp);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(mp.x,t),e.positionY.linearRampToValueAtTime(mp.y,t),e.positionZ.linearRampToValueAtTime(mp.z,t),e.orientationX.linearRampToValueAtTime(gp.x,t),e.orientationY.linearRampToValueAtTime(gp.y,t),e.orientationZ.linearRampToValueAtTime(gp.z,t)}else e.setPosition(mp.x,mp.y,mp.z),e.setOrientation(gp.x,gp.y,gp.z)}}class xp{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class vp{constructor(t,e,i){let r,s,n;switch(this.binding=t,this.valueSize=i,e){case'quaternion':r=this._slerp,s=this._slerpAdditive,n=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case'string':case'bool':r=this._select,s=this._select,n=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:r=this._lerp,s=this._lerpAdditive,n=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=n,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,r=this.valueSize,s=t*r+r;let n=this.cumulativeWeight;if(0===n){for(let t=0;t!==r;++t)i[s+t]=i[t];n=e}else{n+=e;const t=e/n;this._mixBufferRegion(i,s,0,t,r)}this.cumulativeWeight=n}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,r=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,r=t*e+e,s=this.cumulativeWeight,n=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const t=e*this._origIndex;this._mixBufferRegion(i,r,t,1-s,e)}n>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*e,1,e);for(let t=e,s=e+e;t!==s;++t)if(i[t]!==i[t+e]){o.setValue(i,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,r=i*this._origIndex;t.getValue(e,r);for(let t=i,s=r;t!==s;++t)e[t]=e[r+t%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,r,s){if(r>=.5)for(let r=0;r!==s;++r)t[e+r]=t[i+r]}_slerp(t,e,i,r){jr.slerpFlat(t,e,t,e,t,i,r)}_slerpAdditive(t,e,i,r,s){const n=this._workIndex*s;jr.multiplyQuaternionsFlat(t,n,t,e,t,i),jr.slerpFlat(t,e,t,e,t,n,r)}_lerp(t,e,i,r,s){const n=1-r;for(let o=0;o!==s;++o){const s=e+o;t[s]=t[s]*n+t[i+o]*r}}_lerpAdditive(t,e,i,r,s){for(let n=0;n!==s;++n){const s=e+n;t[s]=t[s]+t[i+n]*r}}}const Mp=new RegExp("[\\[\\]\\.:\\/]",'g'),wp="[^\\[\\]\\.:\\/]",Sp='[^'+'\\[\\]\\.:\\/'.replace('\\.','')+']',_p=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace('WC',wp)+/(WCOD+)?/.source.replace('WCOD',Sp)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace('WC',wp)+/\.(WC+)(?:\[(.+)\])?/.source.replace('WC',wp)+'$'),Ap=['material','materials','bones','map'];class Op{constructor(t,e,i){this.path=e,this.parsedPath=i||Op.parseTrackName(e),this.node=Op.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Op.Composite(t,e,i):new Op(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,'_').replace(Mp,'')}static parseTrackName(t){const e=_p.exec(t);if(null===e)throw new Error('PropertyBinding: Cannot parse trackName: '+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf('.');if(void 0!==r&&-1!==r){const t=i.nodeName.substring(r+1);-1!==Ap.indexOf(t)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=t)}if(null===i.propertyName||0===i.propertyName.length)throw new Error('PropertyBinding: can not parse propertyName from trackName: '+t);return i}static findNode(t,e){if(void 0===e||''===e||'.'===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){const i=function(t){for(let r=0;r<t.length;r++){const s=t[r];if(s.name===e||s.uuid===e)return s;const n=i(s.children);if(n)return n}return null},r=i(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)t[e++]=i[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,r=e.propertyName;let s=e.propertyIndex;if(t||(t=Op.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void mr('PropertyBinding: No target node found for track: '+this.path+'.');if(i){let r=e.objectIndex;switch(i){case'materials':if(!t.material)return void fr('PropertyBinding: Can not bind to material as node does not have a material.',this);if(!t.material.materials)return void fr('PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.',this);t=t.material.materials;break;case'bones':if(!t.skeleton)return void fr('PropertyBinding: Can not bind to bones as node does not have a skeleton.',this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===r){r=e;break}break;case'map':if('map'in t){t=t.map;break}if(!t.material)return void fr('PropertyBinding: Can not bind to material as node does not have a material.',this);if(!t.material.map)return void fr('PropertyBinding: Can not bind to material.map as node.material does not have a map.',this);t=t.material.map;break;default:if(void 0===t[i])return void fr('PropertyBinding: Can not bind to objectName of node undefined.',this);t=t[i]}if(void 0!==r){if(void 0===t[r])return void fr('PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.',this,t);t=t[r]}}const n=t[r];if(void 0===n){return void fr('PropertyBinding: Trying to update property for track: '+e.nodeName+'.'+r+' but it wasn\'t found.',t)}let o=this.Versioning.None;this.targetObject=t,!0===t.isMaterial?o=this.Versioning.NeedsUpdate:!0===t.isObject3D&&(o=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==s){if('morphTargetInfluences'===r){if(!t.geometry)return void fr('PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.',this);if(!t.geometry.morphAttributes)return void fr('PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.',this);void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}a=this.BindingType.ArrayElement,this.resolvedProperty=n,this.propertyIndex=s}else void 0!==n.fromArray&&void 0!==n.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=n):Array.isArray(n)?(a=this.BindingType.EntireArray,this.resolvedProperty=n):this.propertyName=r;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Op.Composite=class{constructor(t,e,i){const r=i||Op.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}},Op.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Op.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Op.prototype.GetterByBindingType=[Op.prototype._getValue_direct,Op.prototype._getValue_array,Op.prototype._getValue_arrayElement,Op.prototype._getValue_toArray],Op.prototype.SetterByBindingTypeAndVersioning=[[Op.prototype._setValue_direct,Op.prototype._setValue_direct_setNeedsUpdate,Op.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Op.prototype._setValue_array,Op.prototype._setValue_array_setNeedsUpdate,Op.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Op.prototype._setValue_arrayElement,Op.prototype._setValue_arrayElement_setNeedsUpdate,Op.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Op.prototype._setValue_fromArray,Op.prototype._setValue_fromArray_setNeedsUpdate,Op.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Pp{constructor(){this.isAnimationObjectGroup=!0,this.uuid=_r(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,n=s.length;let o,a=t.length,h=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],l=u.uuid;let p=e[l];if(void 0===p){p=a++,e[l]=p,t.push(u);for(let t=0,e=n;t!==e;++t)s[t].push(new Op(u,i[t],r[t]))}else if(p<h){o=t[p];const a=--h,c=t[a];e[c.uuid]=p,t[p]=c,e[l]=a,t[a]=u;for(let t=0,e=n;t!==e;++t){const e=s[t],n=e[a];let o=e[p];e[p]=n,void 0===o&&(o=new Op(u,i[t],r[t])),e[a]=o}}else t[p]!==o&&fr("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let n=0,o=arguments.length;n!==o;++n){const o=arguments[n],a=o.uuid,h=e[a];if(void 0!==h&&h>=s){const n=s++,c=t[n];e[c.uuid]=h,t[h]=c,e[a]=n,t[n]=o;for(let t=0,e=r;t!==e;++t){const e=i[t],r=e[n],s=e[h];e[h]=r,e[n]=s}}}this.nCachedObjects_=s}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,n=t.length;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o].uuid,h=e[a];if(void 0!==h)if(delete e[a],h<s){const o=--s,a=t[o],c=--n,u=t[c];e[a.uuid]=h,t[h]=a,e[u.uuid]=o,t[o]=u,t.pop();for(let t=0,e=r;t!==e;++t){const e=i[t],r=e[o],s=e[c];e[h]=r,e[o]=s,e.pop()}}else{const s=--n,o=t[s];s>0&&(e[o.uuid]=h),t[h]=o,t.pop();for(let t=0,e=r;t!==e;++t){const e=i[t];e[h]=e[s],e.pop()}}}this.nCachedObjects_=s}subscribe_(t,e){const i=this._bindingsIndicesByPath;let r=i[t];const s=this._bindings;if(void 0!==r)return s[r];const n=this._paths,o=this._parsedPaths,a=this._objects,h=a.length,c=this.nCachedObjects_,u=new Array(h);r=s.length,i[t]=r,n.push(t),o.push(e),s.push(u);for(let i=c,r=a.length;i!==r;++i){const r=a[i];u[i]=new Op(r,t,e)}return u}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){const r=this._paths,s=this._parsedPaths,n=this._bindings,o=n.length-1,a=n[o];e[t[o]]=i,n[i]=a,n.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class Tp{constructor(t,e,i=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=r;const s=e.tracks,n=s.length,o=new Array(n),a={endingStart:Xe,endingEnd:Xe};for(let t=0;t!==n;++t){const e=s[t].createInterpolant(null);o[t]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=De,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),!0===i){const i=this._clip.duration,r=t._clip.duration,s=r/i,n=i/r;t.warp(1,s,e),this.warp(n,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const r=this._mixer,s=r.time,n=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const a=o.parameterPositions,h=o.sampleValues;return a[0]=s,a[1]=s+i,h[0]=t/n,h[1]=e/n,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,r){if(!this.enabled)return void this._updateWeight(t);const s=this._startTime;if(null!==s){const r=(t-s)*i;r<0||0===i?e=0:(this._startTime=null,e=i*r)}e*=this._updateTimeScale(t);const n=this._updateTime(e),o=this._updateWeight(t);if(o>0){const t=this._interpolants,e=this._propertyBindings;if(this.blendMode===$e)for(let i=0,r=t.length;i!==r;++i)t[i].evaluate(n),e[i].accumulateAdditive(o);else for(let i=0,s=t.length;i!==s;++i)t[i].evaluate(n),e[i].accumulate(r,o)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(null!==i){const r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(null!==i){e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let r=this.time+t,s=this._loopCount;const n=i===Ue;if(0===t)return-1===s||!n||1&~s?r:e-r;if(i===Ve){-1===s&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:'finished',action:this,direction:t<0?-1:1})}}else{if(-1===s&&(t>=0?(s=0,this._setEndings(!0,0===this.repetitions,n)):this._setEndings(0===this.repetitions,!0,n)),r>=e||r<0){const i=Math.floor(r/e);r-=e*i,s+=Math.abs(i);const o=this.repetitions-s;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:'finished',action:this,direction:t>0?1:-1});else{if(1===o){const e=t<0;this._setEndings(e,!e,n)}else this._setEndings(!1,!1,n);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:'loop',action:this,loopDelta:i})}}else this.time=r;if(n&&!(1&~s))return e-r}return r}_setEndings(t,e,i){const r=this._interpolantSettings;i?(r.endingStart=He,r.endingEnd=He):(r.endingStart=t?this.zeroSlopeAtStart?He:Xe:Ye,r.endingEnd=e?this.zeroSlopeAtEnd?He:Xe:Ye)}_scheduleFading(t,e,i){const r=this._mixer,s=r.time;let n=this._weightInterpolant;null===n&&(n=r._lendControlInterpolant(),this._weightInterpolant=n);const o=n.parameterPositions,a=n.sampleValues;return o[0]=s,a[0]=e,o[1]=s+t,a[1]=i,this}}const Cp=new Float32Array(1);class Ip extends xr{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1,'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe',{detail:this}))}_bindAction(t,e){const i=t._localRoot||this._root,r=t._clip.tracks,s=r.length,n=t._propertyBindings,o=t._interpolants,a=i.uuid,h=this._bindingsByRootAndName;let c=h[a];void 0===c&&(c={},h[a]=c);for(let t=0;t!==s;++t){const s=r[t],h=s.name;let u=c[h];if(void 0!==u)++u.referenceCount,n[t]=u;else{if(u=n[t],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,a,h));continue}const r=e&&e._propertyBindings[t].binding.parsedPath;u=new vp(Op.create(i,h,r),s.ValueTypeName,s.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,a,h),n[t]=u}o[t].resultBuffer=u.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0===i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,i){const r=this._actions,s=this._actionsByClip;let n=s[e];if(void 0===n)n={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,s[e]=n;else{const e=n.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=r.length,r.push(t),n.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;const s=t._clip.uuid,n=this._actionsByClip,o=n[s],a=o.knownActions,h=a[a.length-1],c=t._byClipCacheIndex;h._byClipCacheIndex=c,a[c]=h,a.pop(),t._byClipCacheIndex=null;delete o.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete n[s],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0===--i.referenceCount&&this._removeInactiveBinding(i)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_addInactiveBinding(t,e,i){const r=this._bindingsByRootAndName,s=this._bindings;let n=r[e];void 0===n&&(n={},r[e]=n),n[i]=t,t._cacheIndex=s.length,s.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,r=i.rootNode.uuid,s=i.path,n=this._bindingsByRootAndName,o=n[r],a=e[e.length-1],h=t._cacheIndex;a._cacheIndex=h,e[h]=a,e.pop(),delete o[s],0===Object.keys(o).length&&delete n[r]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,s=e[r];t._cacheIndex=r,e[r]=t,s._cacheIndex=i,e[i]=s}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return void 0===i&&(i=new Eu(new Float32Array(2),new Float32Array(2),1,Cp),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,s=e[r];t.__cacheIndex=r,e[r]=t,s.__cacheIndex=i,e[i]=s}clipAction(t,e,i){const r=e||this._root,s=r.uuid;let n='string'==typeof t?Zu.findByName(r,t):t;const o=null!==n?n.uuid:t,a=this._actionsByClip[o];let h=null;if(void 0===i&&(i=null!==n?n.blendMode:Ze),void 0!==a){const t=a.actionByRoot[s];if(void 0!==t&&t.blendMode===i)return t;h=a.knownActions[0],null===n&&(n=h._clip)}if(null===n)return null;const c=new Tp(this,n,e,i);return this._bindAction(c,h),this._addInactiveAction(c,o,s),c}existingAction(t,e){const i=e||this._root,r=i.uuid,s='string'==typeof t?Zu.findByName(i,t):t,n=s?s.uuid:t,o=this._actionsByClip[n];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,r=this.time+=t,s=Math.sign(t),n=this._accuIndex^=1;for(let o=0;o!==i;++o){e[o]._update(r,t,s,n)}const o=this._bindings,a=this._nActiveBindings;for(let t=0;t!==a;++t)o[t].apply(n);return this}setTime(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,r=this._actionsByClip,s=r[i];if(void 0!==s){const t=s.knownActions;for(let i=0,r=t.length;i!==r;++i){const r=t[i];this._deactivateAction(r);const s=r._cacheIndex,n=e[e.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,n._cacheIndex=s,e[s]=n,e.pop(),this._removeInactiveBindingsForAction(r)}delete r[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const t in i){const r=i[t].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const t in r){const e=r[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(t,e){const i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class zp extends Kr{constructor(t=1,e=1,i=1,r={}){super(t,e,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new rs(null,t,e,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class jp{constructor(t){this.value=t}clone(){return new jp(void 0===this.value.clone?this.value:this.value.clone())}}let Bp=0;class kp extends xr{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,'id',{value:Bp++}),this.name='',this.usage=Ei,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return-1!==e&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:'dispose'})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let t=0,i=e.length;t<i;t++){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let t=0;t<i.length;t++)this.uniforms.push(i[t].clone())}return this}clone(){return(new this.constructor).copy(this)}}class Rp extends $n{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class Fp{constructor(t,e,i,r,s,n=!1){this.isGLBufferAttribute=!0,this.name='',this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=n,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const Lp=new ns;class Np{constructor(t,e,i=0,r=1/0){this.ray=new Co(t,e),this.near=i,this.far=r,this.camera=null,this.layers=new ys,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):fr('Raycaster: Unsupported camera type: '+e.type)}setFromXRController(t){return Lp.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Lp),this}intersectObject(t,e=!0,i=[]){return Vp(t,this,i,e),i.sort(Ep),i}intersectObjects(t,e=!0,i=[]){for(let r=0,s=t.length;r<s;r++)Vp(t[r],this,i,e);return i.sort(Ep),i}}function Ep(t,e){return t.distance-e.distance}function Vp(t,e,i,r){let s=!0;if(t.layers.test(e.layers)){!1===t.raycast(e,i)&&(s=!1)}if(!0===s&&!0===r){const r=t.children;for(let t=0,s=r.length;t<s;t++)Vp(r[t],e,i,!0)}}class Dp{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1,mr('THREE.Clock: This module has been deprecated. Please use THREE.Timer instead.')}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=performance.now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}class Up{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Ar(this.phi,t,Math.PI-t),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Ar(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Wp{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return(new this.constructor).copy(this)}}class Gp{constructor(t,e,i,r){Gp.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==t&&this.set(t,e,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,r){const s=this.elements;return s[0]=t,s[2]=e,s[1]=i,s[3]=r,this}}const qp=new zr;class Jp{constructor(t=new zr(1/0,1/0),e=new zr(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=qp.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,qp).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Xp=new Br,Hp=new Br,Yp=new Br,Zp=new Br,$p=new Br,Qp=new Br,Kp=new Br;class td{constructor(t=new Br,e=new Br){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Xp.subVectors(t,this.start),Hp.subVectors(this.end,this.start);const i=Hp.dot(Hp);let r=Hp.dot(Xp)/i;return e&&(r=Ar(r,0,1)),r}closestPointToPoint(t,e,i){const r=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(t,e=Qp,i=Kp){const r=10000000000000001e-32;let s,n;const o=this.start,a=t.start,h=this.end,c=t.end;Yp.subVectors(h,o),Zp.subVectors(c,a),$p.subVectors(o,a);const u=Yp.dot(Yp),l=Zp.dot(Zp),p=Zp.dot($p);if(u<=r&&l<=r)return e.copy(o),i.copy(a),e.sub(i),e.dot(e);if(u<=r)s=0,n=p/l,n=Ar(n,0,1);else{const t=Yp.dot($p);if(l<=r)n=0,s=Ar(-t/u,0,1);else{const e=Yp.dot(Zp),i=u*l-e*e;s=0!==i?Ar((e*p-t*l)/i,0,1):0,n=(e*s+p)/l,n<0?(n=0,s=Ar(-t/u,0,1)):n>1&&(n=1,s=Ar((e-t)/u,0,1))}}return e.copy(o).addScaledVector(Yp,s),i.copy(a).addScaledVector(Zp,n),e.distanceToSquared(i)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const ed=new Br;class id extends js{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type='SpotLightHelper';const i=new Zn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let t=0,e=1,i=32;t<i;t++,e++){const s=t/i*Math.PI*2,n=e/i*Math.PI*2;r.push(Math.cos(s),Math.sin(s),1,Math.cos(n),Math.sin(n),1)}i.setAttribute('position',new Nn(r,3));const s=new qa({fog:!1,toneMapped:!1});this.cone=new rh(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),ed.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ed),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rd=new Br,sd=new ns,nd=new ns;class od extends rh{constructor(t){const e=ad(t),i=new Zn,r=[],s=[];for(let t=0;t<e.length;t++){const i=e[t];i.parent&&i.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}i.setAttribute('position',new Nn(r,3)),i.setAttribute('color',new Nn(s,3));super(i,new qa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type='SkeletonHelper',this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;const n=new Vs(255),o=new Vs(65280);this.setColors(n,o)}updateMatrixWorld(t){const e=this.bones,i=this.geometry,r=i.getAttribute('position');nd.copy(this.root.matrixWorld).invert();for(let t=0,i=0;t<e.length;t++){const s=e[t];s.parent&&s.parent.isBone&&(sd.multiplyMatrices(nd,s.matrixWorld),rd.setFromMatrixPosition(sd),r.setXYZ(i,rd.x,rd.y,rd.z),sd.multiplyMatrices(nd,s.parent.matrixWorld),rd.setFromMatrixPosition(sd),r.setXYZ(i+1,rd.x,rd.y,rd.z),i+=2)}i.getAttribute('position').needsUpdate=!0,super.updateMatrixWorld(t)}setColors(t,e){const i=this.geometry.getAttribute('color');for(let r=0;r<i.count;r+=2)i.setXYZ(r,t.r,t.g,t.b),i.setXYZ(r+1,e.r,e.g,e.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function ad(t){const e=[];!0===t.isBone&&e.push(t);for(let i=0;i<t.children.length;i++)e.push(...ad(t.children[i]));return e}class hd extends Uo{constructor(t,e,i){super(new su(e,4,2),new Io({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.color=i,this.type='PointLightHelper',this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const cd=new Br,ud=new Vs,ld=new Vs;class pd extends js{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type='HemisphereLightHelper';const r=new Kc(e);r.rotateY(.5*Math.PI),this.material=new Io({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const s=r.getAttribute('position'),n=new Float32Array(3*s.count);r.setAttribute('color',new Cn(n,3)),this.add(new Uo(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute('color');ud.copy(this.light.color),ld.copy(this.light.groundColor);for(let t=0,i=e.count;t<i;t++){const r=t<i/2?ud:ld;e.setXYZ(t,r.r,r.g,r.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(cd.setFromMatrixPosition(this.light.matrixWorld).negate())}}class dd extends rh{constructor(t=10,e=10,i=4473924,r=8947848){i=new Vs(i),r=new Vs(r);const s=e/2,n=t/e,o=t/2,a=[],h=[];for(let t=0,c=0,u=-o;t<=e;t++,u+=n){a.push(-o,0,u,o,0,u),a.push(u,0,-o,u,0,o);const e=t===s?i:r;e.toArray(h,c),c+=3,e.toArray(h,c),c+=3,e.toArray(h,c),c+=3,e.toArray(h,c),c+=3}const c=new Zn;c.setAttribute('position',new Nn(a,3)),c.setAttribute('color',new Nn(h,3));super(c,new qa({vertexColors:!0,toneMapped:!1})),this.type='GridHelper'}dispose(){this.geometry.dispose(),this.material.dispose()}}class md extends rh{constructor(t=10,e=16,i=8,r=64,s=4473924,n=8947848){s=new Vs(s),n=new Vs(n);const o=[],a=[];if(e>1)for(let i=0;i<e;i++){const r=i/e*(2*Math.PI),h=Math.sin(r)*t,c=Math.cos(r)*t;o.push(0,0,0),o.push(h,0,c);const u=1&i?s:n;a.push(u.r,u.g,u.b),a.push(u.r,u.g,u.b)}for(let e=0;e<i;e++){const h=1&e?s:n,c=t-t/i*e;for(let t=0;t<r;t++){let e=t/r*(2*Math.PI),i=Math.sin(e)*c,s=Math.cos(e)*c;o.push(i,0,s),a.push(h.r,h.g,h.b),e=(t+1)/r*(2*Math.PI),i=Math.sin(e)*c,s=Math.cos(e)*c,o.push(i,0,s),a.push(h.r,h.g,h.b)}}const h=new Zn;h.setAttribute('position',new Nn(o,3)),h.setAttribute('color',new Nn(a,3));super(h,new qa({vertexColors:!0,toneMapped:!1})),this.type='PolarGridHelper'}dispose(){this.geometry.dispose(),this.material.dispose()}}const fd=new Br,yd=new Br,gd=new Br;class bd extends js{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type='DirectionalLightHelper',void 0===e&&(e=1);let r=new Zn;r.setAttribute('position',new Nn([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const s=new qa({fog:!1,toneMapped:!1});this.lightPlane=new Ka(r,s),this.add(this.lightPlane),r=new Zn,r.setAttribute('position',new Nn([0,0,0,0,0,1],3)),this.targetLine=new Ka(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),fd.setFromMatrixPosition(this.light.matrixWorld),yd.setFromMatrixPosition(this.light.target.matrixWorld),gd.subVectors(yd,fd),this.lightPlane.lookAt(yd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(yd),this.targetLine.scale.z=gd.length()}}const xd=new Br,vd=new Sl;class Md extends rh{constructor(t){const e=new Zn,i=new qa({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],n={};function o(t,e){a(t),a(e)}function a(t){r.push(0,0,0),s.push(0,0,0),void 0===n[t]&&(n[t]=[]),n[t].push(r.length/3-1)}o('n1','n2'),o('n2','n4'),o('n4','n3'),o('n3','n1'),o('f1','f2'),o('f2','f4'),o('f4','f3'),o('f3','f1'),o('n1','f1'),o('n2','f2'),o('n3','f3'),o('n4','f4'),o('p','n1'),o('p','n2'),o('p','n3'),o('p','n4'),o('u1','u2'),o('u2','u3'),o('u3','u1'),o('c','t'),o('p','c'),o('cn1','cn2'),o('cn3','cn4'),o('cf1','cf2'),o('cf3','cf4'),e.setAttribute('position',new Nn(r,3)),e.setAttribute('color',new Nn(s,3)),super(e,i),this.type='CameraHelper',this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update();const h=new Vs(16755200),c=new Vs(16711680),u=new Vs(43775),l=new Vs(16777215),p=new Vs(3355443);this.setColors(h,c,u,l,p)}setColors(t,e,i,r,s){const n=this.geometry.getAttribute('color');return n.setXYZ(0,t.r,t.g,t.b),n.setXYZ(1,t.r,t.g,t.b),n.setXYZ(2,t.r,t.g,t.b),n.setXYZ(3,t.r,t.g,t.b),n.setXYZ(4,t.r,t.g,t.b),n.setXYZ(5,t.r,t.g,t.b),n.setXYZ(6,t.r,t.g,t.b),n.setXYZ(7,t.r,t.g,t.b),n.setXYZ(8,t.r,t.g,t.b),n.setXYZ(9,t.r,t.g,t.b),n.setXYZ(10,t.r,t.g,t.b),n.setXYZ(11,t.r,t.g,t.b),n.setXYZ(12,t.r,t.g,t.b),n.setXYZ(13,t.r,t.g,t.b),n.setXYZ(14,t.r,t.g,t.b),n.setXYZ(15,t.r,t.g,t.b),n.setXYZ(16,t.r,t.g,t.b),n.setXYZ(17,t.r,t.g,t.b),n.setXYZ(18,t.r,t.g,t.b),n.setXYZ(19,t.r,t.g,t.b),n.setXYZ(20,t.r,t.g,t.b),n.setXYZ(21,t.r,t.g,t.b),n.setXYZ(22,t.r,t.g,t.b),n.setXYZ(23,t.r,t.g,t.b),n.setXYZ(24,e.r,e.g,e.b),n.setXYZ(25,e.r,e.g,e.b),n.setXYZ(26,e.r,e.g,e.b),n.setXYZ(27,e.r,e.g,e.b),n.setXYZ(28,e.r,e.g,e.b),n.setXYZ(29,e.r,e.g,e.b),n.setXYZ(30,e.r,e.g,e.b),n.setXYZ(31,e.r,e.g,e.b),n.setXYZ(32,i.r,i.g,i.b),n.setXYZ(33,i.r,i.g,i.b),n.setXYZ(34,i.r,i.g,i.b),n.setXYZ(35,i.r,i.g,i.b),n.setXYZ(36,i.r,i.g,i.b),n.setXYZ(37,i.r,i.g,i.b),n.setXYZ(38,r.r,r.g,r.b),n.setXYZ(39,r.r,r.g,r.b),n.setXYZ(40,s.r,s.g,s.b),n.setXYZ(41,s.r,s.g,s.b),n.setXYZ(42,s.r,s.g,s.b),n.setXYZ(43,s.r,s.g,s.b),n.setXYZ(44,s.r,s.g,s.b),n.setXYZ(45,s.r,s.g,s.b),n.setXYZ(46,s.r,s.g,s.b),n.setXYZ(47,s.r,s.g,s.b),n.setXYZ(48,s.r,s.g,s.b),n.setXYZ(49,s.r,s.g,s.b),n.needsUpdate=!0,this}update(){const t=this.geometry,e=this.pointMap;let i,r;if(vd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),!0===this.camera.reversedDepth)i=1,r=0;else if(this.camera.coordinateSystem===Zi)i=-1,r=1;else{if(this.camera.coordinateSystem!==$i)throw new Error('THREE.CameraHelper.update(): Invalid coordinate system: '+this.camera.coordinateSystem);i=0,r=1}wd('c',e,t,vd,0,0,i),wd('t',e,t,vd,0,0,r),wd('n1',e,t,vd,-1,-1,i),wd('n2',e,t,vd,1,-1,i),wd('n3',e,t,vd,-1,1,i),wd('n4',e,t,vd,1,1,i),wd('f1',e,t,vd,-1,-1,r),wd('f2',e,t,vd,1,-1,r),wd('f3',e,t,vd,-1,1,r),wd('f4',e,t,vd,1,1,r),wd('u1',e,t,vd,.7,1.1,i),wd('u2',e,t,vd,-.7,1.1,i),wd('u3',e,t,vd,0,2,i),wd('cf1',e,t,vd,-1,0,r),wd('cf2',e,t,vd,1,0,r),wd('cf3',e,t,vd,0,-1,r),wd('cf4',e,t,vd,0,1,r),wd('cn1',e,t,vd,-1,0,i),wd('cn2',e,t,vd,1,0,i),wd('cn3',e,t,vd,0,-1,i),wd('cn4',e,t,vd,0,1,i),t.getAttribute('position').needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function wd(t,e,i,r,s,n,o){xd.set(s,n,o).unproject(r);const a=e[t];if(void 0!==a){const t=i.getAttribute('position');for(let e=0,i=a.length;e<i;e++)t.setXYZ(a[e],xd.x,xd.y,xd.z)}}const Sd=new on;class _d extends rh{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Zn;s.setIndex(new Cn(i,1)),s.setAttribute('position',new Cn(r,3)),super(s,new qa({color:e,toneMapped:!1})),this.object=t,this.type='BoxHelper',this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&Sd.setFromObject(this.object),Sd.isEmpty())return;const t=Sd.min,e=Sd.max,i=this.geometry.attributes.position,r=i.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ad extends rh{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Zn;r.setIndex(new Cn(i,1)),r.setAttribute('position',new Nn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new qa({color:e,toneMapped:!1})),this.box=t,this.type='Box3Helper',this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Od extends Ka{constructor(t,e=1,i=16776960){const r=i,s=new Zn;s.setAttribute('position',new Nn([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),s.computeBoundingSphere(),super(s,new qa({color:r,toneMapped:!1})),this.type='PlaneHelper',this.plane=t,this.size=e;const n=new Zn;n.setAttribute('position',new Nn([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Uo(n,new Io({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Pd=new Br;let Td,Cd;class Id extends js{constructor(t=new Br(0,0,1),e=new Br(0,0,0),i=1,r=16776960,s=.2*i,n=.2*s){super(),this.type='ArrowHelper',void 0===Td&&(Td=new Zn,Td.setAttribute('position',new Nn([0,0,0,0,1,0],3)),Cd=new Ph(.5,1,5,1),Cd.translate(0,-.5,0)),this.position.copy(e),this.line=new Ka(Td,new qa({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Uo(Cd,new Io({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,s,n)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Pd.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Pd,e)}}setLength(t,e=.2*t,i=.2*e){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class zd extends rh{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new Zn;i.setAttribute('position',new Nn(e,3)),i.setAttribute('color',new Nn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(i,new qa({vertexColors:!0,toneMapped:!1})),this.type='AxesHelper'}setColors(t,e,i){const r=new Vs,s=this.geometry.attributes.color.array;return r.set(t),r.toArray(s,0),r.toArray(s,3),r.set(e),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jd{constructor(){this.type='ShapePath',this.color=new Vs,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new cc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,r){return this.currentPath.quadraticCurveTo(t,e,i,r),this}bezierCurveTo(t,e,i,r,s,n){return this.currentPath.bezierCurveTo(t,e,i,r,s,n),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(t,e){const i=e.length;let r=!1;for(let s=i-1,n=0;n<i;s=n++){let i=e[s],o=e[n],a=o.x-i.x,h=o.y-i.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(i=e[n],a=-a,o=e[s],h=-h),t.y<i.y||t.y>o.y)continue;if(t.y===i.y){if(t.x===i.x)return!0}else{const e=h*(t.x-i.x)-a*(t.y-i.y);if(0===e)return!0;if(e<0)continue;r=!r}}else{if(t.y!==i.y)continue;if(o.x<=t.x&&t.x<=i.x||i.x<=t.x&&t.x<=o.x)return!0}}return r}const i=qc.isClockWise,r=this.subPaths;if(0===r.length)return[];let s,n,o;const a=[];if(1===r.length)return n=r[0],o=new uc,o.curves=n.curves,a.push(o),a;let h=!i(r[0].getPoints());h=t?!h:h;const c=[],u=[];let l,p,d=[],m=0;u[m]=void 0,d[m]=[];for(let e=0,o=r.length;e<o;e++)n=r[e],l=n.getPoints(),s=i(l),s=t?!s:s,s?(!h&&u[m]&&m++,u[m]={s:new uc,p:l},u[m].s.curves=n.curves,h&&m++,d[m]=[]):d[m].push({h:n,p:l[0]});if(!u[0])return(function(t){const e=[];for(let i=0,r=t.length;i<r;i++){const r=t[i],s=new uc;s.curves=r.curves,e.push(s)}return e})(r);if(u.length>1){let t=!1,i=0;for(let t=0,e=u.length;t<e;t++)c[t]=[];for(let r=0,s=u.length;r<s;r++){const s=d[r];for(let n=0;n<s.length;n++){const o=s[n];let a=!0;for(let s=0;s<u.length;s++)e(o.p,u[s].p)&&(r!==s&&i++,a?(a=!1,c[s].push(o)):t=!0);a&&c[r].push(o)}}i>0&&!1===t&&(d=c)}for(let t=0,e=u.length;t<e;t++){o=u[t].s,a.push(o),p=d[t];for(let t=0,e=p.length;t<e;t++)o.holes.push(p[t].h)}return a}}class Bd extends xr{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){void 0!==t?(null!==this.domElement&&this.disconnect(),this.domElement=t):mr('Controls: connect() now requires an element.')}disconnect(){}dispose(){}update(){}}function kd(t,e){const i=t.image&&t.image.width?t.image.width/t.image.height:1;return i>e?(t.repeat.x=1,t.repeat.y=i/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/i,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Rd(t,e){const i=t.image&&t.image.width?t.image.width/t.image.height:1;return i>e?(t.repeat.x=e/i,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=i/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Fd(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function Ld(t,e,i,r){const s=Nd(r);switch(i){case Xt:return t*e;case Qt:case Kt:return t*e/s.components*s.byteLength;case te:case ee:return t*e*2/s.components*s.byteLength;case Ht:return t*e*3/s.components*s.byteLength;case Yt:case re:return t*e*4/s.components*s.byteLength;case se:case ne:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case oe:case ae:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ce:case le:return Math.max(t,16)*Math.max(e,8)/4;case he:case ue:return Math.max(t,8)*Math.max(e,8)/2;case pe:case de:case fe:case ye:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case me:case ge:case be:case xe:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ve:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Me:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case we:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Se:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case _e:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Ae:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Oe:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Pe:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Te:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Ce:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Ie:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case ze:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case je:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Be:case ke:case Re:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Fe:case Le:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Ne:case Ee:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${i} format.`)}function Nd(t){switch(t){case kt:case Rt:return{byteLength:1,components:1};case Lt:case Ft:case Dt:return{byteLength:2,components:1};case Ut:case Wt:return{byteLength:2,components:4};case Et:case Nt:case Vt:return{byteLength:4,components:1};case qt:case Jt:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Ed{static contain(t,e){return kd(t,e)}static cover(t,e){return Rd(t,e)}static fill(t){return Fd(t)}static getByteLength(t,e,i,r){return Ld(t,e,i,r)}}'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register',{detail:{revision:a}})),'undefined'!=typeof window&&(window.__THREE__?mr('WARNING: Multiple instances of Three.js being imported.'):window.__THREE__=a)},214,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"createWithEqualityFn",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,"useStoreWithEqualityFn",{enumerable:!0,get:function(){return s}});var t=e(r(d[0])),n=e(r(d[1])),u=r(d[2]);const{useSyncExternalStoreWithSelector:c}=n.default,o=e=>e;function s(e,n=o,u){const s=c(e.subscribe,e.getState,e.getInitialState,n,u);return t.default.useDebugValue(s),s}const l=(e,t)=>{const n=(0,u.createStore)(e),c=(e,u=t)=>s(n,e,u);return Object.assign(c,n),c},f=(e,t)=>e?l(e,t):l},215,[36,216,184]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},216,[217]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var u=r(d[0]),n=r(d[1]);var t="function"==typeof Object.is?Object.is:function(u,n){return u===n&&(0!==u||1/u==1/n)||u!=u&&n!=n},l=n.useSyncExternalStore,c=u.useRef,f=u.useEffect,o=u.useMemo,v=u.useDebugValue;e.useSyncExternalStoreWithSelector=function(u,n,s,S,h){var V=c(null);if(null===V.current){var b={hasValue:!1,value:null};V.current=b}else b=V.current;V=o(function(){function u(u){if(!f){if(f=!0,l=u,u=S(u),void 0!==h&&b.hasValue){var n=b.value;if(h(n,u))return c=n}return c=u}if(n=c,t(l,u))return n;var o=S(u);return void 0!==h&&h(n,o)?(l=u,n):(l=u,c=o)}var l,c,f=!1,o=void 0===s?null:s;return[function(){return u(n())},null===o?void 0:function(){return u(o())}]},[n,s,S,h]);var y=l(u,V[0],V[1]);return f(function(){b.hasValue=!0,b.value=y},[y]),v(y),y}},217,[36,218]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},218,[219]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=r(d[0]);var n="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},u=t.useState,o=t.useEffect,c=t.useLayoutEffect,s=t.useDebugValue;function f(t){var u=t.getSnapshot;t=t.value;try{var o=u();return!n(t,o)}catch(t){return!0}}var v="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,n){return n()}:function(t,n){var v=n(),S=u({inst:{value:v,getSnapshot:n}}),l=S[0].inst,y=S[1];return c(function(){l.value=v,l.getSnapshot=n,f(l)&&y({inst:l})},[t,v,n]),o(function(){return f(l)&&y({inst:l}),t(function(){f(l)&&y({inst:l})})},[t]),s(v),v};e.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:v},219,[36]);
__d(function(g,r,_i,_a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"clear",{enumerable:!0,get:function(){return f}}),Object.defineProperty(e,"peek",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"preload",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,"suspend",{enumerable:!0,get:function(){return i}});const t=[];function n(t,n,o=(t,n)=>t===n){if(t===n)return!0;if(!t||!n)return!1;const i=t.length;if(n.length!==i)return!1;for(let u=0;u<i;u++)if(!o(t[u],n[u]))return!1;return!0}function o(o,i=null,u=!1,s={}){null===i&&(i=[o]);for(const o of t)if(n(i,o.keys,o.equal)){if(u)return;if(Object.prototype.hasOwnProperty.call(o,'error'))throw o.error;if(Object.prototype.hasOwnProperty.call(o,'response'))return s.lifespan&&s.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,s.lifespan)),o.response;if(!u)throw o.promise}const f={keys:i,equal:s.equal,remove:()=>{const n=t.indexOf(f);-1!==n&&t.splice(n,1)},promise:(l=o,'object'==typeof l&&'function'==typeof l.then?o:o(...i)).then(t=>{f.response=t,s.lifespan&&s.lifespan>0&&(f.timeout=setTimeout(f.remove,s.lifespan))}).catch(t=>f.error=t)};var l;if(t.push(f),!u)throw f.promise}const i=(t,n,i)=>o(t,n,!1,i),u=(t,n,i)=>{o(t,n,!0,i)},s=o=>{var i;return null==(i=t.find(t=>n(o,t.keys,t.equal)))?void 0:i.response},f=o=>{if(void 0===o||0===o.length)t.splice(0,t.length);else{const i=t.find(t=>n(o,t.keys,t.equal));i&&i.remove()}}},220,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},221,[222]);
__d(function(g,r,i,_a,m,e,d){
/**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function n(n,t){var a=n.length;n.push(t);e:for(;0<a;){var o=a-1>>>1,u=n[o];if(!(0<l(u,t)))break e;n[o]=t,n[a]=u,a=o}}function t(n){return 0===n.length?null:n[0]}function a(n){if(0===n.length)return null;var t=n[0],a=n.pop();if(a!==t){n[0]=a;e:for(var o=0,u=n.length,s=u>>>1;o<s;){var f=2*(o+1)-1,c=n[f],b=f+1,p=n[b];if(0>l(c,a))b<u&&0>l(p,c)?(n[o]=p,n[b]=a,o=b):(n[o]=c,n[f]=a,o=f);else{if(!(b<u&&0>l(p,a)))break e;n[o]=p,n[b]=a,o=b}}}return t}function l(n,t){var a=n.sortIndex-t.sortIndex;return 0!==a?a:n.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();e.unstable_now=function(){return u.now()-s}}var f=[],c=[],b=1,p=null,v=3,y=!1,_=!1,k=!1,w=!1,h="function"==typeof setTimeout?setTimeout:null,T="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function I(l){for(var o=t(c);null!==o;){if(null===o.callback)a(c);else{if(!(o.startTime<=l))break;a(c),o.sortIndex=o.expirationTime,n(f,o)}o=t(c)}}function P(n){if(k=!1,I(n),!_)if(null!==t(f))_=!0,L||(L=!0,C());else{var a=t(c);null!==a&&N(P,a.startTime-n)}}var C,L=!1,M=-1,j=5,F=-1;function R(){return!!w||!(e.unstable_now()-F<j)}function q(){if(w=!1,L){var n=e.unstable_now();F=n;var l=!0;try{e:{_=!1,k&&(k=!1,T(M),M=-1),y=!0;var o=v;try{n:{for(I(n),p=t(f);null!==p&&!(p.expirationTime>n&&R());){var u=p.callback;if("function"==typeof u){p.callback=null,v=p.priorityLevel;var s=u(p.expirationTime<=n);if(n=e.unstable_now(),"function"==typeof s){p.callback=s,I(n),l=!0;break n}p===t(f)&&a(f),I(n)}else a(f);p=t(f)}if(null!==p)l=!0;else{var b=t(c);null!==b&&N(P,b.startTime-n),l=!1}}break e}finally{p=null,v=o,y=!1}l=void 0}}finally{l?C():L=!1}}}if("function"==typeof x)C=function(){x(q)};else if("undefined"!=typeof MessageChannel){var B=new MessageChannel,D=B.port2;B.port1.onmessage=q,C=function(){D.postMessage(null)}}else C=function(){h(q,0)};function N(n,t){M=h(function(){n(e.unstable_now())},t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(n){n.callback=null},e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<n?Math.floor(1e3/n):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(n){switch(v){case 1:case 2:case 3:var t=3;break;default:t=v}var a=v;v=t;try{return n()}finally{v=a}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(n,t){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var a=v;v=n;try{return t()}finally{v=a}},e.unstable_scheduleCallback=function(a,l,o){var u=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?u+o:u:o=u,a){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return a={id:b++,callback:l,priorityLevel:a,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(a.sortIndex=o,n(c,a),null===t(f)&&a===t(c)&&(k?(T(M),M=-1):k=!0,N(P,o-u))):(a.sortIndex=s,n(f,a),_||y||(_=!0,L||(L=!0,C()))),a},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(n){var t=v;return function(){var a=v;v=t;try{return n.apply(this,arguments)}finally{v=a}}}},222,[]);
__d(function(g,_r,_i,_a,_m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"FiberProvider",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"traverseFiber",{enumerable:!0,get:function(){return n}}),Object.defineProperty(_e,"useContainer",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,"useContextBridge",{enumerable:!0,get:function(){return b}}),Object.defineProperty(_e,"useContextMap",{enumerable:!0,get:function(){return d}}),Object.defineProperty(_e,"useFiber",{enumerable:!0,get:function(){return i}}),Object.defineProperty(_e,"useNearestChild",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,"useNearestParent",{enumerable:!0,get:function(){return f}});var e=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(_r(_d[0]));const t=(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product))})()?e.useLayoutEffect:e.useEffect;function n(e,t,r){if(!e)return;if(!0===r(e))return e;let o=t?e.return:e.child;for(;o;){const e=n(o,t,r);if(e)return e;o=t?null:o.sibling}}function r(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const o=r(e.createContext(null));class u extends e.Component{render(){return e.createElement(o.Provider,{value:this._reactInternals},this.props.children)}}function i(){const t=e.useContext(o);if(null===t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const r=e.useId();return e.useMemo(()=>{for(const e of[t,null==t?void 0:t.alternate]){if(!e)continue;const t=n(e,!1,e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===r)return!0;t=t.next}});if(t)return t}},[t,r])}function c(){const t=i(),r=e.useMemo(()=>n(t,!0,e=>{var t;return null!=(null==(t=e.stateNode)?void 0:t.containerInfo)}),[t]);return null==r?void 0:r.stateNode.containerInfo}function s(r){const o=i(),u=e.useRef(void 0);return t(()=>{var e;u.current=null==(e=n(o,!1,e=>"string"==typeof e.type&&(void 0===r||e.type===r)))?void 0:e.stateNode},[o]),u}function f(r){const o=i(),u=e.useRef(void 0);return t(()=>{var e;u.current=null==(e=n(o,!0,e=>"string"==typeof e.type&&(void 0===r||e.type===r)))?void 0:e.stateNode},[o]),u}const l=Symbol.for("react.context"),a=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l;function d(){const t=i(),[n]=e.useState(()=>new Map);n.clear();let u=t;for(;u;){const t=u.type;a(t)&&t!==o&&!n.has(t)&&n.set(t,e.use(r(t))),u=u.return}return n}function b(){const t=d();return e.useMemo(()=>Array.from(t.keys()).reduce((n,r)=>o=>e.createElement(n,null,e.createElement(r.Provider,Object.assign({},o,{value:t.get(r)}))),t=>e.createElement(u,Object.assign({},t))),[t])}},223,[36]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},224,[225]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return T}});var o=e(r(d[0])),n=e(r(d[1])),t=n.default.currentCentroidXOfTouchesChangedAfter,u=n.default.currentCentroidYOfTouchesChangedAfter,s=n.default.previousCentroidXOfTouchesChangedAfter,c=n.default.previousCentroidYOfTouchesChangedAfter,l=n.default.currentCentroidX,p=n.default.currentCentroidY,v={_initializeGestureState(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove(e,o){e.numberActiveTouches=o.numberActiveTouches,e.moveX=t(o,e._accountsForMovesUpTo),e.moveY=u(o,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,l=s(o,n),p=t(o,n),v=c(o,n),h=u(o,n),S=e.dx+(p-l),R=e.dy+(h-v),T=o.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(S-e.dx)/T,e.vy=(R-e.dy)/T,e.dx=S,e.dy=R,e._accountsForMovesUpTo=o.mostRecentTimeStamp},create(e){var n={handle:null,shouldCancelClick:!1,timeout:null},t={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:o=>null!=e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(o,t),onMoveShouldSetResponder:o=>null!=e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(o,t),onStartShouldSetResponderCapture:o=>(1===o.nativeEvent.touches.length&&v._initializeGestureState(t),t.numberActiveTouches=o.touchHistory.numberActiveTouches,null!=e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(o,t)),onMoveShouldSetResponderCapture(o){var n=o.touchHistory;return t._accountsForMovesUpTo!==n.mostRecentTimeStamp&&(v._updateGestureStateOnMove(t,n),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(o,t))},onResponderGrant:u=>(n.handle||(n.handle=o.default.createInteractionHandle()),n.timeout&&S(n),n.shouldCancelClick=!0,t.x0=l(u.touchHistory),t.y0=p(u.touchHistory),t.dx=0,t.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(u,t),null==e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder(u,t)),onResponderReject(o){h(n,e.onPanResponderReject,o,t)},onResponderRelease(o){h(n,e.onPanResponderRelease,o,t),R(n),v._initializeGestureState(t)},onResponderStart(o){var n=o.touchHistory;t.numberActiveTouches=n.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(o,t)},onResponderMove(o){var n=o.touchHistory;t._accountsForMovesUpTo!==n.mostRecentTimeStamp&&(v._updateGestureStateOnMove(t,n),e.onPanResponderMove&&e.onPanResponderMove(o,t))},onResponderEnd(o){var u=o.touchHistory;t.numberActiveTouches=u.numberActiveTouches,h(n,e.onPanResponderEnd,o,t)},onResponderTerminate(o){h(n,e.onPanResponderTerminate,o,t),R(n),v._initializeGestureState(t)},onResponderTerminationRequest:o=>null==e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(o,t),onClickCapture:e=>{!0===n.shouldCancelClick&&(e.stopPropagation(),e.preventDefault())}},getInteractionHandle:()=>n.handle}}};function h(e,n,t,u){e.handle&&(o.default.clearInteractionHandle(e.handle),e.handle=null),n&&n(t,u)}function S(e){clearTimeout(e.timeout)}function R(e){e.timeout=setTimeout(()=>{e.shouldCancelClick=!1},250)}var T=v},225,[226,229]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return _}});var t=e(r(d[0])),n=e(r(d[1])),o=e(r(d[2])),s=e(r(d[3])),c=new o.default,u={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions(e){var t=[],n=new Promise(n=>{S(),e&&t.push(e),t.push({run:n,name:'resolve '+(e&&e.name||'?')}),h.enqueueTasks(t)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{h.cancelTasks(t)}}},createInteractionHandle(){S();var e=++w;return f.add(e),e},clearInteractionHandle(e){(0,t.default)(!!e,'Must provide a handle to clear.'),S(),f.delete(e),v.add(e)},addListener:c.addListener.bind(c),setDeadline(e){b=e}},l=new Set,f=new Set,v=new Set,h=new n.default({onMoreTasks:S}),p=0,w=0,b=-1;function S(){p||(p=b>0?setTimeout(T):(0,s.default)(T))}function T(){p=0;var e=l.size;f.forEach(e=>l.add(e)),v.forEach(e=>l.delete(e));var t=l.size;if(0!==e&&0===t?c.emit(u.Events.interactionComplete):0===e&&0!==t&&c.emit(u.Events.interactionStart),0===t)for(var n=Date.now();h.hasTasksToProcess();)if(h.processNext(),b>0&&Date.now()-n>=b){S();break}f.clear(),v.clear()}var _=u},226,[26,227,138,228]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var t=e(r(d[0])),s=e(r(d[1]));var u=class{constructor(e){var t=e.onMoreTasks;this._onMoreTasks=t,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(e=>this.enqueue(e))}cancelTasks(e){this._queueStack=this._queueStack.map(s=>(0,t.default)((0,t.default)({},s),{},{tasks:s.tasks.filter(t=>-1===e.indexOf(t))})).filter((e,t)=>e.tasks.length>0||0===t)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():((0,s.default)('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}_getCurrentQueue(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}_genPromise(e){var t=this._queueStack.push({tasks:[],popable:!1})-1,s=this._queueStack[t];e.gen().then(()=>{s.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(t=>{setTimeout(()=>{throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t},0)})}}},227,[21,26]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}}),Object.defineProperty(_e,"cancelIdleCallback",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),n=((e=t)&&e.__esModule?e:{default:e}).default&&void 0!==window.requestIdleCallback,l=n?window.requestIdleCallback:function(e,t){return setTimeout(()=>{var t=Date.now();e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})},1)},u=n?window.cancelIdleCallback:function(e){clearTimeout(e)},o=l},228,[41]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var n={centroidDimension:function(t,i,o,u){var c=t.touchBank,f=0,s=0,h=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==h)h.touchActive&&h.currentTimeStamp>i&&(f+=u&&o?h.currentPageX:u&&!o?h.currentPageY:!u&&o?h.previousPageX:h.previousPageY,s=1);else for(var v=0;v<c.length;v++){var l=c[v];if(null!=l&&l.touchActive&&l.currentTimeStamp>=i){f+=u&&o?l.currentPageX:u&&!o?l.currentPageY:!u&&o?l.previousPageX:l.previousPageY,s++}}return s>0?f/s:n.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!1)},currentCentroidX:function(t){return n.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return n.centroidDimension(t,0,!1,!0)},noCentroid:-1},t=n},229,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};class n{static get(){return u.default.get('window').scale}static getFontScale(){return u.default.get('window').fontScale||n.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*n.get())}static roundToNearestPixel(e){var t=n.get();return Math.round(e*t)/t}}},230,[177]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return P}});var t=e(r(_d[0])),n=e(r(_d[1])),o=e(r(_d[2])),l=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[3])),u=e(r(_d[4])),d=r(_d[5]),s=r(_d[6]),c=e(r(_d[7])),f=e(r(_d[8])),h=e(r(_d[9])),p=e(r(_d[10])),b=e(r(_d[11])),y=r(_d[12]),v=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],w='LOADED',E='LOADING',z=0,S=/^(data:image\/svg\+xml;utf8,)(.*)/;function k(e,t){return e&&null!=t?l.createElement("svg",{style:{position:'absolute',height:0,visibility:'hidden',width:0}},l.createElement("defs",null,l.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},l.createElement("feFlood",{floodColor:""+e,key:e}),l.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function I(e,t,n,o){var l=h.default.flatten(e),u=l.filter,d=l.resizeMode,c=l.shadowOffset,f=l.tintColor;l.resizeMode&&(0,y.warnOnce)('Image.style.resizeMode','Image: style.resizeMode is deprecated. Please use props.resizeMode.'),l.tintColor&&(0,y.warnOnce)('Image.style.tintColor','Image: style.tintColor is deprecated. Please use props.tintColor.');var p=[],b=null;if(u&&p.push(u),t&&p.push("blur("+t+"px)"),c){var v=(0,s.createBoxShadowValue)(l);v&&p.push("drop-shadow("+v+")")}return(o||f)&&null!=n&&p.push("url(#tint-"+n+")"),p.length>0&&(b=p.join(' ')),[d,b,f]}function C(e){if('number'==typeof e){var t=(0,d.getAssetByID)(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&'object'==typeof e)return{height:e.height,width:e.width}}function O(e){var t=null;if('number'==typeof e){var n=(0,d.getAssetByID)(e);if(null==n)throw new Error("Image: asset with ID \""+e+"\" could not be found. Please check the image source or packager.");var o=n.scales[0];if(n.scales.length>1){var l=f.default.get();o=n.scales.reduce((e,t)=>Math.abs(t-l)<Math.abs(e-l)?t:e)}var u=1!==o?"@"+o+"x":'';t=n?n.httpServerLocation+"/"+n.name+u+"."+n.type:''}else'string'==typeof e?t=e:e&&'string'==typeof e.uri&&(t=e.uri);if(t){var s=t.match(S);if(s){var c=s[1],h=s[2];return""+c+encodeURIComponent(h)}}return t}var L=l.forwardRef((e,t)=>{var d=e['aria-label'],s=e.accessibilityLabel,f=e.blurRadius,h=e.defaultSource,y=e.draggable,S=e.onError,L=e.onLayout,M=e.onLoad,P=e.onLoadEnd,j=e.onLoadStart,D=e.pointerEvents,_=e.source,A=e.style,B=(0,o.default)(e,v),F=d||s,H=l.useState(()=>{var e=O(_);if(null!=e&&c.default.has(e))return w;return"IDLE"}),W=H[0],q=H[1],N=l.useState({}),$=N[0],G=N[1],U=l.useContext(p.default),V=l.useRef(null),J=l.useRef(z++),K=l.useRef(null),Q=W===w||W===E&&null==h,T=I(A,f,J.current,e.tintColor),X=T[0],Y=T[1],Z=T[2],ee=e.resizeMode||X||'cover',te=e.tintColor||Z,re=Q?_:h,ae=O(re),ne=C(re),oe=ae?"url(\""+ae+"\")":null,le=(function(){if(null!=V.current&&('center'===ee||'repeat'===ee)){var e=V.current,t=e.naturalHeight,n=e.naturalWidth,o=$.height,l=$.width;if(t&&n&&o&&l){var u=Math.min(1,l/n,o/t);return Math.ceil(u*n)+"px "+Math.ceil(u*t)+"px"}}})(),ue=ae?(0,u.default)('img',{alt:F||'',style:R.accessibilityImage$raw,draggable:y||!1,ref:V,src:ae}):null;var ie=O(_);return l.useEffect(()=>{function e(){null!=K.current&&(c.default.abort(K.current),K.current=null)}return e(),null!=ie&&(q(E),j&&j(),K.current=c.default.load(ie,function(e){q(w),M&&M(e),P&&P()},function(){q("ERRORED"),S&&S({nativeEvent:{error:"Failed to load resource "+ie}}),P&&P()})),e},[ie,K,q,S,M,P,j]),l.createElement(b.default,(0,n.default)({},B,{"aria-label":F,onLayout:function(e){if('center'===ee||'repeat'===ee||L){var t=e.nativeEvent.layout;L&&L(e),G(t)}},pointerEvents:D,ref:t,style:[R.root,U&&R.inline,ne,A,R.undo,{boxShadow:null}]}),l.createElement(b.default,{style:[R.image,x[ee],{backgroundImage:oe,filter:Y},null!=le&&{backgroundSize:le}],suppressHydrationWarning:!0}),ue,k(te,J.current))});L.displayName='Image';var M=L;M.getSize=function(e,t,n){c.default.getSize(e,t,n)},M.prefetch=function(e){return c.default.prefetch(e)},M.queryCache=function(e){return c.default.queryCache(e)};var R=h.default.create({root:{flexBasis:'auto',overflow:'hidden',zIndex:0},inline:{display:'inline-flex'},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,t.default)((0,t.default)({},h.default.absoluteFillObject),{},{backgroundColor:'transparent',backgroundPosition:'center',backgroundRepeat:'no-repeat',backgroundSize:'cover',height:'100%',width:'100%',zIndex:-1}),accessibilityImage$raw:(0,t.default)((0,t.default)({},h.default.absoluteFillObject),{},{height:'100%',opacity:0,width:'100%',zIndex:-1})}),x=h.default.create({center:{backgroundSize:'auto'},contain:{backgroundSize:'contain'},cover:{backgroundSize:'cover'},none:{backgroundPosition:'0',backgroundSize:'auto'},repeat:{backgroundPosition:'0',backgroundRepeat:'repeat',backgroundSize:'auto'},stretch:{backgroundSize:'100% 100%'}}),P=M},231,[21,29,45,36,143,232,88,233,230,44,171,142,89]);
__d(function(g,r,i,a,m,e,d){const s=[];m.exports={registerAsset:t=>s.push(t),getAssetByID:t=>s[t-1]}},232,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"ImageUriCache",{enumerable:!0,get:function(){return t}});var e=/^data:/;class t{static has(n){var o=t._entries;return e.test(n)||Boolean(o[n])}static add(e){var n=t._entries,o=Date.now();n[e]?(n[e].lastUsedTimestamp=o,n[e].refCount+=1):n[e]={lastUsedTimestamp:o,refCount:1}}static remove(e){var n=t._entries;n[e]&&(n[e].refCount-=1),t._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e,n,o=t._entries,s=Object.keys(o);s.length+1>t._maximumEntries&&(s.forEach(t=>{var s=o[t];(!n||s.lastUsedTimestamp<n.lastUsedTimestamp)&&0===s.refCount&&(e=t,n=s)}),e&&delete o[e])}}t._maximumEntries=256,t._entries={};var n=0,o={},s={abort(e){var t=o[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete o[""+e])},getSize(e,t,n){var l=!1,u=setInterval(f,16),c=s.load(e,f,function(){'function'==typeof n&&n();s.abort(c),clearInterval(u)});function f(){var e=o[""+c];if(e){var n=e.naturalHeight,f=e.naturalWidth;n&&f&&(t(f,n),l=!0)}l&&(s.abort(c),clearInterval(u))}},has:e=>t.has(e),load(e,t,s){n+=1;var l=new window.Image;return l.onerror=s,l.onload=e=>{var n=()=>t({nativeEvent:e});'function'==typeof l.decode?l.decode().then(n,n):setTimeout(n,0)},l.src=e,o[""+n]=l,n},prefetch:e=>new Promise((n,o)=>{s.load(e,()=>{t.add(e),t.remove(e),n()},o)}),queryCache(e){var n={};return e.forEach(e=>{t.has(e)&&(n[e]='disk/memory')}),Promise.resolve(n)}},l=s},233,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u={UIManager:((e=t)&&e.__esModule?e:{default:e}).default}},234,[155]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},235,[236,238]);
__d(function(g,r,i,a,m,_e,_d){"use strict";const t=["onContextCreate","onContextRestored","onContextLost","webglContextAttributes","msaaSamples","nativeRef_EXPERIMENTAL","ref"];function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"GLView",{enumerable:!0,get:function(){return f}});var n=e(r(_d[0])),o=r(_d[1]),s=e(r(_d[2])),c=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),e.default=t,e})(r(_d[3])),l=e(r(_d[4])),h=e(r(_d[5])),u=r(_d[6]);function x(t){if(null!=t&&'object'==typeof t&&t.downloadAsync){const e=t.localUri||t.uri||'',n=new Image;return n.src=e,n}return t}function d(t,e){if(!t)throw new o.CodedError('ERR_GL_INVALID','Attempting to use the GL context before it has been created.');const n=t.getContext('webgl2',e)||t.getContext('webgl',e)||t.getContext('webgl-experimental',e)||t.getContext('experimental-webgl',e);return(0,s.default)(n,'Browser does not support WebGL'),(c=n).endFrameEXP=function(){},c._expo_texImage2D||(c._expo_texImage2D=c.texImage2D,c.texImage2D=(...t)=>{const e=[...t];return e.push(x(e.pop())),c._expo_texImage2D(...e)}),c._expo_texSubImage2D||(c._expo_texSubImage2D=c.texSubImage2D,c.texSubImage2D=(...t)=>{const e=[...t];return e.push(x(e.pop())),c._expo_texSubImage2D(...e)}),c;var c}async function p(t,e={}){(0,s.default)(t,'getBlobFromWebGLRenderingContext(): WebGL Rendering Context is not defined');const{canvas:n}=t;let o=null;var c;return'function'==typeof n.msToBlob?o=await n.msToBlob():o=(c=n)&&'function'==typeof c.convertToBlob?await n.convertToBlob({quality:e.compress,type:e.format}):await new Promise(t=>{n.toBlob(e=>t(e),e.format,e.compress)}),{blob:o,width:n.width,height:n.height}}class f extends c.Component{static async createContextAsync(){if(!o.Platform.isDOMAvailable)return null;const t=document.createElement('canvas'),{width:e,height:n,scale:s}=l.default.get('window');return t.width=e*s,t.height=n*s,d(t)}static async destroyContextAsync(t){return!0}static async takeSnapshotAsync(t,e={}){const{blob:n,width:s,height:c}=await p(t,e);if(!n)throw new o.CodedError('ERR_GL_SNAPSHOT','Failed to save the GL context');return{uri:n,localUri:'',width:s,height:c}}componentWillUnmount(){if(this.gl){const t=this.gl.getExtension('WEBGL_lose_context');t&&t.loseContext(),this.gl=void 0}this.canvas&&(this.canvas.removeEventListener('webglcontextlost',this.onContextLost),this.canvas.removeEventListener('webglcontextrestored',this.onContextRestored))}render(){const e=this.props,o=(0,n.default)(e,t);return(0,u.jsx)(h.default,Object.assign({},o,{canvasRef:this.setCanvasRef}))}componentDidUpdate(t){const{webglContextAttributes:e}=this.props;this.canvas&&e!==t.webglContextAttributes&&(this.onContextLost(null),this.onContextRestored())}getGLContextOrReject(){const t=this.getGLContext();if(!t)throw new o.CodedError('ERR_GL_INVALID','Attempting to use the GL context before it has been created.');return t}onContextLost=t=>{t&&t.preventDefault&&t.preventDefault(),this.gl=void 0,'function'==typeof this.props.onContextLost&&this.props.onContextLost()};onContextRestored=()=>{if(this.gl=void 0,null==this.getGLContext())throw new o.CodedError('ERR_GL_INVALID','Failed to restore GL context.')};getGLContext(){return this.gl?this.gl:this.canvas?(this.gl=d(this.canvas,this.props.webglContextAttributes),'function'==typeof this.props.onContextCreate&&this.props.onContextCreate(this.gl),this.gl):null}setCanvasRef=t=>{this.canvas=t,'function'==typeof this.props.nativeRef_EXPERIMENTAL&&this.props.nativeRef_EXPERIMENTAL(t),this.canvas&&(this.canvas.addEventListener('webglcontextlost',this.onContextLost),this.canvas.addEventListener('webglcontextrestored',this.onContextRestored),this.getGLContext())};async takeSnapshotAsync(t={}){if(!f.takeSnapshotAsync)throw new o.UnavailabilityError('expo-gl','takeSnapshotAsync');const e=this.getGLContextOrReject();return await f.takeSnapshotAsync(e,t)}async createCameraTextureAsync(){throw new o.UnavailabilityError('GLView','createCameraTextureAsync')}async destroyObjectAsync(t){throw new o.UnavailabilityError('GLView','destroyObjectAsync')}}},236,[129,99,134,36,177,237,208]);
__d(function(g,r,i,a,m,_e,_d){"use strict";const e=["pointerEvents","children","style"];function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var n=t(r(_d[0])),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[1])),f=t(r(_d[2])),o=t(r(_d[3])),s=t(r(_d[4])),c=t(r(_d[5])),l=r(_d[6]);function h(e,t){e&&('function'==typeof e?e(t):'current'in e&&(e.current=t))}function d({size:e,ref:t}){if(e)return e;if(!t.current||'undefined'==typeof window)return{width:0,height:0};const n=t.current,{offsetWidth:u=0,offsetHeight:f=0}=n;return{width:u,height:f}}const y=e=>(0,c.default)('canvas',e),p=o.default.create({wrapper:{pointerEvents:'box-none'}});var w=t=>{let{pointerEvents:c,children:w,style:v}=t,b=(0,n.default)(t,e);const[E,j]=u.useState(null),_=u.useRef(null),O=u.useRef(null),L=u.useCallback(()=>{const e=O.current;if('undefined'!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement){const t=d({size:E,ref:_}),n=f.default.get();e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.width=t.width*n,e.height=t.height*n}},[E?.width,E?.height]),x=u.useCallback(e=>{const{nativeEvent:{layout:{width:t,height:n}}}=e;t===E?.width&&n===E?.height||j({width:t,height:n}),b.onLayout&&b.onLayout(e)},[E?.width,E?.height,b.onLayout]);return u.useEffect(()=>{null!=_.current&&j(d({size:E,ref:_}))},[_]),u.useEffect(()=>{L()},[E]),u.useEffect(()=>{const e=O.current;e&&L(),h(b.canvasRef,e)},[O]),(0,l.jsxs)(s.default,Object.assign({},b,{style:[p.wrapper,v],ref:_,onLayout:x,children:[(0,l.jsx)(y,{ref:O,style:[o.default.absoluteFill,{pointerEvents:c}]}),w]}))}},237,[129,36,230,44,142,143,208]);
__d(function(g,r,i,a,m,e,d){"use strict";var S;Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"GLLoggingOption",{enumerable:!0,get:function(){return S}}),(function(S){S[S.DISABLED=0]="DISABLED",S[S.METHOD_CALLS=1]="METHOD_CALLS",S[S.GET_ERRORS=2]="GET_ERRORS",S[S.RESOLVE_CONSTANTS=4]="RESOLVE_CONSTANTS",S[S.TRUNCATE_STRINGS=8]="TRUNCATE_STRINGS",S[S.ALL=15]="ALL"})(S||(S={}))},238,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=r(d[1]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[2]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},239,[240,241,250]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e,t=r(d[0]),s=r(d[1]),u=r(d[2]),o=(e=u)&&e.__esModule?e:{default:e};if(s.IS_ENV_WITH_LOCAL_ASSETS){(o.default.setCustomSourceTransformer||u.setCustomSourceTransformer)(function(e){try{if('fileHashes'in e.asset&&e.asset.fileHashes){const s=t.Asset.fromMetadata(e.asset);return s.uri.startsWith(t.ANDROID_EMBEDDED_URL_BASE_RESOURCE)?e.resourceIdentifierWithoutScale():e.fromSource(s.downloaded?s.localUri:s.uri)}return e.defaultAsset()}catch{return e.defaultAsset()}})}},240,[241,244,249]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function t(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),e.default=t,e}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"ANDROID_EMBEDDED_URL_BASE_RESOURCE",{enumerable:!0,get:function(){return y}}),Object.defineProperty(_e,"Asset",{enumerable:!0,get:function(){return w}});var e=r(_d[0]);r(_d[1]);var s,n=r(_d[2]),h=t(r(_d[3])),o=r(_d[4]),l=t(r(_d[5])),u=r(_d[6]),d=r(_d[7]),c=r(_d[8]),f=(s=c)&&s.__esModule?s:{default:s};const y='file:///android_res/';class w{static byHash={};static byUri={};hash=null;localUri=null;width=null;height=null;downloading=!1;downloaded=!1;_downloadCallbacks=[];constructor({name:t,type:e,hash:s=null,uri:n,width:o,height:l}){this.name=t,this.type=e,this.hash=s,this.uri=n,'number'==typeof o&&(this.width=o),'number'==typeof l&&(this.height=l),s&&(this.localUri=(0,u.getLocalAssetUri)(s,e),this.localUri?.startsWith(y)?(this.uri=this.localUri,this.localUri=null):this.localUri&&(this.downloaded=!0)),t||(this.name=h.getFilename(n)),e||(this.type=h.getFileExtension(n))}static loadAsync(t){const e=Array.isArray(t)?t:[t];return Promise.all(e.map(t=>w.fromModule(t).downloadAsync()))}static fromModule(t){if('string'==typeof t)return w.fromURI(t);if('object'==typeof t&&'uri'in t&&'string'==typeof t.uri){const e=h.getFileExtension(t.uri);return new w({name:'',type:e.startsWith('.')?e.substring(1):e,hash:null,uri:t.uri,width:t.width,height:t.height})}const s=(0,e.getAssetByID)(t);if(!s)throw new Error(`Module "${t}" is missing from the asset registry`);if(!d.IS_ENV_WITH_LOCAL_ASSETS){const{uri:e}=(0,f.default)(t),n=new w({name:s.name,type:s.type,hash:s.hash,uri:e,width:s.width,height:s.height});return w.byHash[s.hash]=n,n}return w.fromMetadata(s)}static fromMetadata(t){const e=t.hash,s=w.byHash[e];if(s)return s;const{uri:h,hash:o}=(0,n.selectAssetSource)(t),l=new w({name:t.name,type:t.type,hash:o,uri:h,width:t.width,height:t.height});return w.byHash[e]=l,l}static fromURI(t){if(w.byUri[t])return w.byUri[t];let e='';if(t.indexOf(';base64')>-1)e=t.split(';')[0].split('/')[1];else{const s=h.getFileExtension(t);e=s.startsWith('.')?s.substring(1):s}const s=new w({name:'',type:e,hash:null,uri:t});return w.byUri[t]=s,s}async downloadAsync(){if(this.downloaded)return this;if(this.downloading)return await new Promise((t,e)=>{this._downloadCallbacks.push({resolve:t,reject:e})}),this;this.downloading=!0;try{if(l.isImageType(this.type)){const{width:t,height:e,name:s}=await l.getImageInfoAsync(this.uri);this.width=t,this.height=e,this.name=s}else this.name=h.getFilename(this.uri);this.localUri=await(0,o.downloadAsync)(this.uri,this.hash,this.type),this.downloaded=!0,this._downloadCallbacks.forEach(({resolve:t})=>t())}catch(t){throw this._downloadCallbacks.forEach(({reject:e})=>e(t)),t}finally{this.downloading=!1,this._downloadCallbacks=[]}return this}}},241,[232,99,242,245,246,247,248,244,249]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.selectAssetSource=function(e){const c=n.default.pickScale(e.scales,t.default.get()),u=e.scales.findIndex(e=>e===c),f=e.fileHashes?e.fileHashes[u]??e.fileHashes[0]:e.hash,l=e.fileUris?e.fileUris[u]??e.fileUris[0]:e.uri;if(l)return{uri:h(l),hash:f};const p=1===c?'':`@${c}x`,U=e.type?`.${encodeURIComponent(e.type)}`:'',v=`/${encodeURIComponent(e.name)}${p}${U}`,x=new URLSearchParams({platform:"web",hash:e.hash});if(/^https?:\/\//.test(e.httpServerLocation)){return{uri:e.httpServerLocation+v+'?'+x,hash:f}}const L=(0,o.getManifest2)(),R=L?.extra?.expoGo?.developer?'http://'+L.extra.expoGo.debuggerHost:null;if(R){const t=new URL(e.httpServerLocation+v,R);return t.searchParams.set('platform',"web"),t.searchParams.set('hash',e.hash),{uri:t.href,hash:f}}if(s.default.ExponentKernel)return{uri:`https://classic-assets.eascdn.net/~assets/${encodeURIComponent(f)}`,hash:f};return{uri:'',hash:f}},_e.resolveUri=h,r(d[0]);var t=e(r(d[1])),s=e(r(d[2])),n=e(r(d[3])),o=r(d[4]);function h(e){return o.manifestBaseUrl?new URL(e,o.manifestBaseUrl).href:e}},242,[99,230,234,243,244]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}}),r(d[0]);var e,t=r(d[1]),s=(e=t)&&e.__esModule?e:{default:e};function i(e){const t=n.pickScale(e.scales,s.default.get()),i=1===t?'':'@'+t+'x',c=e.type?`.${e.type}`:'';return e.httpServerLocation.replace(/\.\.\//g,'_')+'/'+e.name+i+c}class n{constructor(e,t,s){this.serverUrl=e||'https://expo.dev',this.jsbundleUrl=null,this.asset=s}isLoadedFromServer(){return!0}isLoadedFromFileSystem(){return!1}defaultAsset(){return this.assetServerURL()}assetServerURL(){const e=new URL(i(this.asset),this.serverUrl);return e.searchParams.set('platform',"web"),e.searchParams.set('hash',this.asset.hash),this.fromSource(e.toString().replace(e.origin,''))}fromSource(e){return{__packager_asset:!0,width:this.asset.width??void 0,height:this.asset.height??void 0,uri:e,scale:n.pickScale(this.asset.scales,s.default.get())}}static pickScale(e,t){for(let s=0;s<e.length;s++)if(e[s]>=t)return e[s];return e[e.length-1]||1}}},243,[99,230]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"IS_ENV_WITH_LOCAL_ASSETS",{enumerable:!0,get:function(){return t}}),e.getLocalAssets=function(){return{}},e.getManifest2=function(){return{}},Object.defineProperty(e,"manifestBaseUrl",{enumerable:!0,get:function(){return n}});const t=!1;const n=null},244,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){const{pathname:s,searchParams:o}=new URL(t,'https://e');return n(s)}function n(t){return t.substring(t.lastIndexOf('/')+1)}Object.defineProperty(e,'__esModule',{value:!0}),e.getFilename=t,e.getFileExtension=function(n){const s=t(n),o=s.lastIndexOf('.');return o>0?s.substring(o):''},e.getManifestBaseUrl=function(t){const n=new URL(t);let s=n.protocol;'exp:'===s?s='http:':'exps:'===s&&(s='https:');n.protocol=s;const o=n.pathname.substring(0,n.pathname.lastIndexOf('/')+1);return n.pathname=o,n.search='',n.hash='',n.protocol!==s?n.href.replace(n.protocol,s):n.href}},245,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.downloadAsync=async function(n,t,c){return n}},246,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isImageType=function(n){return/^(jpeg|jpg|gif|png|bmp|webp|heic)$/i.test(n)},e.getImageInfoAsync=function(t){if('undefined'==typeof window)return Promise.resolve({name:(0,n.getFilename)(t),width:0,height:0});return new Promise((o,u)=>{const s=new Image;s.onerror=u,s.onload=()=>{o({name:(0,n.getFilename)(t),width:s.naturalWidth,height:s.naturalHeight})},s.src=t})};var n=r(d[0])},247,[245]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.getLocalAssetUri=function(t,n){return null}},248,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}}),_e.setCustomSourceTransformer=c,Object.defineProperty(_e,"pickScale",{enumerable:!0,get:function(){return l}});var e,t=r(d[0]),n=r(d[1]),u=(e=n)&&e.__esModule?e:{default:e};let o;function c(e){o=e}function f(e){if('object'==typeof e)return e;const n=(0,t.getAssetByID)(e);if(!n)return null;const c=new u.default('https://expo.dev',null,n);return o?o(c):c.defaultAsset()}Object.defineProperty(f,'setCustomSourceTransformer',{get:()=>c});var s=f;const{pickScale:l}=u.default},249,[232,243]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.useAssets=function(u){const[c,n]=(0,t.useState)(),[o,f]=(0,t.useState)();return(0,t.useEffect)(()=>{s.Asset.loadAsync(u).then(n).catch(f)},[]),[c,o]};var t=r(d[0]),s=r(d[1])},250,[36,241]);
__d(function(g,r,_i,a,m,e,d){'use strict';e.byteLength=function(t){var n=h(t),o=n[0],u=n[1];return 3*(o+u)/4-u},e.toByteArray=function(t){var u,c,f=h(t),A=f[0],C=f[1],y=new o(i(t,A,C)),s=0,v=C>0?A-4:A;for(c=0;c<v;c+=4)u=n[t.charCodeAt(c)]<<18|n[t.charCodeAt(c+1)]<<12|n[t.charCodeAt(c+2)]<<6|n[t.charCodeAt(c+3)],y[s++]=u>>16&255,y[s++]=u>>8&255,y[s++]=255&u;2===C&&(u=n[t.charCodeAt(c)]<<2|n[t.charCodeAt(c+1)]>>4,y[s++]=255&u);1===C&&(u=n[t.charCodeAt(c)]<<10|n[t.charCodeAt(c+1)]<<4|n[t.charCodeAt(c+2)]>>2,y[s++]=u>>8&255,y[s++]=255&u);return y},e.fromByteArray=function(n){for(var o,u=n.length,c=u%3,h=[],i=16383,f=0,C=u-c;f<C;f+=i)h.push(A(n,f,f+i>C?C:f+i));1===c?(o=n[u-1],h.push(t[o>>2]+t[o<<4&63]+'==')):2===c&&(o=(n[u-2]<<8)+n[u-1],h.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return h.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,u='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',c=0;c<64;++c)t[c]=u[c],n[u.charCodeAt(c)]=c;function h(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function i(t,n,o){return 3*(n+o)/4-o}function f(n){return t[n>>18&63]+t[n>>12&63]+t[n>>6&63]+t[63&n]}function A(t,n,o){for(var u,c=[],h=n;h<o;h+=3)u=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(255&t[h+2]),c.push(f(u));return c.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},251,[]);
__d(function(g,r,_i,_a,_m,_e,d){
/*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */
'use strict';const t=r(d[0]),e=r(d[1]),n='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;_e.Buffer=f,_e.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},_e.INSPECT_MAX_BYTES=50;const i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,n){if('number'==typeof t){if('string'==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return s(t,e,n)}function s(t,e,n){if('string'==typeof t)return a(t,e);if(ArrayBuffer.isView(t))return p(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer))return y(t,e,n);if('undefined'!=typeof SharedArrayBuffer&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return y(t,e,n);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return f.from(i,e,n);const o=w(t);if(o)return o;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]('string'),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t,e,n){return u(t),t<=0?o(t):void 0!==e?'string'==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}function c(t){return u(t),o(t<0?0:0|b(t))}function a(t,e){if('string'==typeof e&&''!==e||(e='utf8'),!f.isEncoding(e))throw new TypeError('Unknown encoding: '+e);const n=0|B(t,e);let i=o(n);const s=i.write(t,e);return s!==n&&(i=i.slice(0,s)),i}function l(t){const e=t.length<0?0:0|b(t.length),n=o(e);for(let i=0;i<e;i+=1)n[i]=255&t[i];return n}function p(t){if(it(t,Uint8Array)){const e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return l(t)}function y(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,f.prototype),i}function w(t){if(f.isBuffer(t)){const e=0|b(t.length),n=o(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?'number'!=typeof t.length||ot(t.length)?o(0):l(t):'Buffer'===t.type&&Array.isArray(t.data)?l(t.data):void 0}function b(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+' bytes');return 0|t}function B(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);const n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let o=!1;for(;;)switch(e){case'ascii':case'latin1':case'binary':return n;case'utf8':case'utf-8':return Q(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*n;case'hex':return n>>>1;case'base64':return rt(t).length;default:if(o)return i?-1:Q(t).length;e=(''+e).toLowerCase(),o=!0}}function E(t,e,n){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return'';if((void 0===n||n>this.length)&&(n=this.length),n<=0)return'';if((n>>>=0)<=(e>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return C(this,e,n);case'utf8':case'utf-8':return _(this,e,n);case'ascii':return x(this,e,n);case'latin1':case'binary':return P(this,e,n);case'base64':return L(this,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return k(this,e,n);default:if(i)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),i=!0}}function m(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function I(t,e,n,i,o){if(0===t.length)return-1;if('string'==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),ot(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if('string'==typeof e&&(e=f.from(e,i)),f.isBuffer(e))return 0===e.length?-1:U(t,e,n,i,o);if('number'==typeof e)return e&=255,'function'==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):U(t,[e],n,i,o);throw new TypeError('val must be string, number or Buffer')}function U(t,e,n,i,o){let f,s=1,u=t.length,h=e.length;if(void 0!==i&&('ucs2'===(i=String(i).toLowerCase())||'ucs-2'===i||'utf16le'===i||'utf-16le'===i)){if(t.length<2||e.length<2)return-1;s=2,u/=2,h/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let i=-1;for(f=n;f<u;f++)if(c(t,f)===c(e,-1===i?0:f-i)){if(-1===i&&(i=f),f-i+1===h)return i*s}else-1!==i&&(f-=f-i),i=-1}else for(n+h>u&&(n=u-h),f=n;f>=0;f--){let n=!0;for(let i=0;i<h;i++)if(c(t,f+i)!==c(e,i)){n=!1;break}if(n)return f}return-1}function A(t,e,n,i){n=Number(n)||0;const o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;const f=e.length;let s;for(i>f/2&&(i=f/2),s=0;s<i;++s){const i=parseInt(e.substr(2*s,2),16);if(ot(i))return s;t[n+s]=i}return s}function v(t,e,n,i){return nt(Q(e,t.length-n),t,n,i)}function R(t,e,n,i){return nt(tt(e),t,n,i)}function T(t,e,n,i){return nt(rt(e),t,n,i)}function O(t,e,n,i){return nt(et(e,t.length-n),t,n,i)}function L(e,n,i){return 0===n&&i===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,i))}function _(t,e,n){n=Math.min(t.length,n);const i=[];let o=e;for(;o<n;){const e=t[o];let f=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=n){let n,i,u,h;switch(s){case 1:e<128&&(f=e);break;case 2:n=t[o+1],128==(192&n)&&(h=(31&e)<<6|63&n,h>127&&(f=h));break;case 3:n=t[o+1],i=t[o+2],128==(192&n)&&128==(192&i)&&(h=(15&e)<<12|(63&n)<<6|63&i,h>2047&&(h<55296||h>57343)&&(f=h));break;case 4:n=t[o+1],i=t[o+2],u=t[o+3],128==(192&n)&&128==(192&i)&&128==(192&u)&&(h=(15&e)<<18|(63&n)<<12|(63&i)<<6|63&u,h>65535&&h<1114112&&(f=h))}}null===f?(f=65533,s=1):f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|1023&f),i.push(f),o+=s}return $(i)}_e.kMaxLength=i,f.TYPED_ARRAY_SUPPORT=(function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}})(),f.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,'parent',{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,'offset',{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,n){return s(t,e,n)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,n){return h(t,e,n)},f.allocUnsafe=function(t){return c(t)},f.allocUnsafeSlow=function(t){return c(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(it(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),it(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let o=0,f=Math.min(n,i);o<f;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const i=f.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(it(e,Uint8Array))o+e.length>i.length?(f.isBuffer(e)||(e=f.from(e)),e.copy(i,o)):Uint8Array.prototype.set.call(i,e,o);else{if(!f.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,o)}o+=e.length}return i},f.byteLength=B,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(let e=0;e<t;e+=2)m(this,e,e+1);return this},f.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},f.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},f.prototype.toString=function(){const t=this.length;return 0===t?'':0===arguments.length?_(this,0,t):E.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){let t='';const e=_e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,e).replace(/(.{2})/g,'$1 ').trim(),this.length>e&&(t+=' ... '),'<Buffer '+t+'>'},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(t,e,n,i,o){if(it(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError('out of range index');if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let s=(o>>>=0)-(i>>>=0),u=(n>>>=0)-(e>>>=0);const h=Math.min(s,u),c=this.slice(i,o),a=t.slice(e,n);for(let t=0;t<h;++t)if(c[t]!==a[t]){s=c[t],u=a[t];break}return s<u?-1:u<s?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return I(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return I(this,t,e,n,!1)},f.prototype.write=function(t,e,n,i){if(void 0===e)i='utf8',n=this.length,e=0;else if(void 0===n&&'string'==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i='utf8')):(i=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError('Attempt to write outside buffer bounds');i||(i='utf8');let f=!1;for(;;)switch(i){case'hex':return A(this,t,e,n);case'utf8':case'utf-8':return v(this,t,e,n);case'ascii':case'latin1':case'binary':return R(this,t,e,n);case'base64':return T(this,t,e,n);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return O(this,t,e,n);default:if(f)throw new TypeError('Unknown encoding: '+i);i=(''+i).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function $(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let n='',i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=S));return n}function x(t,e,n){let i='';n=Math.min(t.length,n);for(let o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function P(t,e,n){let i='';n=Math.min(t.length,n);for(let o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function C(t,e,n){const i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);let o='';for(let i=e;i<n;++i)o+=ft[t[i]];return o}function k(t,e,n){const i=t.slice(e,n);let o='';for(let t=0;t<i.length-1;t+=2)o+=String.fromCharCode(i[t]+256*i[t+1]);return o}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+e>n)throw new RangeError('Trying to access beyond buffer length')}function F(t,e,n,i,o,s){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError('Index out of range')}function M(t,e,n,i,o){X(e,i,o,t,n,7);let f=Number(e&BigInt(4294967295));t[n++]=f,f>>=8,t[n++]=f,f>>=8,t[n++]=f,f>>=8,t[n++]=f;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function j(t,e,n,i,o){X(e,i,o,t,n,7);let f=Number(e&BigInt(4294967295));t[n+7]=f,f>>=8,t[n+6]=f,f>>=8,t[n+5]=f,f>>=8,t[n+4]=f;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function D(t,e,n,i,o,f){if(n+i>t.length)throw new RangeError('Index out of range');if(n<0)throw new RangeError('Index out of range')}function z(t,n,i,o,f){return n=+n,i>>>=0,f||D(t,0,i,4),e.write(t,n,i,o,23,4),i+4}function Y(t,n,i,o,f){return n=+n,i>>>=0,f||D(t,0,i,8),e.write(t,n,i,o,52,8),i+8}f.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,f.prototype),i},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let i=this[t],o=1,f=0;for(;++f<e&&(o*=256);)i+=this[t+f]*o;return i},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let i=this[t+--e],o=1;for(;e>0&&(o*=256);)i+=this[t+--e]*o;return i},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readBigUInt64LE=st(function(t){J(t>>>=0,'offset');const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+16777216*this[++t],o=this[++t]+256*this[++t]+65536*this[++t]+16777216*n;return BigInt(i)+(BigInt(o)<<BigInt(32))}),f.prototype.readBigUInt64BE=st(function(t){J(t>>>=0,'offset');const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const i=16777216*e+65536*this[++t]+256*this[++t]+this[++t],o=16777216*this[++t]+65536*this[++t]+256*this[++t]+n;return(BigInt(i)<<BigInt(32))+BigInt(o)}),f.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let i=this[t],o=1,f=0;for(;++f<e&&(o*=256);)i+=this[t+f]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},f.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let i=e,o=1,f=this[t+--i];for(;i>0&&(o*=256);)f+=this[t+--i]*o;return o*=128,f>=o&&(f-=Math.pow(2,8*e)),f},f.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readBigInt64LE=st(function(t){J(t>>>=0,'offset');const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),f.prototype.readBigInt64BE=st(function(t){J(t>>>=0,'offset');const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+n)}),f.prototype.readFloatLE=function(t,n){return t>>>=0,n||N(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,n){return t>>>=0,n||N(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,n){return t>>>=0,n||N(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,n){return t>>>=0,n||N(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){F(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,f=0;for(this[e]=255&t;++f<n&&(o*=256);)this[e+f]=t/o&255;return e+n},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){F(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,f=1;for(this[e+o]=255&t;--o>=0&&(f*=256);)this[e+o]=t/f&255;return e+n},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigUInt64LE=st(function(t,e=0){return M(this,t,e,BigInt(0),BigInt('0xffffffffffffffff'))}),f.prototype.writeBigUInt64BE=st(function(t,e=0){return j(this,t,e,BigInt(0),BigInt('0xffffffffffffffff'))}),f.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}let o=0,f=1,s=0;for(this[e]=255&t;++o<n&&(f*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/f|0)-s&255;return e+n},f.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}let o=n-1,f=1,s=0;for(this[e+o]=255&t;--o>=0&&(f*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/f|0)-s&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigInt64LE=st(function(t,e=0){return M(this,t,e,-BigInt('0x8000000000000000'),BigInt('0x7fffffffffffffff'))}),f.prototype.writeBigInt64BE=st(function(t,e=0){return j(this,t,e,-BigInt('0x8000000000000000'),BigInt('0x7fffffffffffffff'))}),f.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return Y(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return Y(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,i){if(!f.isBuffer(t))throw new TypeError('argument should be a Buffer');if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError('targetStart out of bounds');if(n<0||n>=this.length)throw new RangeError('Index out of range');if(i<0)throw new RangeError('sourceEnd out of bounds');i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);const o=i-n;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o},f.prototype.fill=function(t,e,n,i){if('string'==typeof t){if('string'==typeof e?(i=e,e=0,n=this.length):'string'==typeof n&&(i=n,n=this.length),void 0!==i&&'string'!=typeof i)throw new TypeError('encoding must be a string');if('string'==typeof i&&!f.isEncoding(i))throw new TypeError('Unknown encoding: '+i);if(1===t.length){const e=t.charCodeAt(0);('utf8'===i&&e<128||'latin1'===i)&&(t=e)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError('Out of range index');if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),'number'==typeof t)for(o=e;o<n;++o)this[o]=t;else{const s=f.isBuffer(t)?t:f.from(t,i),u=s.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%u]}return this};const G={};function V(t,e,n){G[t]=class extends n{constructor(){super(),Object.defineProperty(this,'message',{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,'code',{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function q(t){let e='',n=t.length;const i='-'===t[0]?1:0;for(;n>=i+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function W(t,e,n){J(e,'offset'),void 0!==t[e]&&void 0!==t[e+n]||Z(e,t.length-(n+1))}function X(t,e,n,i,o,f){if(t>n||t<e){const i='bigint'==typeof e?'n':'';let o;throw o=f>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(f+1)}${i}`:`>= -(2${i} ** ${8*(f+1)-1}${i}) and < 2 ** ${8*(f+1)-1}${i}`:`>= ${e}${i} and <= ${n}${i}`,new G.ERR_OUT_OF_RANGE('value',o,t)}W(i,o,f)}function J(t,e){if('number'!=typeof t)throw new G.ERR_INVALID_ARG_TYPE(e,'number',t)}function Z(t,e,n){if(Math.floor(t)!==t)throw J(t,n),new G.ERR_OUT_OF_RANGE(n||'offset','an integer',t);if(e<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||'offset',`>= ${n?1:0} and <= ${e}`,t)}V('ERR_BUFFER_OUT_OF_BOUNDS',function(t){return t?`${t} is outside of buffer bounds`:'Attempt to access memory outside buffer bounds'},RangeError),V('ERR_INVALID_ARG_TYPE',function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),V('ERR_OUT_OF_RANGE',function(t,e,n){let i=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?o=q(String(n)):'bigint'==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=q(o)),o+='n'),i+=` It must be ${e}. Received ${o}`,i},RangeError);const H=/[^+/0-9A-Za-z-_]/g;function K(t){if((t=(t=t.split('=')[0]).trim().replace(H,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function Q(t,e){let n;e=e||1/0;const i=t.length;let o=null;const f=[];for(let s=0;s<i;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&f.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&f.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&f.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;f.push(n)}else if(n<2048){if((e-=2)<0)break;f.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;f.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error('Invalid code point');if((e-=4)<0)break;f.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return f}function tt(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function et(t,e){let n,i,o;const f=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,o=n%256,f.push(o),f.push(i);return f}function rt(e){return t.toByteArray(K(e))}function nt(t,e,n,i){let o;for(o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function it(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function ot(t){return t!=t}const ft=(function(){const t='0123456789abcdef',e=new Array(256);for(let n=0;n<16;++n){const i=16*n;for(let o=0;o<16;++o)e[i+o]=t[n]+t[o]}return e})();function st(t){return'undefined'==typeof BigInt?ut:t}function ut(){throw new Error('BigInt not supported')}},252,[251,253]);
__d(function(g,r,_i,a,_m,_e,_d){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
_e.read=function(o,t,h,M,f){var w,p,i=8*f-M-1,n=(1<<i)-1,N=n>>1,e=-7,u=h?f-1:0,s=h?-1:1,c=o[t+u];for(u+=s,w=c&(1<<-e)-1,c>>=-e,e+=i;e>0;w=256*w+o[t+u],u+=s,e-=8);for(p=w&(1<<-e)-1,w>>=-e,e+=M;e>0;p=256*p+o[t+u],u+=s,e-=8);if(0===w)w=1-N;else{if(w===n)return p?NaN:1/0*(c?-1:1);p+=Math.pow(2,M),w-=N}return(c?-1:1)*p*Math.pow(2,w-M)},_e.write=function(o,t,h,M,f,w){var p,i,n,N=8*w-f-1,e=(1<<N)-1,u=e>>1,s=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,c=M?0:w-1,l=M?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,p=e):(p=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-p))<1&&(p--,n*=2),(t+=p+u>=1?s/n:s*Math.pow(2,1-u))*n>=2&&(p++,n/=2),p+u>=e?(i=0,p=e):p+u>=1?(i=(t*n-1)*Math.pow(2,f),p+=u):(i=t*Math.pow(2,u-1)*Math.pow(2,f),p=0));f>=8;o[h+c]=255&i,c+=l,i/=256,f-=8);for(p=p<<f|i,N+=f;N>0;o[h+c]=255&p,c+=l,p/=256,N-=8);o[h+c-l]|=128*d}},253,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},254,[255,261]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"Paths",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,"File",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,"Directory",{enumerable:!0,get:function(){return o}});var e,t=r(d[0]),n=(e=t)&&e.__esModule?e:{default:e},s=r(d[1]),u=r(d[2]);class c extends s.PathUtilities{static get cache(){return new o(n.default.cacheDirectory)}static get bundle(){return new o(n.default.bundleDirectory)}static get document(){return new o(n.default.documentDirectory)}static get appleSharedContainers(){const e=n.default.appleSharedContainers??{},t={};for(const n in e)e[n]&&(t[n]=new o(e[n]));return t}static get totalDiskSpace(){return n.default.totalDiskSpace}static get availableDiskSpace(){return n.default.availableDiskSpace}static info(...e){return n.default.info(e.join('/'))}}class l extends n.default.FileSystemFile{constructor(...e){super(c.join(...e)),this.validatePath()}get parentDirectory(){return new o(c.dirname(this.uri))}get extension(){return c.extname(this.uri)}get name(){return c.basename(this.uri)}readableStream(){return new ReadableStream(new u.FileSystemReadableStreamSource(super.open()))}writableStream(){return new WritableStream(new u.FileSystemWritableSink(super.open()))}async arrayBuffer(){return(await this.bytes()).buffer}stream(){return this.readableStream()}slice(e,t,n){return new Blob([this.bytesSync().slice(e,t)],{type:n})}}l.downloadFileAsync=async function(e,t,s){const u=await n.default.downloadFileAsync(e,t,s);return new l(u)},l.pickFileAsync=async function(e,t){const s=(await n.default.pickFileAsync(e,t)).uri;return new l(s)};class o extends n.default.FileSystemDirectory{constructor(...e){super(c.join(...e)),this.validatePath()}get parentDirectory(){return new o(c.join(this.uri,'..'))}list(){return super.listAsRecords().map(({isDirectory:e,uri:t})=>e?new o(t):new l(t))}get name(){return c.basename(this.uri)}createFile(e,t){return new l(super.createFile(e,t).uri)}createDirectory(e){return new o(super.createDirectory(e).uri)}}o.pickDirectoryAsync=async function(e){const t=(await n.default.pickDirectoryAsync(e)).uri;return new o(t)}},255,[256,257,260]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var o={FileSystemDirectory:class{constructor(){console.warn('expo-file-system is not supported on web')}},FileSystemFile:class{constructor(){console.warn('expo-file-system is not supported on web')}},downloadFileAsync:()=>(console.warn('expo-file-system is not supported on web'),Promise.resolve()),pickDirectoryAsync:()=>(console.warn('expo-file-system is not supported on web'),Promise.resolve()),pickFileAsync:()=>(console.warn('expo-file-system is not supported on web'),Promise.resolve()),get totalDiskSpace(){return console.warn('expo-file-system is not supported on web'),0},get availableDiskSpace(){return console.warn('expo-file-system is not supported on web'),0},get documentDirectory(){return console.warn('expo-file-system is not supported on web'),''},get cacheDirectory(){return console.warn('expo-file-system is not supported on web'),''},get bundleDirectory(){return console.warn('expo-file-system is not supported on web'),''}}},256,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"PathUtilities",{enumerable:!0,get:function(){return o}});var e=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),t=r(_d[1]);function n(e){return'string'==typeof e?e:e.uri}class o{static join(...o){const[s,...c]=o.map(n),u=(0,t.asUrl)(s);return u?(u.pathname=e.join(u.pathname,...c.map(t.encodeURLChars)),u.toString()):e.join(s,...c.map(t.encodeURLChars))}static relative(o,s){const c=n(o),u=n(s);return(0,t.isUrl)(c)&&(o=(0,t.asUrl)(c).pathname),(0,t.isUrl)(u)&&(s=(0,t.asUrl)(u).pathname),e.relative(c,u)}static isAbsolute(o){const s=n(o);return!!(0,t.isUrl)(s)||e.isAbsolute(s)}static normalize(o){const s=n(o),c=(0,t.asUrl)((0,t.encodeURLChars)(s));return c?(c.pathname=(0,t.encodeURLChars)(e.normalize(decodeURIComponent(c.pathname))),c.toString()):e.normalize(s)}static dirname(o){const s=n(o),c=(0,t.asUrl)(s);return c?(c.pathname=(0,t.encodeURLChars)(e.dirname(decodeURIComponent(c.pathname))),c.toString()):e.dirname(s)}static basename(o,s){const c=n(o),u=(0,t.asUrl)(c);return u?e.basename(decodeURIComponent(u.pathname)):e.basename(c,s)}static extname(o){const s=n(o),c=(0,t.asUrl)(s);return c?e.extname(decodeURIComponent(c.pathname)):e.extname(s)}static parse(o){const s=n(o),c=(0,t.asUrl)(s);return c?e.parse(decodeURIComponent(c.pathname)):e.parse(s)}}},257,[258,259]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t){return'/'===t}function n(n,l,i){let c='',f=0,o=-1,h=0,s='';for(let u=0;u<=n.length;++u){if(u<n.length)s=n.charAt(u);else{if(t(s))break;s='/'}if(t(s)){if(o===u-1||1===h);else if(2===h){if(c.length<2||2!==f||'.'!==c.charAt(c.length-1)||'.'!==c.charAt(c.length-2)){if(c.length>2){const t=c.lastIndexOf(i);-1===t?(c='',f=0):(c=c.slice(0,t),f=c.length-1-c.lastIndexOf(i)),o=u,h=0;continue}if(0!==c.length){c='',f=0,o=u,h=0;continue}}l&&(c+=c.length>0?`${i}..`:'..',f=2)}else c.length>0?c+=`${i}${n.slice(o+1,u)}`:c=n.slice(o+1,u),f=u-o-1;o=u,h=0}else'.'===s&&-1!==h?++h:h=-1}return c}function l(...t){let l='',i=!1;for(let n=t.length-1;n>=-1&&!i;n--){const c=n>=0?t[n]:'';c&&0!==c.length&&(l=`${c}/${l}`,i=!(!c||'/'!==c.charAt(0)))}return l=n(l,!i,'/'),i?`/${l}`:l.length>0?l:'.'}function i(t){if(0===t.length)return'.';const l='/'===t.charAt(0),i='/'===t.charAt(t.length-1);return 0===(t=n(t,!l,'/')).length?l?'/':i?'./':'.':(i&&(t+='/'),l?`/${t}`:t)}Object.defineProperty(e,'__esModule',{value:!0}),e.format=function(t,n){const l=n.dir||n.root,i=n.base||`${n.name||''}${c=n.ext,c?`${'.'===c[0]?'':'.'}${c}`:''}`;var c;if(!l)return i;return l===n.root?`${l}${i}`:`${l}${t}${i}`},e.resolve=l,e.normalize=i,e.isAbsolute=function(t){return t.length>0&&'/'===t.charAt(0)},e.join=function(...t){if(0===t.length)return'.';const n=[];for(let l=0;l<t.length;++l){const i=t[l];i&&i.length>0&&n.push(i)}return 0===n.length?'.':i(n.join('/'))},e.relative=function(t,n){if(t===n)return'';if(t=l(t),n=l(n),t===n)return'';const i=t.length,c=i-1,f=n.length-1,o=c<f?c:f;let h=-1,s=0;for(;s<o;s++){const l=t.charAt(1+s);if(l!==n.charAt(1+s))break;'/'===l&&(h=s)}if(s===o)if(f>o){if('/'===n.charAt(1+s))return n.slice(1+s+1);if(0===s)return n.slice(1+s)}else c>o&&('/'===t.charAt(1+s)?h=s:0===s&&(h=0));let u='';for(s=1+h+1;s<=i;++s)s!==i&&'/'!==t.charAt(s)||(u+=0===u.length?'..':'/..');return`${u}${n.slice(1+h)}`},e.toNamespacedPath=function(t){return t},e.dirname=function(t){if(0===t.length)return'.';const n='/'===t.charAt(0);let l=-1,i=!0;for(let n=t.length-1;n>=1;--n)if('/'===t.charAt(n)){if(!i){l=n;break}}else i=!1;return-1===l?n?'/':'.':n&&1===l?'//':t.slice(0,l)},e.basename=function(t,n){let l=0,i=-1,c=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n===t)return'';let f=n.length-1,o=-1;for(let h=t.length-1;h>=0;--h){const s=t.charAt(h);if('/'===s){if(!c){l=h+1;break}}else-1===o&&(c=!1,o=h+1),f>=0&&(s===n.charAt(f)?-1===--f&&(i=h):(f=-1,i=o))}return l===i?i=o:-1===i&&(i=t.length),t.slice(l,i)}for(let n=t.length-1;n>=0;--n)if('/'===t.charAt(n)){if(!c){l=n+1;break}}else-1===i&&(c=!1,i=n+1);return-1===i?'':t.slice(l,i)},e.extname=function(t){let n=-1,l=0,i=-1,c=!0,f=0;for(let o=t.length-1;o>=0;--o){const h=t.charAt(o);if('/'!==h)-1===i&&(c=!1,i=o+1),'.'===h?-1===n?n=o:1!==f&&(f=1):-1!==n&&(f=-1);else if(!c){l=o+1;break}}if(-1===n||-1===i||0===f||1===f&&n===i-1&&n===l+1)return'';return t.slice(n,i)},e.parse=function(t){const n={root:'',dir:'',base:'',ext:'',name:''};if(0===t.length)return n;const l='/'===t.charAt(0);let i;l?(n.root='/',i=1):i=0;let c=-1,f=0,o=-1,h=!0,s=t.length-1,u=0;for(;s>=i;--s){const n=t.charAt(s);if('/'!==n)-1===o&&(h=!1,o=s+1),'.'===n?-1===c?c=s:1!==u&&(u=1):-1!==c&&(u=-1);else if(!h){f=s+1;break}}if(-1!==o){const i=0===f&&l?1:f;-1===c||0===u||1===u&&c===o-1&&c===f+1?n.base=n.name=t.slice(i,o):(n.name=t.slice(i,c),n.base=t.slice(i,o),n.ext=t.slice(c,o))}f>0?n.dir=t.slice(0,f-1):l&&(n.dir='/');return n},Object.defineProperty(e,"sep",{enumerable:!0,get:function(){return c}}),Object.defineProperty(e,"delimiter",{enumerable:!0,get:function(){return f}});const c='/',f=':'},258,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.encodeURLChars=function(t){let c=(0,n.resolve)(t);'/'===t.charAt(t.length-1)&&c[c.length-1]!==n.sep&&(c+='/');c=O(c),-1!==c.indexOf('?')&&(c=c.replace(o,'%3F'));-1!==c.indexOf('#')&&(c=c.replace(s,'%23'));return c},e.isUrl=function(n){try{return!!new URL(n)}catch(n){return!1}},e.asUrl=function(n){try{const t=new URL(n);return t.hash='',t}catch(n){return null}};var n=r(d[0]);const t=/%/g,c=/\\/g,l=/\n/g,u=/\r/g,f=/\t/g,o=/\?/g,s=/#/g,p=/ /g;function O(n){return-1!==n.indexOf('%')&&(n=n.replace(t,'%25')),-1!==n.indexOf('\\')&&(n=n.replace(c,'%5C')),-1!==n.indexOf('\n')&&(n=n.replace(l,'%0A')),-1!==n.indexOf('\r')&&(n=n.replace(u,'%0D')),-1!==n.indexOf('\t')&&(n=n.replace(f,'%09')),-1!==n.indexOf(' ')&&(n=n.replace(p,'%20')),n}},259,[258]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"FileSystemReadableStreamSource",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"FileSystemWritableSink",{enumerable:!0,get:function(){return s}});class t{size=1024;type='bytes';constructor(t){this.handle=t}cancel(){this.handle.close()}pull(t){const s=t.byobRequest?.view;if(!s){const s=this.handle.readBytes(this.size);return 0===s.length?void t.close():void t.enqueue(s)}const n=this.handle.readBytes(s.byteLength-s.byteOffset);if(0===n.length)return t.close(),void t.byobRequest.respond(0);if(s instanceof Uint8Array)s.set(n,s.byteOffset);else{const t=new Uint8Array(s.buffer);for(let i=0;i<n.length;i++)t[i+(s.byteOffset??0)]=n[i]}t.byobRequest.respond(n.length)}}class s{constructor(t){this.handle=t}abort(){this.close()}close(){this.handle.close()}write(t){this.handle.writeBytes(t)}}},260,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){const t=`Method ${n} imported from "expo-file-system" is deprecated.\nYou can migrate to the new filesystem API using "File" and "Directory" classes or import the legacy API from "expo-file-system/legacy".\nAPI reference and examples are available in the filesystem docs: https://docs.expo.dev/versions/v54.0.0/sdk/filesystem/`;return console.warn(t),new Error(t)}Object.defineProperty(e,'__esModule',{value:!0}),e.getInfoAsync=async function(t,c={}){throw n('getInfoAsync')},e.readAsStringAsync=async function(t,c={}){throw n('readAsStringAsync')},e.getContentUriAsync=async function(t){throw n('getContentUriAsync')},e.writeAsStringAsync=async function(t,c,o={}){throw n('writeAsStringAsync')},e.deleteAsync=async function(t,c={}){throw n('deleteAsync')},e.deleteLegacyDocumentDirectoryAndroid=async function(){throw n('deleteLegacyDocumentDirectoryAndroid')},e.moveAsync=async function(t){throw n('moveAsync')},e.copyAsync=async function(t){throw n('copyAsync')},e.makeDirectoryAsync=async function(t,c={}){throw n('makeDirectoryAsync')},e.readDirectoryAsync=async function(t){throw n('readDirectoryAsync')},e.getFreeDiskStorageAsync=async function(){throw n('getFreeDiskStorageAsync')},e.getTotalDiskCapacityAsync=async function(){throw n('getTotalDiskCapacityAsync')},e.downloadAsync=async function(t,c,o={}){throw n('downloadAsync')},e.uploadAsync=async function(t,c,o={}){throw n('uploadAsync')},e.createDownloadResumable=function(t,c,o,s,y){throw n('createDownloadResumable')},e.createUploadTask=function(t,c,o,s){throw n('createUploadTask')}},261,[]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var e,t=r(_d[0]),n=r(_d[1]),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),c=r(_d[3]),s=r(_d[4]),i=(e=s)&&e.__esModule?e:{default:e},u=r(_d[5]);const f=({sourceId:e,targetId:c,positionsRef:s})=>{const i=(0,t.useRef)(null);return(0,n.useFrame)(()=>{if(i.current){const t=s.current.get(e),n=s.current.get(c);if(t&&n){const e=new Float32Array([t[0],t[1],t[2],n[0],n[1],n[2]]);i.current.geometry.setAttribute('position',new o.BufferAttribute(e,3)),i.current.geometry.attributes.position.needsUpdate=!0}}}),(0,u.jsxs)("line",{ref:i,children:[(0,u.jsx)("bufferGeometry",{}),(0,u.jsx)("lineBasicMaterial",{color:"rgba(0, 255, 204, 0.2)",transparent:!0,depthWrite:!1,linewidth:2})]})};function l({nodes:e,links:s,onNodePress:l,selectedNodeId:d,onFlightComplete:p}){const b=(0,t.useRef)(new Map),y=(0,t.useRef)(null),j=(0,t.useMemo)(()=>{const t=e.map(e=>Object.assign({},e)),n=s.map(e=>Object.assign({},e)),o=(0,c.forceSimulation)(t).numDimensions(3).force('charge',(0,c.forceManyBody)().strength(-300)).force('link',(0,c.forceLink)(n).id(e=>e.id).distance(50)).force('center',(0,c.forceCenter)());return o.stop(),o},[e,s]);return(0,t.useEffect)(()=>{if(d){const e=b.current.get(d);e&&(y.current=new o.Vector3(e[0],e[1],e[2]+5))}else y.current=null},[d]),(0,n.useFrame)(e=>{j.alpha()>j.alphaMin()&&(j.tick(),j.nodes().forEach(e=>{b.current.set(e.id,[e.x||0,e.y||0,e.z||0])})),y.current&&d&&p&&(e.camera.position.lerp(y.current,.04),e.camera.lookAt(y.current.x,y.current.y,y.current.z-5),e.camera.position.distanceTo(y.current)<.5&&(p(d),y.current=null))}),(0,u.jsxs)("group",{children:[s.map((e,t)=>(0,u.jsx)(f,{sourceId:'string'==typeof e.source?e.source:e.source.id,targetId:'string'==typeof e.target?e.target:e.target.id,positionsRef:b},`edge-${t}`)),e.map(e=>(0,u.jsx)(i.default,{id:e.id,label:e.label,color:"#00ffcc",position:b.current.get(e.id)||[0,0,0],onPress:l},e.id))]})}},262,[36,211,213,263,328,208]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"forceCenter",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(_e,"forceCollide",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(_e,"forceLink",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(_e,"forceManyBody",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(_e,"forceRadial",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"forceSimulation",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(_e,"forceX",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(_e,"forceY",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(_e,"forceZ",{enumerable:!0,get:function(){return y.default}});var t=e(r(d[0])),n=e(r(d[1])),u=e(r(d[2])),f=e(r(d[3])),o=e(r(d[4])),c=e(r(d[5])),l=e(r(d[6])),b=e(r(d[7])),y=e(r(d[8]))},263,[264,265,314,315,324,316,325,326,327]);
__d(function(g,r,_i,a,m,e,d){"use strict";function n(n,t,u){var i,l=1;function f(){var f,o,c=i.length,h=0,y=0,s=0;for(f=0;f<c;++f)h+=(o=i[f]).x||0,y+=o.y||0,s+=o.z||0;for(h=(h/c-n)*l,y=(y/c-t)*l,s=(s/c-u)*l,f=0;f<c;++f)o=i[f],h&&(o.x-=h),y&&(o.y-=y),s&&(o.z-=s)}return null==n&&(n=0),null==t&&(t=0),null==u&&(u=0),f.initialize=function(n){i=n},f.x=function(t){return arguments.length?(n=+t,f):n},f.y=function(n){return arguments.length?(t=+n,f):t},f.z=function(n){return arguments.length?(u=+n,f):u},f.strength=function(n){return arguments.length?(l=+n,f):l},f}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}})},264,[]);
__d(function(g,_r,_i,a,m,_e,_d){"use strict";function n(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return v}});var t=_r(_d[0]),e=_r(_d[1]),r=_r(_d[2]),u=n(_r(_d[3])),i=n(_r(_d[4]));function f(n){return n.x+n.vx}function o(n){return n.y+n.vy}function d(n){return n.z+n.vz}function v(n){var v,c,l,y,x=1,s=1;function h(){for(var n,u,h,p,_,M,b,j,q=v.length,w=0;w<s;++w)for(u=(1===c?(0,t.binarytree)(v,f):2===c?(0,e.quadtree)(v,f,o):3===c?(0,r.octree)(v,f,o,d):null).visitAfter(z),n=0;n<q;++n)h=v[n],b=l[h.index],j=b*b,p=h.x+h.vx,c>1&&(_=h.y+h.vy),c>2&&(M=h.z+h.vz),u.visit(A);function A(n,t,e,r,u,f,o){var d=[t,e,r,u,f,o],v=d[0],l=d[1],s=d[2],z=d[c],q=d[c+1],w=d[c+2],A=n.data,O=n.r,P=b+O;if(!A)return v>p+P||z<p-P||c>1&&(l>_+P||q<_-P)||c>2&&(s>M+P||w<M-P);if(A.index>h.index){var k=p-A.x-A.vx,B=c>1?_-A.y-A.vy:0,C=c>2?M-A.z-A.vz:0,D=k*k+B*B+C*C;D<P*P&&(0===k&&(D+=(k=(0,i.default)(y))*k),c>1&&0===B&&(D+=(B=(0,i.default)(y))*B),c>2&&0===C&&(D+=(C=(0,i.default)(y))*C),D=(P-(D=Math.sqrt(D)))/D*x,h.vx+=(k*=D)*(P=(O*=O)/(j+O)),c>1&&(h.vy+=(B*=D)*P),c>2&&(h.vz+=(C*=D)*P),A.vx-=k*(P=1-P),c>1&&(A.vy-=B*P),c>2&&(A.vz-=C*P))}}}function z(n){if(n.data)return n.r=l[n.data.index];for(var t=n.r=0;t<Math.pow(2,c);++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function p(){if(v){var t,e,r=v.length;for(l=new Array(r),t=0;t<r;++t)e=v[t],l[e.index]=+n(e,t,v)}}return"function"!=typeof n&&(n=(0,u.default)(null==n?1:+n)),h.initialize=function(n,...t){v=n,y=t.find(n=>'function'==typeof n)||Math.random,c=t.find(n=>[1,2,3].includes(n))||2,p()},h.iterations=function(n){return arguments.length?(s=+n,h):s},h.strength=function(n){return arguments.length?(x=+n,h):x},h.radius=function(t){return arguments.length?(n="function"==typeof t?t:(0,u.default)(+t),p(),h):n},h}},265,[266,280,295,312,313]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"binarytree",{enumerable:!0,get:function(){return u.default}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},266,[267]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return A}});var e=r(d[0]),u=t(e),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),f=t(r(d[4])),i=r(d[5]),s=t(i),_=t(r(d[6])),c=t(r(d[7])),v=t(r(d[8])),h=t(r(d[9])),p=r(d[10]),x=t(p);function A(t,e){var u=new y(null==e?p.defaultX:e,NaN,NaN);return null==t?u:u.addAll(t)}function y(t,e,u){this._x=t,this._x0=e,this._x1=u,this._root=void 0}function w(t){for(var e={data:t.data},u=e;t=t.next;)u=u.next={data:t.data};return e}var N=A.prototype=y.prototype;N.copy=function(){var t,e,u=new y(this._x,this._x0,this._x1),o=this._root;if(!o)return u;if(!o.length)return u._root=w(o),u;for(t=[{source:o,target:u._root=new Array(2)}];o=t.pop();)for(var n=0;n<2;++n)(e=o.source[n])&&(e.length?t.push({source:e,target:o.target[n]=new Array(2)}):o.target[n]=w(e));return u},N.add=u.default,N.addAll=e.addAll,N.cover=o.default,N.data=n.default,N.extent=l.default,N.find=f.default,N.remove=s.default,N.removeAll=i.removeAll,N.root=_.default,N.size=c.default,N.visit=v.default,N.visitAfter=h.default,N.x=x.default},267,[268,269,270,271,272,274,275,276,277,278,279]);
__d(function(g,r,_i,a,m,e,_d){"use strict";function t(t){const o=+this._x.call(null,t);return n(this.cover(o),o,t)}function n(t,n,o){if(isNaN(n))return t;var l,i,u,f,c,s,_=t._root,d={data:o},h=t._x0,y=t._x1;if(!_)return t._root=d,t;for(;_.length;)if((f=n>=(i=(h+y)/2))?h=i:y=i,l=_,!(_=_[c=+f]))return l[c]=d,t;if(n===(u=+t._x.call(null,_.data)))return d.next=_,l?l[c]=d:t._root=d,t;do{l=l?l[c]=new Array(2):t._root=new Array(2),(f=n>=(i=(h+y)/2))?h=i:y=i}while((c=+f)===(s=+(u>=i)));return l[s]=_,l[c]=d,t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.addAll=function(t){Array.isArray(t)||(t=Array.from(t));const o=t.length,l=new Float64Array(o);let i=1/0,u=-1/0;for(let n,f=0;f<o;++f)isNaN(n=+this._x.call(null,t[f]))||(l[f]=n,n<i&&(i=n),n>u&&(u=n));if(i>u)return this;this.cover(i).cover(u);for(let i=0;i<o;++i)n(this,l[i],t[i]);return this}},268,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t){if(isNaN(t=+t))return this;var i=this._x0,s=this._x1;if(isNaN(i))s=(i=Math.floor(t))+1;else{for(var o,n,h=s-i||1,_=this._root;i>t||t>=s;)switch(n=+(t<i),(o=new Array(2))[n]=_,_=o,h*=2,n){case 0:s=i+h;break;case 1:i=s-h}this._root&&this._root.length&&(this._root=_)}return this._x0=i,this._x1=s,this}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},269,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},270,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},271,[]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var e,t=r(_d[0]),n=(e=t)&&e.__esModule?e:{default:e};function l(e,t){var l,u,d,f,h,i=this._x0,o=this._x1,s=[],_=this._root;for(_&&s.push(new n.default(_,i,o)),null==t?t=1/0:(i=e-t,o=e+t);f=s.pop();)if(!(!(_=f.node)||(u=f.x0)>o||(d=f.x1)<i))if(_.length){var c=(u+d)/2;s.push(new n.default(_[1],c,d),new n.default(_[0],u,c)),(h=+(e>=c))&&(f=s[s.length-1],s[s.length-1]=s[s.length-1-h],s[s.length-1-h]=f)}else{var p=Math.abs(e-+this._x.call(null,_.data));p<t&&(t=p,i=e-p,o=e+p,l=_.data)}return l}},272,[273]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n,u){this.node=t,this.x0=n,this.x1=u}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},273,[]);
__d(function(g,r,_i,a,m,e,_d){"use strict";function t(t){if(isNaN(o=+this._x.call(null,t)))return this;var i,n,h,s,o,l,u,f,_,d=this._root,c=this._x0,x=this._x1;if(!d)return this;if(d.length)for(;;){if((u=o>=(l=(c+x)/2))?c=l:x=l,i=d,!(d=d[f=+u]))return this;if(!d.length)break;i[f+1&1]&&(n=i,_=f)}for(;d.data!==t;)if(h=d,!(d=d.next))return this;return(s=d.next)&&delete d.next,h?(s?h.next=s:delete h.next,this):i?(s?i[f]=s:delete i[f],(d=i[0]||i[1])&&d===(i[1]||i[0])&&!d.length&&(n?n[_]=d:this._root=d),this):(this._root=s,this)}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.removeAll=function(t){for(var i=0,n=t.length;i<n;++i)this.remove(t[i]);return this}},274,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){return this._root}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},275,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},276,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e){var t,n,f,o,s=[],l=this._root;for(l&&s.push(new u.default(l,this._x0,this._x1));t=s.pop();)if(!e(l=t.node,f=t.x0,o=t.x1)&&l.length){var _=(f+o)/2;(n=l[1])&&s.push(new u.default(n,_,o)),(n=l[0])&&s.push(new u.default(n,f,_))}return this}},277,[273]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e){var t,n=[],o=[];for(this._root&&n.push(new u.default(this._root,this._x0,this._x1));t=n.pop();){var f=t.node;if(f.length){var s,h=t.x0,l=t.x1,p=(h+l)/2;(s=f[0])&&n.push(new u.default(s,h,p)),(s=f[1])&&n.push(new u.default(s,p,l))}o.push(t)}for(;t=o.pop();)e(t.node,t.x0,t.x1);return this}},278,[273]);
__d(function(g,r,i,a,m,e,_d){"use strict";function t(t){return arguments.length?(this._x=t,this):this._x}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.defaultX=function(t){return t[0]}},279,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"quadtree",{enumerable:!0,get:function(){return u.default}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},280,[281]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return N}});var e=r(d[0]),u=t(e),l=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),i=t(r(d[4])),f=r(d[5]),s=t(f),_=t(r(d[6])),h=t(r(d[7])),c=t(r(d[8])),v=t(r(d[9])),y=r(d[10]),p=t(y),x=r(d[11]),A=t(x);function N(t,e,u){var l=new w(null==e?y.defaultX:e,null==u?x.defaultY:u,NaN,NaN,NaN,NaN);return null==t?l:l.addAll(t)}function w(t,e,u,l,o,n){this._x=t,this._y=e,this._x0=u,this._y0=l,this._x1=o,this._y1=n,this._root=void 0}function b(t){for(var e={data:t.data},u=e;t=t.next;)u=u.next={data:t.data};return e}var j=N.prototype=w.prototype;j.copy=function(){var t,e,u=new w(this._x,this._y,this._x0,this._y0,this._x1,this._y1),l=this._root;if(!l)return u;if(!l.length)return u._root=b(l),u;for(t=[{source:l,target:u._root=new Array(4)}];l=t.pop();)for(var o=0;o<4;++o)(e=l.source[o])&&(e.length?t.push({source:e,target:l.target[o]=new Array(4)}):l.target[o]=b(e));return u},j.add=u.default,j.addAll=e.addAll,j.cover=l.default,j.data=o.default,j.extent=n.default,j.find=i.default,j.remove=s.default,j.removeAll=f.removeAll,j.root=_.default,j.size=h.default,j.visit=c.default,j.visitAfter=v.default,j.x=p.default,j.y=A.default},281,[282,283,284,285,286,288,289,290,291,292,293,294]);
__d(function(g,r,_i,a,m,e,_d){"use strict";function t(t){const l=+this._x.call(null,t),i=+this._y.call(null,t);return n(this.cover(l,i),l,i,t)}function n(t,n,l,i){if(isNaN(n)||isNaN(l))return t;var u,o,c,_,s,f,h,d,y,N=t._root,v={data:i},x=t._x0,w=t._y0,A=t._x1,b=t._y1;if(!N)return t._root=v,t;for(;N.length;)if((f=n>=(o=(x+A)/2))?x=o:A=o,(h=l>=(c=(w+b)/2))?w=c:b=c,u=N,!(N=N[d=h<<1|f]))return u[d]=v,t;if(_=+t._x.call(null,N.data),s=+t._y.call(null,N.data),n===_&&l===s)return v.next=N,u?u[d]=v:t._root=v,t;do{u=u?u[d]=new Array(4):t._root=new Array(4),(f=n>=(o=(x+A)/2))?x=o:A=o,(h=l>=(c=(w+b)/2))?w=c:b=c}while((d=h<<1|f)==(y=(s>=c)<<1|_>=o));return u[y]=N,u[d]=v,t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.addAll=function(t){var l,i,u,o,c=t.length,_=new Array(c),s=new Array(c),f=1/0,h=1/0,d=-1/0,y=-1/0;for(i=0;i<c;++i)isNaN(u=+this._x.call(null,l=t[i]))||isNaN(o=+this._y.call(null,l))||(_[i]=u,s[i]=o,u<f&&(f=u),u>d&&(d=u),o<h&&(h=o),o>y&&(y=o));if(f>d||h>y)return this;for(this.cover(f,h).cover(d,y),i=0;i<c;++i)n(this,_[i],s[i],t[i]);return this}},282,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var s=this._x0,o=this._y0,h=this._x1,_=this._y1;if(isNaN(s))h=(s=Math.floor(t))+1,_=(o=Math.floor(i))+1;else{for(var n,c,f=h-s||1,u=this._root;s>t||t>=h||o>i||i>=_;)switch(c=(i<o)<<1|t<s,(n=new Array(4))[c]=u,u=n,f*=2,c){case 0:h=s+f,_=o+f;break;case 1:s=h-f,_=o+f;break;case 2:h=s+f,o=_-f;break;case 3:s=h-f,o=_-f}this._root&&this._root.length&&(this._root=u)}return this._x0=s,this._y0=o,this._x1=h,this._y1=_,this}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},283,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},284,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},285,[]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(_d[0]),l=(e=t)&&e.__esModule?e:{default:e};function n(e,t,n){var u,d,f,i,h,s,_,o=this._x0,c=this._y0,y=this._x1,p=this._y1,v=[],w=this._root;for(w&&v.push(new l.default(w,o,c,y,p)),null==n?n=1/0:(o=e-n,c=t-n,y=e+n,p=t+n,n*=n);s=v.pop();)if(!(!(w=s.node)||(d=s.x0)>y||(f=s.y0)>p||(i=s.x1)<o||(h=s.y1)<c))if(w.length){var x=(d+i)/2,b=(f+h)/2;v.push(new l.default(w[3],x,b,i,h),new l.default(w[2],d,b,x,h),new l.default(w[1],x,f,i,b),new l.default(w[0],d,f,x,b)),(_=(t>=b)<<1|e>=x)&&(s=v[v.length-1],v[v.length-1]=v[v.length-1-_],v[v.length-1-_]=s)}else{var M=e-+this._x.call(null,w.data),j=t-+this._y.call(null,w.data),O=M*M+j*j;if(O<n){var P=Math.sqrt(n=O);o=e-P,c=t-P,y=e+P,p=t+P,u=w.data}}return u}},286,[287]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n,u,s,o){this.node=t,this.x0=n,this.y0=u,this.x1=s,this.y1=o}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},287,[]);
__d(function(g,r,_i,a,m,e,_d){"use strict";function t(t){if(isNaN(l=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var i,n,s,h,l,o,u,f,_,c,d,x,v=this._root,y=this._x0,b=this._y0,N=this._x1,j=this._y1;if(!v)return this;if(v.length)for(;;){if((_=l>=(u=(y+N)/2))?y=u:N=u,(c=o>=(f=(b+j)/2))?b=f:j=f,i=v,!(v=v[d=c<<1|_]))return this;if(!v.length)break;(i[d+1&3]||i[d+2&3]||i[d+3&3])&&(n=i,x=d)}for(;v.data!==t;)if(s=v,!(v=v.next))return this;return(h=v.next)&&delete v.next,s?(h?s.next=h:delete s.next,this):i?(h?i[d]=h:delete i[d],(v=i[0]||i[1]||i[2]||i[3])&&v===(i[3]||i[2]||i[1]||i[0])&&!v.length&&(n?n[x]=v:this._root=v),this):(this._root=h,this)}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.removeAll=function(t){for(var i=0,n=t.length;i<n;++i)this.remove(t[i]);return this}},288,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){return this._root}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},289,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},290,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e){var t,n,s,f,h,l,o=[],_=this._root;for(_&&o.push(new u.default(_,this._x0,this._y0,this._x1,this._y1));t=o.pop();)if(!e(_=t.node,s=t.x0,f=t.y0,h=t.x1,l=t.y1)&&_.length){var p=(s+h)/2,c=(f+l)/2;(n=_[3])&&o.push(new u.default(n,p,c,h,l)),(n=_[2])&&o.push(new u.default(n,s,c,p,l)),(n=_[1])&&o.push(new u.default(n,p,f,h,c)),(n=_[0])&&o.push(new u.default(n,s,f,p,c))}return this}},291,[287]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e){var t,n=[],o=[];for(this._root&&n.push(new u.default(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var s=t.node;if(s.length){var f,h=t.x0,l=t.y0,p=t.x1,_=t.y1,y=(h+p)/2,c=(l+_)/2;(f=s[0])&&n.push(new u.default(f,h,l,y,c)),(f=s[1])&&n.push(new u.default(f,y,l,p,c)),(f=s[2])&&n.push(new u.default(f,h,c,y,_)),(f=s[3])&&n.push(new u.default(f,y,c,p,_))}o.push(t)}for(;t=o.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}},292,[287]);
__d(function(g,r,i,a,m,e,_d){"use strict";function t(t){return arguments.length?(this._x=t,this):this._x}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.defaultX=function(t){return t[0]}},293,[]);
__d(function(g,r,i,a,m,e,_d){"use strict";function t(t){return arguments.length?(this._y=t,this):this._y}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.defaultY=function(t){return t[1]}},294,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"octree",{enumerable:!0,get:function(){return u.default}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},295,[296]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return b}});var e=r(d[0]),i=t(e),u=t(r(d[1])),l=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),f=r(d[5]),s=r(d[6]),_=t(s),h=t(r(d[7])),c=t(r(d[8])),v=t(r(d[9])),y=t(r(d[10])),N=r(d[11]),p=t(N),x=r(d[12]),A=t(x),z=r(d[13]),w=t(z);function b(t,e,i,u){var l=new j(null==e?N.defaultX:e,null==i?x.defaultY:i,null==u?z.defaultZ:u,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?l:l.addAll(t)}function j(t,e,i,u,l,n,o,f,s){this._x=t,this._y=e,this._z=i,this._x0=u,this._y0=l,this._z0=n,this._x1=o,this._y1=f,this._z1=s,this._root=void 0}function M(t){for(var e={data:t.data},i=e;t=t.next;)i=i.next={data:t.data};return e}var O=b.prototype=j.prototype;O.copy=function(){var t,e,i=new j(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),u=this._root;if(!u)return i;if(!u.length)return i._root=M(u),i;for(t=[{source:u,target:i._root=new Array(8)}];u=t.pop();)for(var l=0;l<8;++l)(e=u.source[l])&&(e.length?t.push({source:e,target:u.target[l]=new Array(8)}):u.target[l]=M(e));return i},O.add=i.default,O.addAll=e.addAll,O.cover=u.default,O.data=l.default,O.extent=n.default,O.find=o.default,O.findAllWithinRadius=f.findAllWithinRadius,O.remove=_.default,O.removeAll=s.removeAll,O.root=h.default,O.size=c.default,O.visit=v.default,O.visitAfter=y.default,O.x=p.default,O.y=A.default,O.z=w.default},296,[297,298,299,300,301,303,304,305,306,307,308,309,310,311]);
__d(function(g,r,_i,a,m,e,_d){"use strict";function t(t){const n=+this._x.call(null,t),i=+this._y.call(null,t),o=+this._z.call(null,t);return l(this.cover(n,i,o),n,i,o,t)}function l(t,l,n,i,o){if(isNaN(l)||isNaN(n)||isNaN(i))return t;var u,s,_,c,f,y,h,d,N,A,w,x,v=t._root,z={data:o},b=t._x0,F=t._y0,j=t._z0,p=t._x1,O=t._y1,P=t._z1;if(!v)return t._root=z,t;for(;v.length;)if((d=l>=(s=(b+p)/2))?b=s:p=s,(N=n>=(_=(F+O)/2))?F=_:O=_,(A=i>=(c=(j+P)/2))?j=c:P=c,u=v,!(v=v[w=A<<2|N<<1|d]))return u[w]=z,t;if(f=+t._x.call(null,v.data),y=+t._y.call(null,v.data),h=+t._z.call(null,v.data),l===f&&n===y&&i===h)return z.next=v,u?u[w]=z:t._root=z,t;do{u=u?u[w]=new Array(8):t._root=new Array(8),(d=l>=(s=(b+p)/2))?b=s:p=s,(N=n>=(_=(F+O)/2))?F=_:O=_,(A=i>=(c=(j+P)/2))?j=c:P=c}while((w=A<<2|N<<1|d)==(x=(h>=c)<<2|(y>=_)<<1|f>=s));return u[x]=v,u[w]=z,t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.addAll=function(t){Array.isArray(t)||(t=Array.from(t));const n=t.length,i=new Float64Array(n),o=new Float64Array(n),u=new Float64Array(n);let s=1/0,_=1/0,c=1/0,f=-1/0,y=-1/0,h=-1/0;for(let l,d,N,A,w=0;w<n;++w)isNaN(d=+this._x.call(null,l=t[w]))||isNaN(N=+this._y.call(null,l))||isNaN(A=+this._z.call(null,l))||(i[w]=d,o[w]=N,u[w]=A,d<s&&(s=d),d>f&&(f=d),N<_&&(_=N),N>y&&(y=N),A<c&&(c=A),A>h&&(h=A));if(s>f||_>y||c>h)return this;this.cover(s,_,c).cover(f,y,h);for(let s=0;s<n;++s)l(this,i[s],o[s],u[s],t[s]);return this}},297,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t,s,i){if(isNaN(t=+t)||isNaN(s=+s)||isNaN(i=+i))return this;var h=this._x0,o=this._y0,_=this._z0,c=this._x1,n=this._y1,f=this._z1;if(isNaN(h))c=(h=Math.floor(t))+1,n=(o=Math.floor(s))+1,f=(_=Math.floor(i))+1;else{for(var u,b,l=c-h||1,N=this._root;h>t||t>=c||o>s||s>=n||_>i||i>=f;)switch(b=(i<_)<<2|(s<o)<<1|t<h,(u=new Array(8))[b]=N,N=u,l*=2,b){case 0:c=h+l,n=o+l,f=_+l;break;case 1:h=c-l,n=o+l,f=_+l;break;case 2:c=h+l,o=n-l,f=_+l;break;case 3:h=c-l,o=n-l,f=_+l;break;case 4:c=h+l,n=o+l,_=f-l;break;case 5:h=c-l,n=o+l,_=f-l;break;case 6:c=h+l,o=n-l,_=f-l;break;case 7:h=c-l,o=n-l,_=f-l}this._root&&this._root.length&&(this._root=N)}return this._x0=h,this._y0=o,this._z0=_,this._x1=c,this._y1=n,this._z1=f,this}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},298,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},299,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},300,[]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(_d[0]),l=(e=t)&&e.__esModule?e:{default:e};function n(e,t,n,u){var d,f,i,h,s,_,o,c,w,y=this._x0,p=this._y0,v=this._z0,x=this._x1,z=this._y1,b=this._z1,M=[],j=this._root;for(j&&M.push(new l.default(j,y,p,v,x,z,b)),null==u?u=1/0:(y=e-u,p=t-u,v=n-u,x=e+u,z=t+u,b=n+u,u*=u);c=M.pop();)if(!(!(j=c.node)||(f=c.x0)>x||(i=c.y0)>z||(h=c.z0)>b||(s=c.x1)<y||(_=c.y1)<p||(o=c.z1)<v))if(j.length){var O=(f+s)/2,P=(i+_)/2,q=(h+o)/2;M.push(new l.default(j[7],O,P,q,s,_,o),new l.default(j[6],f,P,q,O,_,o),new l.default(j[5],O,i,q,s,P,o),new l.default(j[4],f,i,q,O,P,o),new l.default(j[3],O,P,h,s,_,q),new l.default(j[2],f,P,h,O,_,q),new l.default(j[1],O,i,h,s,P,q),new l.default(j[0],f,i,h,O,P,q)),(w=(n>=q)<<2|(t>=P)<<1|e>=O)&&(c=M[M.length-1],M[M.length-1]=M[M.length-1-w],M[M.length-1-w]=c)}else{var k=e-+this._x.call(null,j.data),A=t-+this._y.call(null,j.data),B=n-+this._z.call(null,j.data),C=k*k+A*A+B*B;if(C<u){var D=Math.sqrt(u=C);y=e-D,p=t-D,v=n-D,x=e+D,z=t+D,b=n+D,d=j.data}}return d}},301,[302]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n,s,u,h,o,c){this.node=t,this.x0=n,this.y0=s,this.z0=u,this.x1=h,this.y1=o,this.z1=c}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},302,[]);
__d(function(g,r,i,a,m,e,_d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.findAllWithinRadius=function(n,s,h,u){const o=[],c=n-u,d=s-u,_=h-u,l=n+u,f=s+u,p=h+u;return this.visit((v,x,y,M,b,j,q)=>{if(!v.length)do{const c=v.data;t(n,s,h,this._x(c),this._y(c),this._z(c))<=u&&o.push(c)}while(v=v.next);return x>l||y>f||M>p||b<c||j<d||q<_}),o};const t=(t,n,s,h,u,o)=>Math.sqrt((t-h)**2+(n-u)**2+(s-o)**2)},303,[]);
__d(function(g,r,_i,a,m,e,_d){"use strict";function t(t){if(isNaN(l=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t))||isNaN(o=+this._z.call(null,t)))return this;var i,n,s,h,l,u,o,f,_,c,d,x,N,v,y,b=this._root,z=this._x0,j=this._y0,p=this._z0,O=this._x1,P=this._y1,k=this._z1;if(!b)return this;if(b.length)for(;;){if((d=l>=(f=(z+O)/2))?z=f:O=f,(x=u>=(_=(j+P)/2))?j=_:P=_,(N=o>=(c=(p+k)/2))?p=c:k=c,i=b,!(b=b[v=N<<2|x<<1|d]))return this;if(!b.length)break;(i[v+1&7]||i[v+2&7]||i[v+3&7]||i[v+4&7]||i[v+5&7]||i[v+6&7]||i[v+7&7])&&(n=i,y=v)}for(;b.data!==t;)if(s=b,!(b=b.next))return this;return(h=b.next)&&delete b.next,s?(h?s.next=h:delete s.next,this):i?(h?i[v]=h:delete i[v],(b=i[0]||i[1]||i[2]||i[3]||i[4]||i[5]||i[6]||i[7])&&b===(i[7]||i[6]||i[5]||i[4]||i[3]||i[2]||i[1]||i[0])&&!b.length&&(n?n[y]=b:this._root=b),this):(this._root=h,this)}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.removeAll=function(t){for(var i=0,n=t.length;i<n;++i)this.remove(t[i]);return this}},304,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){return this._root}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},305,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},306,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e){var t,n,s,f,h,l,p,_,o=[],w=this._root;for(w&&o.push(new u.default(w,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=o.pop();)if(!e(w=t.node,s=t.x0,f=t.y0,h=t.z0,l=t.x1,p=t.y1,_=t.z1)&&w.length){var c=(s+l)/2,y=(f+p)/2,v=(h+_)/2;(n=w[7])&&o.push(new u.default(n,c,y,v,l,p,_)),(n=w[6])&&o.push(new u.default(n,s,y,v,c,p,_)),(n=w[5])&&o.push(new u.default(n,c,f,v,l,y,_)),(n=w[4])&&o.push(new u.default(n,s,f,v,c,y,_)),(n=w[3])&&o.push(new u.default(n,c,y,h,l,p,v)),(n=w[2])&&o.push(new u.default(n,s,y,h,c,p,v)),(n=w[1])&&o.push(new u.default(n,c,f,h,l,y,v)),(n=w[0])&&o.push(new u.default(n,s,f,h,c,y,v))}return this}},307,[302]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e};function n(e){var t,n=[],s=[];for(this._root&&n.push(new u.default(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var h=t.node;if(h.length){var f,o=t.x0,l=t.y0,p=t.z0,_=t.x1,w=t.y1,y=t.z1,c=(o+_)/2,x=(l+w)/2,z=(p+y)/2;(f=h[0])&&n.push(new u.default(f,o,l,p,c,x,z)),(f=h[1])&&n.push(new u.default(f,c,l,p,_,x,z)),(f=h[2])&&n.push(new u.default(f,o,x,p,c,w,z)),(f=h[3])&&n.push(new u.default(f,c,x,p,_,w,z)),(f=h[4])&&n.push(new u.default(f,o,l,z,c,x,y)),(f=h[5])&&n.push(new u.default(f,c,l,z,_,x,y)),(f=h[6])&&n.push(new u.default(f,o,x,z,c,w,y)),(f=h[7])&&n.push(new u.default(f,c,x,z,_,w,y))}s.push(t)}for(;t=s.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this}},308,[302]);
__d(function(g,r,i,a,m,e,_d){"use strict";function t(t){return arguments.length?(this._x=t,this):this._x}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.defaultX=function(t){return t[0]}},309,[]);
__d(function(g,r,i,a,m,e,_d){"use strict";function t(t){return arguments.length?(this._y=t,this):this._y}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.defaultY=function(t){return t[1]}},310,[]);
__d(function(g,r,i,a,m,e,_d){"use strict";function t(t){return arguments.length?(this._z=t,this):this._z}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}}),e.defaultZ=function(t){return t[2]}},311,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return function(){return t}}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},312,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return 1e-6*(t()-.5)}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},313,[]);
__d(function(g,r,_i,a,_m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return i}});var n=e(r(_d[0])),t=e(r(_d[1]));function u(e){return e.index}function o(e,n){var t=e.get(n);if(!t)throw new Error("node not found: "+n);return t}function i(e){var i,f,c,d,l,v,s,x=u,y=function(e){return 1/Math.min(l[e.source.index],l[e.target.index])},h=(0,n.default)(30),p=1;function w(n){for(var u=0,o=e.length;u<p;++u)for(var c,l,x,y,h,w=0,z=0,M=0,_=0;w<o;++w)l=(c=e[w]).source,z=(x=c.target).x+x.vx-l.x-l.vx||(0,t.default)(s),d>1&&(M=x.y+x.vy-l.y-l.vy||(0,t.default)(s)),d>2&&(_=x.z+x.vz-l.z-l.vz||(0,t.default)(s)),z*=y=((y=Math.sqrt(z*z+M*M+_*_))-f[w])/y*n*i[w],M*=y,_*=y,x.vx-=z*(h=v[w]),d>1&&(x.vy-=M*h),d>2&&(x.vz-=_*h),l.vx+=z*(h=1-h),d>1&&(l.vy+=M*h),d>2&&(l.vz+=_*h)}function z(){if(c){var n,t,u=c.length,d=e.length,s=new Map(c.map((e,n)=>[x(e,n,c),e]));for(n=0,l=new Array(u);n<d;++n)(t=e[n]).index=n,"object"!=typeof t.source&&(t.source=o(s,t.source)),"object"!=typeof t.target&&(t.target=o(s,t.target)),l[t.source.index]=(l[t.source.index]||0)+1,l[t.target.index]=(l[t.target.index]||0)+1;for(n=0,v=new Array(d);n<d;++n)t=e[n],v[n]=l[t.source.index]/(l[t.source.index]+l[t.target.index]);i=new Array(d),M(),f=new Array(d),_()}}function M(){if(c)for(var n=0,t=e.length;n<t;++n)i[n]=+y(e[n],n,e)}function _(){if(c)for(var n=0,t=e.length;n<t;++n)f[n]=+h(e[n],n,e)}return null==e&&(e=[]),w.initialize=function(e,...n){c=e,s=n.find(e=>'function'==typeof e)||Math.random,d=n.find(e=>[1,2,3].includes(e))||2,z()},w.links=function(n){return arguments.length?(e=n,z(),w):e},w.id=function(e){return arguments.length?(x=e,w):x},w.iterations=function(e){return arguments.length?(p=+e,w):p},w.strength=function(e){return arguments.length?(y="function"==typeof e?e:(0,n.default)(+e),M(),w):y},w.distance=function(e){return arguments.length?(h="function"==typeof e?e:(0,n.default)(+e),_(),w):h},w}},314,[312,313]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var e=r(d[0]),n=r(d[1]),u=r(d[2]),i=t(r(d[3])),f=t(r(d[4])),l=r(d[5]);function o(){var t,o,c,v,h,s,x=(0,i.default)(-30),y=1,M=1/0,z=.81;function q(i){var f,v=t.length,s=(1===o?(0,e.binarytree)(t,l.x):2===o?(0,n.quadtree)(t,l.x,l.y):3===o?(0,u.octree)(t,l.x,l.y,l.z):null).visitAfter(b);for(h=i,f=0;f<v;++f)c=t[f],s.visit(p)}function _(){if(t){var e,n,u=t.length;for(s=new Array(u),e=0;e<u;++e)n=t[e],s[n.index]=+x(n,e,t)}}function b(t){var e,n,u,i,f,l,c=0,v=0,h=t.length;if(h){for(u=i=f=l=0;l<h;++l)(e=t[l])&&(n=Math.abs(e.value))&&(c+=e.value,v+=n,u+=n*(e.x||0),i+=n*(e.y||0),f+=n*(e.z||0));c*=Math.sqrt(4/h),t.x=u/v,o>1&&(t.y=i/v),o>2&&(t.z=f/v)}else{(e=t).x=e.data.x,o>1&&(e.y=e.data.y),o>2&&(e.z=e.data.z);do{c+=s[e.data.index]}while(e=e.next)}t.value=c}function p(t,e,n,u,i){if(!t.value)return!0;var l=[n,u,i][o-1],x=t.x-c.x,q=o>1?t.y-c.y:0,_=o>2?t.z-c.z:0,b=l-e,p=x*x+q*q+_*_;if(b*b/z<p)return p<M&&(0===x&&(p+=(x=(0,f.default)(v))*x),o>1&&0===q&&(p+=(q=(0,f.default)(v))*q),o>2&&0===_&&(p+=(_=(0,f.default)(v))*_),p<y&&(p=Math.sqrt(y*p)),c.vx+=x*t.value*h/p,o>1&&(c.vy+=q*t.value*h/p),o>2&&(c.vz+=_*t.value*h/p)),!0;if(!(t.length||p>=M)){(t.data!==c||t.next)&&(0===x&&(p+=(x=(0,f.default)(v))*x),o>1&&0===q&&(p+=(q=(0,f.default)(v))*q),o>2&&0===_&&(p+=(_=(0,f.default)(v))*_),p<y&&(p=Math.sqrt(y*p)));do{t.data!==c&&(b=s[t.data.index]*h/p,c.vx+=x*b,o>1&&(c.vy+=q*b),o>2&&(c.vz+=_*b))}while(t=t.next)}}return q.initialize=function(e,...n){t=e,v=n.find(t=>'function'==typeof t)||Math.random,o=n.find(t=>[1,2,3].includes(t))||2,_()},q.strength=function(t){return arguments.length?(x="function"==typeof t?t:(0,i.default)(+t),_(),q):x},q.distanceMin=function(t){return arguments.length?(y=t*t,q):Math.sqrt(y)},q.distanceMax=function(t){return arguments.length?(M=t*t,q):Math.sqrt(M)},q.theta=function(t){return arguments.length?(z=t*t,q):Math.sqrt(z)},q}},315,[266,280,295,312,313,316]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return h}}),_e.x=function(n){return n.x},_e.y=function(n){return n.y},_e.z=function(n){return n.z};var n,t=r(_d[0]),e=r(_d[1]),u=r(_d[2]),i=(n=u)&&n.__esModule?n:{default:n},o=3;var f=10,l=Math.PI*(3-Math.sqrt(5)),c=20*Math.PI/(9+Math.sqrt(221));function h(n,u){u=u||2;var h,s=Math.min(o,Math.max(1,Math.round(u))),y=1,M=.001,v=1-Math.pow(M,.0033333333333333335),x=0,d=.6,z=new Map,p=(0,e.timer)(b),N=(0,t.dispatch)("tick","end"),_=(0,i.default)();function b(){E(),N.call("tick",h),y<M&&(p.stop(),N.call("end",h))}function E(t){var e,u,i=n.length;void 0===t&&(t=1);for(var o=0;o<t;++o)for(y+=(x-y)*v,z.forEach(function(n){n(y)}),e=0;e<i;++e)null==(u=n[e]).fx?u.x+=u.vx*=d:(u.x=u.fx,u.vx=0),s>1&&(null==u.fy?u.y+=u.vy*=d:(u.y=u.fy,u.vy=0)),s>2&&(null==u.fz?u.z+=u.vz*=d:(u.z=u.fz,u.vz=0));return h}function P(){for(var t,e=0,u=n.length;e<u;++e){if((t=n[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||s>1&&isNaN(t.y)||s>2&&isNaN(t.z)){var i=f*(s>2?Math.cbrt(.5+e):s>1?Math.sqrt(.5+e):e),o=e*l,h=e*c;1===s?t.x=i:2===s?(t.x=i*Math.cos(o),t.y=i*Math.sin(o)):(t.x=i*Math.sin(o)*Math.cos(h),t.y=i*Math.cos(o),t.z=i*Math.sin(o)*Math.sin(h))}(isNaN(t.vx)||s>1&&isNaN(t.vy)||s>2&&isNaN(t.vz))&&(t.vx=0,s>1&&(t.vy=0),s>2&&(t.vz=0))}}function k(t){return t.initialize&&t.initialize(n,_,s),t}return null==n&&(n=[]),P(),h={tick:E,restart:function(){return p.restart(b),h},stop:function(){return p.stop(),h},numDimensions:function(n){return arguments.length?(s=Math.min(o,Math.max(1,Math.round(n))),z.forEach(k),h):s},nodes:function(t){return arguments.length?(n=t,P(),z.forEach(k),h):n},alpha:function(n){return arguments.length?(y=+n,h):y},alphaMin:function(n){return arguments.length?(M=+n,h):M},alphaDecay:function(n){return arguments.length?(v=+n,h):+v},alphaTarget:function(n){return arguments.length?(x=+n,h):x},velocityDecay:function(n){return arguments.length?(d=1-n,h):1-d},randomSource:function(n){return arguments.length?(_=n,z.forEach(k),h):_},force:function(n,t){return arguments.length>1?(null==t?z.delete(n):z.set(n,k(t)),h):z.get(n)},find:function(){var t,e,u,i,o,f,l=Array.prototype.slice.call(arguments),c=l.shift()||0,h=(s>1?l.shift():null)||0,y=(s>2?l.shift():null)||0,M=l.shift()||1/0,v=0,x=n.length;for(M*=M,v=0;v<x;++v)(i=(t=c-(o=n[v]).x)*t+(e=h-(o.y||0))*e+(u=y-(o.z||0))*u)<M&&(f=o,M=i);return f},on:function(n,t){return arguments.length>1?(N.on(n,t),h):N.on(n)}}}},316,[317,319,323]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"dispatch",{enumerable:!0,get:function(){return u.default}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},317,[318]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return f}});var n={value:()=>{}};function t(){for(var n,t=0,i=arguments.length,l={};t<i;++t){if(!(n=arguments[t]+"")||n in l||/[\s.]/.test(n))throw new Error("illegal type: "+n);l[n]=[]}return new o(l)}function o(n){this._=n}function i(n,t){for(var o,i=0,l=n.length;i<l;++i)if((o=n[i]).name===t)return o.value}function l(t,o,i){for(var l=0,f=t.length;l<f;++l)if(t[l].name===o){t[l]=n,t=t.slice(0,l).concat(t.slice(l+1));break}return null!=i&&t.push({name:o,value:i}),t}o.prototype=t.prototype={constructor:o,on:function(n,t){var o,f,u=this._,c=(f=u,(n+"").trim().split(/^|\s+/).map(function(n){var t="",o=n.indexOf(".");if(o>=0&&(t=n.slice(o+1),n=n.slice(0,o)),n&&!f.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:t}})),p=-1,s=c.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++p<s;)if(o=(n=c[p]).type)u[o]=l(u[o],n.name,t);else if(null==t)for(o in u)u[o]=l(u[o],n.name,null);return this}for(;++p<s;)if((o=(n=c[p]).type)&&(o=i(u[o],n.name)))return o},copy:function(){var n={},t=this._;for(var i in t)n[i]=t[i].slice();return new o(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var o,i,l=new Array(o),f=0;f<o;++f)l[f]=arguments[f+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(f=0,o=(i=this._[n]).length;f<o;++f)i[f].value.apply(t,l)},apply:function(n,t,o){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],l=0,f=i.length;l<f;++l)i[l].value.apply(t,o)}};var f=t},318,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"now",{enumerable:!0,get:function(){return t.now}}),Object.defineProperty(_e,"timer",{enumerable:!0,get:function(){return t.timer}}),Object.defineProperty(_e,"timerFlush",{enumerable:!0,get:function(){return t.timerFlush}}),Object.defineProperty(_e,"timeout",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(_e,"interval",{enumerable:!0,get:function(){return u.default}});var t=r(d[0]),n=e(r(d[1])),u=e(r(d[2]))},319,[320,321,322]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.now=w,_e.Timer=p,_e.timer=v,_e.timerFlush=y;var t,n,e=0,o=0,c=0,l=0,u=0,s=0,f="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function w(){return u||(_(h),u=f.now()+s)}function h(){u=0}function p(){this._call=this._time=this._next=null}function v(t,n,e){var o=new p;return o.restart(t,n,e),o}function y(){w(),++e;for(var n,o=t;o;)(n=u-o._time)>=0&&o._call.call(void 0,n),o=o._next;--e}function x(){u=(l=f.now())+s,e=o=0;try{y()}finally{e=0,T(),u=0}}function b(){var t=f.now(),n=t-l;n>1e3&&(s-=n,l=t)}function T(){for(var e,o,c=t,l=1/0;c;)c._call?(l>c._time&&(l=c._time),e=c,c=c._next):(o=c._next,c._next=null,c=e?e._next=o:t=o);n=e,j(l)}function j(t){e||(o&&(o=clearTimeout(o)),t-u>24?(t<1/0&&(o=setTimeout(x,t-f.now()-s)),c&&(c=clearInterval(c))):(c||(l=f.now(),c=setInterval(b,1e3)),e=1,_(x)))}p.prototype=v.prototype={constructor:p,restart:function(e,o,c){if("function"!=typeof e)throw new TypeError("callback is not a function");c=(null==c?w():+c)+(null==o?0:+o),this._next||n===this||(n?n._next=this:t=this,n=this),this._call=e,this._time=c,j()},stop:function(){this._call&&(this._call=null,this._time=1/0,j())}}},320,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=r(d[0]);function n(n,u,o){var c=new t.Timer;return u=null==u?0:+u,c.restart(t=>{c.stop(),n(t+u)},u,o),c}},321,[320]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=r(d[0]);function n(n,u,s){var o=new t.Timer,c=u;return null==u?(o.restart(n,u,s),o):(o._restart=o.restart,o.restart=function(n,u,s){u=+u,s=null==s?(0,t.now)():+s,o._restart(function t(f){f+=c,o._restart(t,c+=u,s),n(f)},u,s)},o.restart(n,u,s),o)}},322,[320]);
__d(function(g,r,i,_a,_m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return c}});const t=1664525,n=1013904223,u=4294967296;function c(){let c=1;return()=>(c=(t*c+n)%u)/u}},323,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var n,e=_r(d[0]),t=(n=e)&&n.__esModule?n:{default:n};function u(n,e,u,r){var f,i,l,o,c=(0,t.default)(.1);function y(n){for(var t=0,c=f.length;t<c;++t){var y=f[t],h=y.x-e||1e-6,s=(y.y||0)-u||1e-6,v=(y.z||0)-r||1e-6,_=Math.sqrt(h*h+s*s+v*v),p=(o[t]-_)*l[t]*n/_;y.vx+=h*p,i>1&&(y.vy+=s*p),i>2&&(y.vz+=v*p)}}function h(){if(f){var e,t=f.length;for(l=new Array(t),o=new Array(t),e=0;e<t;++e)o[e]=+n(f[e],e,f),l[e]=isNaN(o[e])?0:+c(f[e],e,f)}}return"function"!=typeof n&&(n=(0,t.default)(+n)),null==e&&(e=0),null==u&&(u=0),null==r&&(r=0),y.initialize=function(n,...e){f=n,i=e.find(n=>[1,2,3].includes(n))||2,h()},y.strength=function(n){return arguments.length?(c="function"==typeof n?n:(0,t.default)(+n),h(),y):c},y.radius=function(e){return arguments.length?(n="function"==typeof e?e:(0,t.default)(+e),h(),y):n},y.x=function(n){return arguments.length?(e=+n,y):e},y.y=function(n){return arguments.length?(u=+n,y):u},y.z=function(n){return arguments.length?(r=+n,y):r},y}},324,[312]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,n=r(d[0]),t=(e=n)&&e.__esModule?e:{default:e};function u(e){var n,u,f,i=(0,t.default)(.1);function o(e){for(var t,i=0,o=n.length;i<o;++i)(t=n[i]).vx+=(f[i]-t.x)*u[i]*e}function l(){if(n){var t,o=n.length;for(u=new Array(o),f=new Array(o),t=0;t<o;++t)u[t]=isNaN(f[t]=+e(n[t],t,n))?0:+i(n[t],t,n)}}return"function"!=typeof e&&(e=(0,t.default)(null==e?0:+e)),o.initialize=function(e){n=e,l()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:(0,t.default)(+e),l(),o):i},o.x=function(n){return arguments.length?(e="function"==typeof n?n:(0,t.default)(+n),l(),o):e},o}},325,[312]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,n=r(d[0]),t=(e=n)&&e.__esModule?e:{default:e};function u(e){var n,u,f,i=(0,t.default)(.1);function o(e){for(var t,i=0,o=n.length;i<o;++i)(t=n[i]).vy+=(f[i]-t.y)*u[i]*e}function l(){if(n){var t,o=n.length;for(u=new Array(o),f=new Array(o),t=0;t<o;++t)u[t]=isNaN(f[t]=+e(n[t],t,n))?0:+i(n[t],t,n)}}return"function"!=typeof e&&(e=(0,t.default)(null==e?0:+e)),o.initialize=function(e){n=e,l()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:(0,t.default)(+e),l(),o):i},o.y=function(n){return arguments.length?(e="function"==typeof n?n:(0,t.default)(+n),l(),o):e},o}},326,[312]);
__d(function(g,r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,n=r(d[0]),t=(e=n)&&e.__esModule?e:{default:e};function u(e){var n,u,f,i=(0,t.default)(.1);function o(e){for(var t,i=0,o=n.length;i<o;++i)(t=n[i]).vz+=(f[i]-t.z)*u[i]*e}function l(){if(n){var t,o=n.length;for(u=new Array(o),f=new Array(o),t=0;t<o;++t)u[t]=isNaN(f[t]=+e(n[t],t,n))?0:+i(n[t],t,n)}}return"function"!=typeof e&&(e=(0,t.default)(null==e?0:+e)),o.initialize=function(e){n=e,l()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:(0,t.default)(+e),l(),o):i},o.z=function(n){return arguments.length?(e="function"==typeof n?n:(0,t.default)(+n),l(),o):e},o}},327,[312]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var e=r(_d[0]),t=r(_d[1]),n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),u=r(_d[3]);function c({id:c,label:o,color:s,position:l,onPress:f}){const p=(0,e.useRef)(null),d=(0,e.useRef)(null),y=(0,e.useRef)(1),h=(0,e.useRef)(0),b=(0,e.useRef)(0),j=((0,e.useRef)(l[1]),(0,e.useMemo)(()=>100*Math.random(),[]));(0,t.useFrame)(({clock:e,camera:t})=>{if(p.current&&d.current){h.current+=.15*(y.current-h.current),p.current.scale.set(h.current,h.current,h.current);const t=e.getElapsedTime()+j,n=.05*(l[1]+.8*Math.sin(.5*t)-p.current.position.y);b.current=.95*b.current+n,p.current.position.y+=b.current,d.current.rotation.x+=.002,d.current.rotation.y+=.003}});return(0,u.jsx)("group",{ref:p,position:l,children:(0,u.jsxs)("mesh",{ref:d,onPointerDown:e=>{e.stopPropagation(),n.impactAsync(n.ImpactFeedbackStyle.Heavy),y.current=.7,setTimeout(()=>{y.current=1},150),f(c)},children:[(0,u.jsx)("sphereGeometry",{args:[1,32,32]}),(0,u.jsx)("meshPhysicalMaterial",{color:s,transmission:.9,opacity:1,metalness:0,roughness:.1,ior:1.5,thickness:.5})]})})}},328,[36,211,329,208]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.notificationAsync=async function(e=o.NotificationFeedbackType.Success){if(!c.default?.notificationAsync)throw new t.UnavailabilityError('Haptics','notificationAsync');await c.default.notificationAsync(e)},_e.impactAsync=async function(e=o.ImpactFeedbackStyle.Medium){if(!c.default?.impactAsync)throw new t.UnavailabilityError('Haptic','impactAsync');await c.default.impactAsync(e)},_e.selectionAsync=async function(){if(!c.default?.selectionAsync)throw new t.UnavailabilityError('Haptic','selectionAsync');await c.default.selectionAsync()},_e.performAndroidHapticsAsync=async function(e){return},Object.defineProperty(_e,"NotificationFeedbackType",{enumerable:!0,get:function(){return o.NotificationFeedbackType}}),Object.defineProperty(_e,"ImpactFeedbackStyle",{enumerable:!0,get:function(){return o.ImpactFeedbackStyle}}),Object.defineProperty(_e,"AndroidHaptics",{enumerable:!0,get:function(){return o.AndroidHaptics}});var e,t=r(d[0]),n=r(d[1]),c=(e=n)&&e.__esModule?e:{default:e},o=r(d[2])},329,[99,330,331]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});var t=r(d[0]);const n={[t.NotificationFeedbackType.Success]:[40,100,40],[t.NotificationFeedbackType.Warning]:[50,100,50],[t.NotificationFeedbackType.Error]:[60,100,60,100,60],[t.ImpactFeedbackStyle.Light]:[40],[t.ImpactFeedbackStyle.Medium]:[50],[t.ImpactFeedbackStyle.Heavy]:[60],[t.ImpactFeedbackStyle.Soft]:[35],[t.ImpactFeedbackStyle.Rigid]:[45],selection:[50]};function c(){return'undefined'!=typeof window&&'navigator'in window&&'vibrate'in navigator}var o={async notificationAsync(t){c()&&navigator.vibrate(n[t])},async impactAsync(t){c()&&navigator.vibrate(n[t])},async selectionAsync(){c()&&navigator.vibrate(n.selection)}}},330,[331]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"NotificationFeedbackType",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"ImpactFeedbackStyle",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"AndroidHaptics",{enumerable:!0,get:function(){return o}});let t=(function(t){return t.Success="success",t.Warning="warning",t.Error="error",t})({}),n=(function(t){return t.Light="light",t.Medium="medium",t.Heavy="heavy",t.Soft="soft",t.Rigid="rigid",t})({}),o=(function(t){return t.Confirm="confirm",t.Reject="reject",t.Gesture_Start="gesture-start",t.Gesture_End="gesture-end",t.Toggle_On="toggle-on",t.Toggle_Off="toggle-off",t.Clock_Tick="clock-tick",t.Context_Click="context-click",t.Drag_Start="drag-start",t.Keyboard_Tap="keyboard-tap",t.Keyboard_Press="keyboard-press",t.Keyboard_Release="keyboard-release",t.Long_Press="long-press",t.Virtual_Key="virtual-key",t.Virtual_Key_Release="virtual-key-release",t.No_Haptics="no-haptics",t.Segment_Tick="segment-tick",t.Segment_Frequent_Tick="segment-frequent-tick",t.Text_Handle_Move="text-handle-move",t})({})},331,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(_d[0]),o=e(r(_d[1])),n=e(r(_d[2])),l=e(r(_d[3])),s=e(r(_d[4])),d=e(r(_d[5])),c=e(r(_d[6])),u=e(r(_d[7])),f=e(r(_d[8]));r(_d[9]);var h=e(r(_d[10])),b=r(_d[11]),p=r(_d[12]),y=r(_d[13]),x=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[14])),C=r(_d[15]);function j({visible:e,nodes:s,onClose:j,onSelectNode:T}){const[k,v]=(0,t.useState)(''),[I,O]=(0,t.useState)(s),S=(0,y.useJournalStore)(e=>e.navigate);(0,t.useEffect)(()=>{if(k){const e=k.toLowerCase();O(s.filter(t=>t.label.toLowerCase().includes(e)))}else O(s)},[k,s]),(0,t.useEffect)(()=>{e&&v('')},[e]);return(0,C.jsx)(d.default,{visible:e,transparent:!0,animationType:"fade",children:(0,C.jsxs)(b.BlurView,{intensity:70,tint:"dark",style:w.container,children:[(0,C.jsx)(c.default,{style:w.dismissOverlay,activeOpacity:1,onPress:j}),(0,C.jsxs)(f.default,{behavior:'height',style:w.paletteContainer,children:[(0,C.jsxs)(o.default,{style:w.searchBarContainer,children:[(0,C.jsx)(n.default,{style:w.promptArrow,children:'>'}),(0,C.jsx)(l.default,{style:w.searchInput,placeholder:"Find or generate a thought...",placeholderTextColor:"#555",value:k,onChangeText:v,autoFocus:!0,returnKeyType:"go",keyboardAppearance:"dark"})]}),(0,C.jsx)(u.default,{data:I,keyExtractor:e=>e.id,renderItem:({item:e})=>(0,C.jsxs)(c.default,{style:w.resultItem,onPress:()=>{return t=e.id,T(t),void j();var t},children:[(0,C.jsx)(n.default,{style:w.resultTitle,children:e.label}),e.backlinks.length>0&&(0,C.jsx)(o.default,{style:w.badge,children:(0,C.jsxs)(n.default,{style:w.badgeText,children:[e.backlinks.length," links"]})})]}),keyboardShouldPersistTaps:"handled",ListEmptyComponent:k.trim()?(0,C.jsxs)(c.default,{style:w.createContainer,onPress:()=>{k.trim()&&(j(),S('Editor',{prefillTitle:k.trim()}))},children:[(0,C.jsx)(o.default,{style:w.createIconContainer,children:(0,C.jsx)(n.default,{style:w.createIcon,children:"+"})}),(0,C.jsxs)(n.default,{style:w.createText,children:["Create new thought: ",(0,C.jsxs)(n.default,{style:w.createHighlight,children:["'",k,"'"]})]})]}):null}),(0,C.jsx)(c.default,{style:w.resetBtn,onPress:()=>{x.notificationAsync(x.NotificationFeedbackType.Warning),h.default.alert("Reset Vault","This will permanently delete all thoughts and reset to the template. Are you sure?",[{text:"Cancel",style:"cancel"},{text:"Reset",style:"destructive",onPress:async()=>{await(0,p.resetVault)(),j()}}])},children:(0,C.jsx)(n.default,{style:w.resetBtnText,children:"Reset Vault"})})]})]})})}const w=s.default.create({container:{flex:1,justifyContent:'flex-start',alignItems:'center',paddingTop:80},dismissOverlay:Object.assign({},s.default.absoluteFillObject),paletteContainer:{width:'90%',maxHeight:'60%',backgroundColor:'rgba(10, 10, 15, 0.95)',borderRadius:16,borderWidth:1,borderColor:'#333',overflow:'hidden',shadowColor:'#00ffcc',shadowOffset:{width:0,height:10},shadowOpacity:.1,shadowRadius:20,elevation:10},searchBarContainer:{flexDirection:'row',alignItems:'center',paddingHorizontal:20,paddingVertical:18,borderBottomWidth:1,borderColor:'#222',backgroundColor:'rgba(5, 5, 8, 0.5)'},promptArrow:{color:'#00ffcc',fontSize:22,fontWeight:'bold',marginRight:10},searchInput:{flex:1,color:'#fff',fontSize:18},resultItem:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',padding:16,borderBottomWidth:1,borderColor:'rgba(255,255,255,0.05)'},resultTitle:{color:'#eee',fontSize:16},badge:{backgroundColor:'rgba(0, 255, 204, 0.1)',paddingHorizontal:8,paddingVertical:4,borderRadius:12,borderWidth:1,borderColor:'rgba(0, 255, 204, 0.3)'},badgeText:{color:'#00ffcc',fontSize:12,fontWeight:'600'},createContainer:{flexDirection:'row',padding:16,alignItems:'center',borderBottomWidth:1,borderColor:'rgba(0, 255, 204, 0.2)',backgroundColor:'rgba(0, 255, 204, 0.05)'},createIconContainer:{width:30,height:30,borderRadius:15,backgroundColor:'rgba(0, 255, 204, 0.2)',justifyContent:'center',alignItems:'center',marginRight:12},createIcon:{color:'#00ffcc',fontSize:20,fontWeight:'bold',marginTop:-3},createText:{color:'#eee',fontSize:16},createHighlight:{color:'#00ffcc',fontWeight:'bold'},resetBtn:{padding:16,alignItems:'center',borderTopWidth:1,borderColor:'#333',backgroundColor:'rgba(255, 50, 50, 0.05)'},resetBtnText:{color:'#ff4444',fontSize:14,fontWeight:'600',textTransform:'uppercase',letterSpacing:1}})},332,[36,142,174,333,44,335,202,340,366,97,367,368,194,182,329,208]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var n=e(r(_d[0])),o=t(r(_d[1])),l=e(r(_d[2])),u=t(r(_d[3])),d=t(r(_d[4])),c=t(r(_d[5])),s=t(r(_d[6])),p=t(r(_d[7])),h=t(r(_d[8])),v=r(_d[9]),f=t(r(_d[10])),S=t(r(_d[11])),R=(e,t)=>{var n=e.selectionEnd,o=e.selectionStart,l=t.start,u=t.end;return l!==o||u!==n},C=(e,t)=>{if(R(e,t)){var n=t.start,o=t.end;try{e.setSelectionRange(n,o||n)}catch(e){}}},y=Object.assign({},l.defaultProps,l.accessibilityProps,l.clickProps,l.focusProps,l.keyboardProps,l.mouseProps,l.touchProps,l.styleProps,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),b=e=>(0,u.default)(e,y);function x(e){return e.isComposing||229===e.keyCode}var k=null,E=n.forwardRef((e,t)=>{var l,u,f=e.autoCapitalize,R=void 0===f?'sentences':f,y=e.autoComplete,E=e.autoCompleteType,w=e.autoCorrect,O=void 0===w||w,P=e.blurOnSubmit,M=e.caretHidden,F=e.clearTextOnFocus,_=e.dir,j=e.editable,z=e.enterKeyHint,D=e.inputMode,H=e.keyboardType,K=e.multiline,L=void 0!==K&&K,N=e.numberOfLines,q=e.onBlur,A=e.onChange,B=e.onChangeText,G=e.onContentSizeChange,I=e.onFocus,W=e.onKeyPress,$=e.onLayout,V=e.onMoveShouldSetResponder,J=e.onMoveShouldSetResponderCapture,Q=e.onResponderEnd,U=e.onResponderGrant,X=e.onResponderMove,Y=e.onResponderReject,Z=e.onResponderRelease,ee=e.onResponderStart,te=e.onResponderTerminate,ne=e.onResponderTerminationRequest,re=e.onScrollShouldSetResponder,oe=e.onScrollShouldSetResponderCapture,ae=e.onSelectionChange,le=e.onSelectionChangeShouldSetResponder,ue=e.onSelectionChangeShouldSetResponderCapture,de=e.onStartShouldSetResponder,ie=e.onStartShouldSetResponderCapture,ce=e.onSubmitEditing,se=e.placeholderTextColor,pe=e.readOnly,he=void 0!==pe&&pe,ve=e.returnKeyType,fe=e.rows,Se=e.secureTextEntry,Re=void 0!==Se&&Se,ge=e.selection,Ce=e.selectTextOnFocus,ye=e.showSoftInputOnFocus,me=e.spellCheck;if(null!=D)u=D,l='email'===D?'email':'tel'===D?'tel':'search'===D?'search':'url'===D?'url':'text';else if(null!=H)switch(H){case'email-address':l='email';break;case'number-pad':case'numeric':u='numeric';break;case'decimal-pad':u='decimal';break;case'phone-pad':l='tel';break;case'search':case'web-search':l='search';break;case'url':l='url';break;default:l='text'}Re&&(l='password');var be=n.useRef({height:null,width:null}),xe=n.useRef(null),ke=n.useRef(null),Ee=n.useRef(!1);n.useEffect(()=>{xe.current&&ke.current&&C(xe.current,ke.current),Ee.current=Re},[Re]);var Te=n.useCallback(e=>{if(L&&G&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===be.current.height&&n===be.current.width||(be.current.height=t,be.current.width=n,G({nativeEvent:{contentSize:{height:be.current.height,width:be.current.width}}}))}},[L,G]),we=n.useMemo(()=>e=>{null!=e&&(e.clear=function(){null!=e&&(e.value='')},e.isFocused=function(){return null!=e&&S.default.currentlyFocusedField()===e},Te(e))},[Te]);(0,c.default)(()=>{var e=xe.current;null!=e&&null!=ge&&C(e,ge),document.activeElement===e&&(S.default._currentlyFocusedNode=e)},[xe,ge]);var Oe=L?'textarea':'input';(0,d.default)(xe,$),(0,h.default)(xe,{onMoveShouldSetResponder:V,onMoveShouldSetResponderCapture:J,onResponderEnd:Q,onResponderGrant:U,onResponderMove:X,onResponderReject:Y,onResponderRelease:Z,onResponderStart:ee,onResponderTerminate:te,onResponderTerminationRequest:ne,onScrollShouldSetResponder:re,onScrollShouldSetResponderCapture:oe,onSelectionChangeShouldSetResponder:le,onSelectionChangeShouldSetResponderCapture:ue,onStartShouldSetResponder:de,onStartShouldSetResponderCapture:ie});var Pe=(0,v.useLocaleContext)().direction,Me=b(e);Me.autoCapitalize=R,Me.autoComplete=y||E||'on',Me.autoCorrect=O?'on':'off',Me.dir=void 0!==_?_:'auto',Me.enterKeyHint=z||ve,Me.inputMode=u,Me.onBlur=function(e){S.default._currentlyFocusedNode=null,q&&(e.nativeEvent.text=e.target.value,q(e))},Me.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,Te(t),A&&A(e),B&&B(n)},Me.onFocus=function(e){var t=e.target;I&&(e.nativeEvent.text=t.value,I(e)),null!=t&&(S.default._currentlyFocusedNode=t,F&&(t.value=''),Ce&&(null!=k&&clearTimeout(k),k=setTimeout(()=>{null!=t&&document.activeElement===t&&t.select()},0)))},Me.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==P?!L:P,o=e.nativeEvent,l=x(o);W&&W(e),'Enter'!==e.key||e.shiftKey||l||e.isDefaultPrevented()||(!P&&L||!ce||(e.preventDefault(),o.text=e.target.value,ce(e)),n&&null!=t&&setTimeout(()=>t.blur(),0))},Me.onSelect=function(e){try{var t=e.target,n={start:t.selectionStart,end:t.selectionEnd};ae&&(e.nativeEvent.selection=n,e.nativeEvent.text=e.target.value,ae(e)),Ee.current===Re&&(ke.current=n)}catch(e){}},Me.readOnly=!0===he||!1===j,Me.rows=L?null!=fe?fe:N:1,Me.spellCheck=null!=me?me:O,Me.style=[{'--placeholderTextColor':se},T.textinput$raw,T.placeholder,e.style,M&&T.caretHidden],Me.type=L?void 0:l,Me.virtualkeyboardpolicy=!1===ye?'manual':'auto';var Fe=(0,p.default)(Me),je=(0,s.default)(xe,Fe,we,t);Me.ref=je;var ze=null!=e.lang?(0,v.getLocaleDirection)(e.lang):null,De=e.dir||ze||Pe;return(0,o.default)(Oe,Me,{writingDirection:De})});E.displayName='TextInput',E.State=S.default;var T=f.default.create({textinput$raw:{MozAppearance:'textfield',WebkitAppearance:'none',backgroundColor:'transparent',border:'0 solid black',borderRadius:0,boxSizing:'border-box',font:'14px System',margin:0,padding:0,resize:'none'},placeholder:{placeholderTextColor:'var(--placeholderTextColor)'},caretHidden:{caretColor:'transparent'}}),w=E},333,[36,143,151,152,153,154,160,162,164,149,44,334]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var e,u=r(d[0]),t=(e=u)&&e.__esModule?e:{default:e},l={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&t.default.focus(e))},blurTextInput(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&t.default.blur(e))}}},334,[155]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return _}});var t=e(r(_d[0])),n=e(r(_d[1])),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),o=e(r(_d[3])),l=e(r(_d[4])),s=e(r(_d[5])),f=e(r(_d[6])),c=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],d=0,v=[],p={};function b(){if(0!==v.length){var e=v[v.length-1];v.forEach(t=>{t in p&&p[t](t===e)})}}function h(e){e in p&&(p[e](!1),delete p[e]);var t=v.indexOf(e);-1!==t&&(v.splice(t,1),b())}function y(e,t){h(e),v.push(e),p[e]=t,b()}var _=u.forwardRef((e,v)=>{var p=e.animationType,b=e.children,_=e.onDismiss,E=e.onRequestClose,O=e.onShow,j=e.transparent,w=e.visible,C=void 0===w||w,D=(0,n.default)(e,c),M=u.useMemo(()=>d++,[]),P=u.useState(!1),R=P[0],S=P[1],k=u.useCallback(()=>{h(M),_&&_()},[M,_]),q=u.useCallback(()=>{y(M,S),O&&O()},[M,O]);return u.useEffect(()=>()=>h(M),[M]),u.createElement(o.default,null,u.createElement(l.default,{animationType:p,onDismiss:k,onShow:q,visible:C},u.createElement(f.default,{active:R},u.createElement(s.default,(0,t.default)({},D,{active:R,onRequestClose:E,ref:v,transparent:j}),b))))})},335,[29,45,36,336,337,338,339]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return d}});var e,t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=r(_d[1]),u=r(_d[2]),c=(e=u)&&e.__esModule?e:{default:e};var d=function(e){var u=e.children,d=t.useRef(null);if(c.default&&!d.current){var o=document.createElement('div');o&&document.body&&(document.body.appendChild(o),d.current=o)}return t.useEffect(()=>{if(c.default)return()=>{document.body&&d.current&&(document.body.removeChild(d.current),d.current=null)}},[]),d.current&&c.default?(0,n.createPortal)(u,d.current):null}},336,[36,38,41]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return y}});var n=(function(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n})(r(_d[0])),t=e(r(_d[1])),o=e(r(_d[2]));function u(e,n){return'slide'===e?n?s:f:'fade'===e?n?d:l:n?c.container:c.hidden}var c=t.default.create({container:{position:'fixed',top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:"250ms",animationTimingFunction:'cubic-bezier(0.215, 0.61, 0.355, 1)'},animatedOut:{pointerEvents:'none',animationDuration:"250ms",animationTimingFunction:'cubic-bezier(0.47, 0, 0.745, 0.715)'},fadeIn:{opacity:1,animationKeyframes:{'0%':{opacity:0},'100%':{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{'0%':{opacity:1},'100%':{opacity:0}}},slideIn:{transform:'translateY(0%)',animationKeyframes:{'0%':{transform:'translateY(100%)'},'100%':{transform:'translateY(0%)'}}},slideOut:{transform:'translateY(100%)',animationKeyframes:{'0%':{transform:'translateY(0%)'},'100%':{transform:'translateY(100%)'}}},hidden:{opacity:0}}),s=[c.container,c.animatedIn,c.slideIn],f=[c.container,c.animatedOut,c.slideOut],d=[c.container,c.animatedIn,c.fadeIn],l=[c.container,c.animatedOut,c.fadeOut],y=function(e){var t=e.animationType,s=e.children,f=e.onDismiss,d=e.onShow,l=e.visible,y=n.useState(!1),p=y[0],b=y[1],O=n.useRef(!1),v=n.useRef(!1),h=t&&'none'!==t,I=n.useCallback(e=>{e&&e.currentTarget!==e.target||(l?d&&d():b(!1))},[d,l]);return n.useEffect(()=>{v.current&&!p&&f&&f(),v.current=p},[p,f]),n.useEffect(()=>{l&&b(!0),l===O.current||h||I(),O.current=l},[h,l,I]),p||l?(0,o.default)('div',{style:p?u(t,l):c.hidden,onAnimationEnd:I,children:s}):null}},337,[36,44,143]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=e(r(_d[0])),n=e(r(_d[1])),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),u=e(r(_d[3])),l=e(r(_d[4])),d=e(r(_d[5])),c=["active","children","onRequestClose","transparent"],f=o.forwardRef((e,l)=>{var f=e.active,p=e.children,v=e.onRequestClose,b=e.transparent,y=(0,n.default)(e,c);o.useEffect(()=>{if(d.default){var e=e=>{f&&'Escape'===e.key&&(e.stopPropagation(),v&&v())};return document.addEventListener('keyup',e,!1),()=>document.removeEventListener('keyup',e,!1)}},[f,v]);var O=o.useMemo(()=>[s.modal,b?s.modalTransparent:s.modalOpaque],[b]);return o.createElement(u.default,(0,t.default)({},y,{"aria-modal":!0,ref:l,role:f?'dialog':null,style:O}),o.createElement(u.default,{style:s.container},p))}),s=l.default.create({modal:{position:'fixed',top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:'transparent'},modalOpaque:{backgroundColor:'white'},container:{top:0,flex:1}}),p=f},338,[29,45,36,142,44,41]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return v}});var t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=e(r(_d[1])),u=e(r(_d[2])),c=e(r(_d[3])),o=e(r(_d[4])),l=e(r(_d[5])),f=()=>(0,u.default)('div',{role:'none',tabIndex:0,style:E.focusBracket});function s(e){if(!l.default)return!1;try{e.focus()}catch(e){}return document.activeElement===e}function d(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(s(n)||d(n))return!0}return!1}function i(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(s(n)||i(n))return!0}return!1}var v=e=>{var u=e.active,c=e.children,s=t.useRef(),v=t.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return t.useEffect(()=>{if(l.default){var e=()=>{if(null!=s.current&&!v.current.trapFocusInProgress&&u){try{if(v.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!s.current.contains(document.activeElement)){var e=d(s.current);v.current.lastFocusedElement===document.activeElement&&(e=i(s.current)),!e&&null!=s.current&&document.activeElement&&o.default.focus(s.current)}}finally{v.current.trapFocusInProgress=!1}v.current.lastFocusedElement=document.activeElement}};return e(),document.addEventListener('focus',e,!0),()=>document.removeEventListener('focus',e,!0)}},[u]),t.useEffect(function(){if(l.default){var e=document.activeElement;return function(){e&&document.contains(e)&&o.default.focus(e)}}},[]),t.createElement(t.Fragment,null,t.createElement(f,null),t.createElement(n.default,{ref:s},c),t.createElement(f,null))},E=c.default.create({focusBracket:{outlineStyle:'none'}})},339,[36,142,143,44,155,41]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),u=((e=t)&&e.__esModule?e:{default:e}).default},340,[341]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return w}});var t=e(r(_d[0])),s=e(r(_d[1])),n=e(r(_d[2])),l=e(r(_d[3])),o=e(r(_d[4])),u=e(r(_d[5]));r(_d[6]);var h=e(r(_d[7])),p=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t})(r(_d[8])),f=e(r(_d[9])),d=r(_d[10]),c=e(r(_d[11])),C=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function b(e){return null!=e?e:1}function v(e){return'number'==typeof Object(e).length}class _ extends p.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=e=>{this._listRef=e},this._getItem=(e,t)=>{var s=b(this.props.numColumns);if(s>1){for(var n=[],l=0;l<s;l++){var o=t*s+l;if(o<e.length){var u=e[o];n.push(u)}}return n}return e[t]},this._getItemCount=e=>{if(null!=e&&v(e)){var t=b(this.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},this._keyExtractor=(e,t)=>{var s,n=b(this.props.numColumns),l=null!==(s=this.props.keyExtractor)&&void 0!==s?s:d.keyExtractor;return n>1?((0,h.default)(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",n),e.map((e,s)=>l(e,t*n+s)).join(':')):l(e,t)},this._renderer=(e,t,s,n,o)=>{var u=b(n),f=s=>e?p.createElement(e,s):t?t(s):null,d=e=>{if(u>1){var t=e.item,n=e.index;return(0,h.default)(Array.isArray(t),'Expected array of items with numColumns > 1'),p.createElement(l.default,{style:[y.row,s]},t.map((t,s)=>{var l=f({item:t,index:n*u+s,separators:e.separators});return null!=l?p.createElement(p.Fragment,{key:s},l):null}))}return f(e)};return e?{ListItemComponent:d}:{renderItem:d}},this._memoizedRenderer=(0,c.default)(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(e=>({viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(e.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){(0,h.default)(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),(0,h.default)(e.onViewableItemsChanged===this.props.onViewableItemsChanged,'Changing onViewableItemsChanged on the fly is not supported'),(0,h.default)(!(0,u.default)(e.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),(0,h.default)(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}_checkProps(e){var t=e.getItem,s=e.getItemCount,n=e.horizontal,l=e.columnWrapperStyle,o=e.onViewableItemsChanged,u=e.viewabilityConfigCallbackPairs,p=b(this.props.numColumns);(0,h.default)(!t&&!s,'FlatList does not support custom data formats.'),p>1?(0,h.default)(!n,'numColumns does not support horizontal.'):(0,h.default)(!l,'columnWrapperStyle not supported for single column lists'),(0,h.default)(!(o&&u),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,t){var s,l=b(this.props.numColumns),o=null!==(s=this.props.keyExtractor)&&void 0!==s?s:d.keyExtractor;t.item.forEach((s,u)=>{(0,h.default)(null!=t.index,'Missing index!');var p=t.index*l+u;e.push((0,n.default)((0,n.default)({},t),{},{item:s,key:o(s,p),index:p}))})}_createOnViewableItemsChanged(e){return t=>{var s=b(this.props.numColumns);if(e)if(s>1){var n=[],l=[];t.viewableItems.forEach(e=>this._pushMultiColumnViewable(l,e)),t.changed.forEach(e=>this._pushMultiColumnViewable(n,e)),e({viewableItems:l,changed:n})}else e(t)}}render(){var e,n=this.props,l=n.numColumns,o=n.columnWrapperStyle,u=n.removeClippedSubviews,h=n.strictMode,d=void 0!==h&&h,c=(0,s.default)(n,C),b=d?this._memoizedRenderer:this._renderer;return p.createElement(f.default,(0,t.default)({},c,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=u,null!=e&&e)},b(this.props.ListItemComponent,this.props.renderItem,o,l,this.props.extraData)))}}var y=o.default.create({row:{flexDirection:'row'}}),w=_},341,[29,45,21,142,44,342,97,26,36,343,363,365]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=function t(n,f,u){if(void 0===u&&(u=-1),0===u)return!0;if(n===f)return!1;if('function'==typeof n&&'function'==typeof f)return!1;if('object'!=typeof n||null===n)return n!==f;if('object'!=typeof f||null===f)return!0;if(n.constructor!==f.constructor)return!0;if(Array.isArray(n)){var o=n.length;if(f.length!==o)return!0;for(var c=0;c<o;c++)if(t(n[c],f[c],u-1))return!0}else{for(var l in n)if(t(n[l],f[l],u-1))return!0;for(var v in f)if(void 0===n[v]&&void 0!==f[v])return!0}return!1}},342,[]);
__d(function(g,_r,_i3,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return A}});var t=e(_r(_d[0])),s=e(_r(_d[1])),r=e(_r(_d[2])),i=e(_r(_d[3])),o=e(_r(_d[4])),l=e(_r(_d[5])),n=e(_r(_d[6])),h=e(_r(_d[7])),d=e(_r(_d[8])),c=e(_r(_d[9])),u=_r(_d[10]),p=e(_r(_d[11])),f=e(_r(_d[12])),_=e(_r(_d[13])),v=e(_r(_d[14])),y=e(_r(_d[15])),C=_r(_d[16]),L=_r(_d[17]),b=e(_r(_d[18])),S=e(_r(_d[19])),M=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t})(_r(_d[20])),I=!1,R='';function w(e){return null!=e&&e}function x(e){return null!=e?e:10}function E(e){return null!=e?e:2}function T(e){return null!=e?e:2}function F(e,t){return e*t/2}function V(e){return null!=e?e:21}function k(e,t){for(var s=e.length-1;s>=0;s--)if(t(e[s]))return e[s];return null}class O extends _.default{scrollToEnd(e){var t=!e||e.animated,s=this.props.getItemCount(this.props.data)-1;if(!(s<0)){var r=this.__getFrameMetricsApprox(s,this.props),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(w(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}}scrollToIndex(e){var t=this.props,s=t.data,r=t.horizontal,i=t.getItemCount,o=t.getItemLayout,l=t.onScrollToIndexFailed,n=e.animated,h=e.index,d=e.viewOffset,c=e.viewPosition;if((0,b.default)(h>=0,"scrollToIndex out of range: requested index "+h+" but minimum is 0"),(0,b.default)(i(s)>=1,"scrollToIndex out of range: item length "+i(s)+" but minimum is 1"),(0,b.default)(h<i(s),"scrollToIndex out of range: requested index "+h+" is out of 0 to "+(i(s)-1)),!o&&h>this._highestMeasuredFrameIndex)return(0,b.default)(!!l,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void l({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:h});var u=this.__getFrameMetricsApprox(Math.floor(h),this.props),p=Math.max(0,this._getOffsetApprox(h,this.props)-(c||0)*(this._scrollMetrics.visibleLength-u.length))-(d||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:p,animated:n}:{y:p,animated:n}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}scrollToItem(e){for(var t=e.item,s=this.props,i=s.data,o=s.getItem,l=(0,s.getItemCount)(i),n=0;n<l;n++)if(o(i,n)===t){this.scrollToIndex((0,r.default)((0,r.default)({},e),{},{index:n}));break}}scrollToOffset(e){var t=e.animated,s=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(w(this.props.horizontal)?{x:s,animated:t}:{y:s,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return(null==(e=this.context)?void 0:e.cellKey)||'rootList'}hasMore(){return this._hasMore}constructor(e){var t;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=e=>{this._nestedChildLists.add(e.ref,e.cellKey),this._hasInteracted&&e.ref.recordInteraction()},this._unregisterAsNestedChild=e=>{this._nestedChildLists.remove(e.ref)},this._onUpdateSeparators=(e,t)=>{e.forEach(e=>{var s=null!=e&&this._cellRefs[e];s&&s.updateSeparatorProps(t)})},this._getSpacerKey=e=>e?'height':'width',this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new p.default,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=e=>{this._scrollRef=e},this._defaultRenderScrollComponent=e=>{var t,r=e.onRefresh;return this._isNestedWithSameOrientation()?M.createElement(l.default,e):r?((0,b.default)('boolean'==typeof e.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:'undefined')+'`'),M.createElement(o.default,(0,s.default)({},e,{refreshControl:null==e.refreshControl?M.createElement(i.default,{refreshing:e.refreshing,onRefresh:r,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):M.createElement(o.default,e)},this._onCellLayout=(e,t,s)=>{var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:s,inLayout:!0},o=this._frames[t];o&&i.offset===o.offset&&i.length===o.length&&s===o.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(o?o.length:0),this._totalCellsMeasured+=o?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,s),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(t),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=e=>{delete this._cellRefs[e];var t=this._frames[e];t&&(this._frames[e]=(0,r.default)((0,r.default)({},t),{},{inLayout:!1}))},this._onLayout=e=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(e.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(e),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=e=>{this.props.onLayout&&this.props.onLayout(e)},this._onLayoutFooter=e=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(e.nativeEvent.layout)},this._onLayoutHeader=e=>{this._headerLength=this._selectLength(e.nativeEvent.layout)},this._onContentSizeChange=(e,t)=>{e>0&&t>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:(0,S.default)(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(e,t),this._scrollMetrics.contentLength=this._selectLength({height:t,width:e}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=e=>{var t=e.offset-this._offsetFromParentVirtualizedList,s=e.visibleLength,r=t-this._scrollMetrics.offset;return{visibleLength:s,contentLength:this._scrollMetrics.contentLength,offset:t,dOffset:r}},this._onScroll=e=>{this._nestedChildLists.forEach(t=>{t._onScroll(e)}),this.props.onScroll&&this.props.onScroll(e);var t=e.timeStamp,s=this._selectLength(e.nativeEvent.layoutMeasurement),r=this._selectLength(e.nativeEvent.contentSize),i=this._selectOffset(e.nativeEvent.contentOffset),o=i-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(0===this._scrollMetrics.contentLength)return;var l=this._convertParentScrollMetrics({visibleLength:s,offset:i});s=l.visibleLength,r=l.contentLength,i=l.offset,o=l.dOffset}var n=this._scrollMetrics.timestamp?Math.max(1,t-this._scrollMetrics.timestamp):1,h=o/n;n>500&&this._scrollMetrics.dt>500&&r>5*s&&!this._hasWarned.perf&&((0,c.default)("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:n,prevDt:this._scrollMetrics.dt,contentLength:r}),this._hasWarned.perf=!0);var d=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;this._scrollMetrics={contentLength:r,dt:n,dOffset:o,offset:i,timestamp:t,velocity:h,visibleLength:s,zoomScale:d},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),0!==h&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=e=>{this._nestedChildLists.forEach(t=>{t._onScrollBeginDrag(e)}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this._onScrollEndDrag=e=>{this._nestedChildLists.forEach(t=>{t._onScrollEndDrag(e)});var t=e.nativeEvent.velocity;t&&(this._scrollMetrics.velocity=this._selectOffset(t)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this._onMomentumScrollBegin=e=>{this._nestedChildLists.forEach(t=>{t._onMomentumScrollBegin(e)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this._onMomentumScrollEnd=e=>{this._nestedChildLists.forEach(t=>{t._onMomentumScrollEnd(e)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((e,t)=>{var s=this._adjustCellsAroundViewport(t,e.cellsAroundViewport),r=O._createRenderMask(t,s,this._getNonViewportRenderRegions(t));return s.first===e.cellsAroundViewport.first&&s.last===e.cellsAroundViewport.last&&r.equals(e.renderMask)?null:{cellsAroundViewport:s,renderMask:r}})},this._createViewToken=(e,t,s)=>{var r=s.data,i=(0,s.getItem)(r,e);return{index:e,item:i,key:this._keyExtractor(i,e,s),isViewable:t}},this._getOffsetApprox=(e,t)=>{if(Number.isInteger(e))return this.__getFrameMetricsApprox(e,t).offset;var s=this.__getFrameMetricsApprox(Math.floor(e),t),r=e-Math.floor(e);return s.offset+r*s.length},this.__getFrameMetricsApprox=(e,t)=>{var s=this._getFrameMetrics(e,t);if(s&&s.index===e)return s;var r=t.data,i=t.getItemCount,o=t.getItemLayout;return(0,b.default)(e>=0&&e<i(r),'Tried to get frame for out of range index '+e),(0,b.default)(!o,'Should not have to estimate frames when a measurement metrics function is provided'),{length:this._averageCellLength,offset:this._averageCellLength*e}},this._getFrameMetrics=(e,t)=>{var s=t.data,r=t.getItem,i=t.getItemCount,o=t.getItemLayout;(0,b.default)(e>=0&&e<i(s),'Tried to get frame for out of range index '+e);var l=r(s,e),n=this._frames[this._keyExtractor(l,e,t)];return n&&n.index===e||!o?n:o(s,e)},this._getNonViewportRenderRegions=e=>{if(!this._lastFocusedCellKey||!this._cellRefs[this._lastFocusedCellKey])return[];var t=this._cellRefs[this._lastFocusedCellKey].props.index,s=e.getItemCount(e.data);if(t>=s||this._keyExtractor(e.getItem(e.data,t),t,e)!==this._lastFocusedCellKey)return[];for(var r=t,i=0,o=r-1;o>=0&&i<this._scrollMetrics.visibleLength;o--)r--,i+=this.__getFrameMetricsApprox(o,e).length;for(var l=t,n=0,h=l+1;h<s&&n<this._scrollMetrics.visibleLength;h++)l++,n+=this.__getFrameMetricsApprox(h,e).length;return[{first:r,last:l}]},this._checkProps(e),this._fillRateHelper=new f.default(this._getFrameMetrics),this._updateCellsToRenderBatcher=new h.default(this._updateCellsToRender,null!==(t=this.props.updateCellsBatchingPeriod)&&void 0!==t?t:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(e=>({viewabilityHelper:new v.default(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}));else{var n=this.props,d=n.onViewableItemsChanged,u=n.viewabilityConfig;d&&this._viewabilityTuples.push({viewabilityHelper:new v.default(u),onViewableItemsChanged:d})}var _=O._initialRenderRegion(e);this.state={cellsAroundViewport:_,renderMask:O._createRenderMask(e,_)},this.invertedWheelEventHandler=e=>{var t=this.props.horizontal?e.target.scrollLeft:e.target.scrollTop,s=this.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,r=this.props.horizontal?e.target.clientWidth:e.target.clientHeight,i=s>r,o=this.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,l=o;i&&(l=o<0?Math.min(o+t,0):Math.max(o-(s-r-t),0));var n=o-l;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var h=this._scrollRef.getScrollableNode();if(this.props.horizontal){e.target.scrollLeft+=n;var d=h.scrollLeft-l;h.scrollLeft=this.props.getItemLayout?d:Math.min(d,this._totalCellLength)}else{e.target.scrollTop+=n;var c=h.scrollTop-l;h.scrollTop=this.props.getItemLayout?c:Math.min(c,this._totalCellLength)}e.preventDefault()}}}_checkProps(e){var t=e.onScroll,s=e.windowSize,r=e.getItemCount,i=e.data,o=e.initialScrollIndex;(0,b.default)(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),(0,b.default)(V(s)>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),(0,b.default)(r,'VirtualizedList: The "getItemCount" prop must be provided');var l=r(i);null==o||this._hasTriggeredInitialScrollToIndex||!(o<0||l>0&&o>=l)||this._hasWarned.initialScrollIndex||(console.warn("initialScrollIndex \""+o+"\" is not valid (list has "+l+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,t,s){var r=e.getItemCount(e.data);(0,b.default)(t.first>=0&&t.last>=t.first-1&&t.last<r,"Invalid cells around viewport \"["+t.first+", "+t.last+"]\" was passed to VirtualizedList._createRenderMask");var i=new u.CellRenderMask(r);if(r>0){for(var o=0,l=[t,...null!=s?s:[]];o<l.length;o++){var n=l[o];i.addCells(n)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var h=O._initialRenderRegion(e);i.addCells(h)}var d=new Set(e.stickyHeaderIndices);O._ensureClosestStickyHeader(e,d,i,t.first)}return i}static _initialRenderRegion(e){var t,s,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:i,last:Math.min(r,i+(null!=(s=e.initialNumToRender)?s:10))-1}}static _ensureClosestStickyHeader(e,t,s,r){for(var i=e.ListHeaderComponent?1:0,o=r-1;o>=0;o--)if(t.has(o+i)){s.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,t){var s,r=e.data,i=e.getItemCount,o=T(e.onEndReachedThreshold),l=this._scrollMetrics,n=l.contentLength,h=l.offset,d=l.visibleLength,c=n-d-h;if(d<=0||n<=0)return t.last>=i(r)?O._constrainToItemCount(t,e):t;if(e.disableVirtualization){var u=c<o*d?x(e.maxToRenderPerBatch):0;s={first:0,last:Math.min(t.last+u,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(c)>=Number.EPSILON)return t.last>=i(r)?O._constrainToItemCount(t,e):t;s=(0,L.computeWindowedRenderLimits)(e,x(e.maxToRenderPerBatch),V(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),(0,b.default)(s.last<i(r),'computeWindowedRenderLimits() should return range in-bounds')}if(this._nestedChildLists.size()>0){var p=this._findFirstChildWithMore(s.first,s.last);s.last=null!=p?p:s.last}return s}_findFirstChildWithMore(e,t){for(var s=e;s<=t;s++){var r=this._indicesToKeys.get(s);if(null!=r&&this._nestedChildLists.anyInCell(r,e=>e.hasMore()))return s}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener('wheel',this.invertedWheelEventHandler):setTimeout(()=>this.setupWebWheelHandler(),50)}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener('wheel',this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var s=O._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:s,renderMask:O._createRenderMask(e,s)}}_pushCells(e,t,r,i,o,l){var n,h=this,d=this.props,c=d.CellRendererComponent,u=d.ItemSeparatorComponent,p=d.ListHeaderComponent,f=d.ListItemComponent,_=d.data,v=d.debug,C=d.getItem,L=d.getItemCount,b=d.getItemLayout,S=d.horizontal,I=d.renderItem,R=p?1:0,w=L(_)-1;o=Math.min(w,o);for(var x=function(){var i=C(_,E),o=h._keyExtractor(i,E,h.props);h._indicesToKeys.set(E,o),r.has(E+R)&&t.push(e.length);var d=null==b||v||h._fillRateHelper.enabled();e.push(M.createElement(y.default,(0,s.default)({CellRendererComponent:c,ItemSeparatorComponent:E<w?u:void 0,ListItemComponent:f,cellKey:o,horizontal:S,index:E,inversionStyle:l,item:i,key:o,prevCellKey:n,onUpdateSeparators:h._onUpdateSeparators,onCellFocusCapture:e=>h._onCellFocusCapture(o),onUnmount:h._onCellUnmount,ref:e=>{h._cellRefs[o]=e},renderItem:I},d&&{onCellLayout:h._onCellLayout}))),n=o},E=i;E<=o;E++)x()}static _constrainToItemCount(e,t){var s=t.getItemCount(t.data),r=Math.min(s-1,e.last),i=x(t.maxToRenderPerBatch);return{first:(0,d.default)(0,s-1-i,e.first),last:r}}_isNestedWithSameOrientation(){var e=this.context;return!(!e||!!e.horizontal!==w(this.props.horizontal))}_keyExtractor(e,t,s){if(null!=s.keyExtractor)return s.keyExtractor(e,t);var r=(0,L.keyExtractor)(e,t);return r===String(t)&&(I=!0,e.type&&e.type.displayName&&(R=e.type.displayName)),r}render(){this._checkProps(this.props);var e=this.props,s=e.ListEmptyComponent,i=e.ListFooterComponent,o=e.ListHeaderComponent,n=this.props,h=n.data,c=n.horizontal,u=this.props.inverted?w(this.props.horizontal)?z.horizontallyInverted:z.verticallyInverted:null,p=[],f=new Set(this.props.stickyHeaderIndices),_=[];if(o){f.has(0)&&_.push(0);var v=M.isValidElement(o)?o:M.createElement(o,null);p.push(M.createElement(C.VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-header',key:"$header"},M.createElement(l.default,{onLayout:this._onLayoutHeader,style:[u,this.props.ListHeaderComponentStyle]},v)))}var y=this.props.getItemCount(h);if(0===y&&s){var L=M.isValidElement(s)?s:M.createElement(s,null);p.push(M.createElement(C.VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-empty',key:"$empty"},M.cloneElement(L,{onLayout:e=>{this._onLayoutEmpty(e),L.props.onLayout&&L.props.onLayout(e)},style:[u,L.props.style]})))}if(y>0){I=!1,R='';for(var b,S=this._getSpacerKey(!c),x=this.state.renderMask.enumerateRegions(),E=k(x,e=>e.isSpacer),T=(0,t.default)(x);!(b=T()).done;){var F=b.value;if(F.isSpacer){if(this.props.disableVirtualization)continue;var V=F===E&&!this.props.getItemLayout?(0,d.default)(F.first-1,F.last,this._highestMeasuredFrameIndex):F.last,O=this.__getFrameMetricsApprox(F.first,this.props),A=this.__getFrameMetricsApprox(V,this.props),P=A.offset+A.length-O.offset;p.push(M.createElement(l.default,{key:"$spacer-"+F.first,style:{[S]:P}}))}else this._pushCells(p,_,f,F.first,F.last,u)}!this._hasWarned.keys&&I&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",R),this._hasWarned.keys=!0)}if(i){var N=M.isValidElement(i)?i:M.createElement(i,null);p.push(M.createElement(C.VirtualizedListCellContextProvider,{cellKey:this._getFooterCellKey(),key:"$footer"},M.createElement(l.default,{onLayout:this._onLayoutFooter,style:[u,this.props.ListFooterComponentStyle]},N)))}var W,H=(0,r.default)((0,r.default)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(W=this.props.scrollEventThrottle,null!=W?W:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:_,style:u?[u,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<y-1;var B=M.createElement(C.VirtualizedListContextProvider,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:w(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},M.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(H),{ref:this._captureScrollRef},p));return this.props.debug?M.createElement(l.default,{style:z.debug},B,this._renderDebugOverlay()):B}componentDidUpdate(e){var t=this.props,s=t.data,r=t.extraData;s===e.data&&r===e.extraData||this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.resetViewableIndices()});var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,e=>{e.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,t,s,r)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:t}),this._scrollMetrics.contentLength=this._selectLength({width:s,height:r});var i=this._convertParentScrollMetrics(this.context.getScrollMetrics());(this._scrollMetrics.visibleLength!==i.visibleLength||this._scrollMetrics.offset!==i.offset)&&(this._scrollMetrics.visibleLength=i.visibleLength,this._scrollMetrics.offset=i.offset,this._nestedChildLists.forEach(e=>{e.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn('measureLayoutRelativeToContainingList threw an error',e.stack)}}_getFooterCellKey(){return this._getCellKey()+'-footer'}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],s=this.props.getItemCount(this.props.data),r=0;r<s;r++){var i=this.__getFrameMetricsApprox(r,this.props);i.inLayout&&t.push(i)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,n=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),h=n.offset+n.length-o,d=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return M.createElement(l.default,{style:[z.debugOverlayBase,z.debugOverlay]},t.map((t,s)=>M.createElement(l.default,{key:'f'+s,style:[z.debugOverlayBase,z.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})),M.createElement(l.default,{style:[z.debugOverlayBase,z.debugOverlayFrameLast,{top:o*e,height:h*e}]}),M.createElement(l.default,{style:[z.debugOverlayBase,z.debugOverlayFrameVis,{top:d*e,height:c*e}]}))}_selectLength(e){return w(this.props.horizontal)?e.width:e.height}_selectOffset(e){return w(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,t=e.data,s=e.getItemCount,r=e.onStartReached,i=e.onStartReachedThreshold,o=e.onEndReached,l=e.onEndReachedThreshold,n=e.initialScrollIndex,h=this._scrollMetrics,d=h.contentLength,c=h.visibleLength,u=h.offset,p=u,f=d-c-u;p<.001&&(p=0),f<.001&&(f=0);var _=p<=(null!=i?i*c:2),v=f<=(null!=l?l*c:2);o&&this.state.cellsAroundViewport.last===s(t)-1&&v&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:f})):null!=r&&0===this.state.cellsAroundViewport.first&&_&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?n&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:p})):(this._sentStartForContentLength=_?this._sentStartForContentLength:0,this._sentEndForContentLength=v?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,t=e.first,s=e.last,r=this._scrollMetrics,i=r.offset,o=r.visibleLength,l=r.velocity,n=this.props.getItemCount(this.props.data),h=!1,d=E(this.props.onStartReachedThreshold),c=T(this.props.onEndReachedThreshold);if(t>0){var u=i-this.__getFrameMetricsApprox(t,this.props).offset;h=u<0||l<-2&&u<F(d,o)}if(!h&&s>=0&&s<n-1){var p=this.__getFrameMetricsApprox(s,this.props).offset-(i+o);h=p<0||l>2&&p<F(c,o)}if(h&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,t){this._viewabilityTuples.forEach(s=>{s.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,s.onViewableItemsChanged,t)})}}O.contextType=C.VirtualizedListContext;var z=n.default.create({verticallyInverted:{transform:'scaleY(-1)'},horizontallyInverted:{transform:'scaleX(-1)'},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}}),A=O},343,[344,29,21,347,348,142,44,353,354,355,356,357,358,359,360,361,362,363,26,364,36]);
__d(function(g,_r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(0,r.default)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},344,[345]);
__d(function(g,_r,i,_a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var e,t=_r(d[0]),r=(e=t)&&e.__esModule?e:{default:e};function n(e,t){if(e){if("string"==typeof e)return(0,r.default)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}},345,[346]);
__d(function(g,_r,i,_a,m,_e,d){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return e}})},346,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var t=e(r(d[0])),o=e(r(d[1])),n=e(r(d[2])),l=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];var s=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var s=(0,t.default)(e,l);return n.default.createElement(o.default,s)}},347,[45,142,36]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return C}});var o=e(r(d[0])),l=e(r(d[1])),n=e(r(d[2])),t=e(r(d[3])),s=e(r(d[4])),i=e(r(d[5])),c=e(r(d[6]));r(d[7]);var h=e(r(d[8])),p=e(r(d[9])),u=e(r(d[10])),S=e(r(d[11])),R=e(r(d[12])),f=e(r(d[13])),y=e(r(d[14])),T=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],b={};class v extends f.default.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var o=e.nativeEvent;this.isTouching=0!==o.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var o=u.default.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==o||e.target===o||this.observedScrollSinceBecomingResponder||this.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),u.default.blurTextInput(o))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>Date.now()-this.lastMomentumScrollEndTime<16||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime,this.scrollResponderScrollTo=(e,o,l)=>{if('number'==typeof e)console.warn('`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.');else{var n=e||b;e=n.x,o=n.y,l=n.animated}var t=this.getScrollableNode(),s=e||0,i=o||0;null!=t&&('function'==typeof t.scroll?t.scroll({top:i,left:s,behavior:l?'smooth':'auto'}):(t.scrollLeft=s,t.scrollTop=i))},this.scrollResponderZoomTo=(e,o)=>{(0,i.default)('zoomToRect is not implemented')},this.scrollResponderScrollNativeHandleToKeyboard=(e,o,l)=>{this.additionalScrollOffset=o||0,this.preventNegativeScrollOffset=!!l,S.default.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,o,l,n)=>{var s=t.default.get('window').height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var i=o-s+n+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(i=Math.max(0,i)),this.scrollResponderScrollTo({x:0,y:i,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,o,l)=>{if('number'==typeof e)console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.');else{var n=e||b;o=n.x,e=n.y,l=n.animated}this.scrollResponderScrollTo({x:o||0,y:e||0,animated:!1!==l})},this.scrollToEnd=e=>{var o=!1!==(e&&e.animated),l=this.props.horizontal,n=this.getScrollableNode(),t=l?n.scrollWidth:0,s=l?0:n.scrollHeight;this.scrollResponderScrollTo({x:t,y:s,animated:o})},this._handleContentOnLayout=e=>{var o=e.nativeEvent.layout,l=o.width,n=o.height;this.props.onContentSizeChange(l,n)},this._handleScroll=e=>{'on-drag'===this.props.keyboardDismissMode&&(0,s.default)(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,null!=e&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),(0,c.default)(this.props.forwardedRef)(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){(0,y.default)(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error('Error measuring text field: ',e)}render(){var e=this.props,t=e.contentContainerStyle,s=e.horizontal,c=e.onContentSizeChange,p=e.refreshControl,u=e.stickyHeaderIndices,S=e.pagingEnabled,y=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),b=(0,n.default)(e,T),v={};c&&(v={onLayout:this._handleContentOnLayout});var H=!s&&Array.isArray(u),E=H||S?f.default.Children.map(this.props.children,(e,o)=>{var l=H&&u.indexOf(o)>-1;return null!=e&&(l||S)?f.default.createElement(R.default,{style:[l&&w.stickyHeader,S&&w.pagingEnabledChild]},e):e}):this.props.children,C=f.default.createElement(R.default,(0,l.default)({},v,{children:E,collapsable:!1,ref:this._setInnerViewRef,style:[s&&w.contentContainerHorizontal,y&&w.contentContainerCenterContent,t]})),M=s?w.baseHorizontal:w.baseVertical,D=s?w.pagingEnabledHorizontal:w.pagingEnabledVertical,I=(0,o.default)((0,o.default)({},b),{},{style:[M,S&&D,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),N=h.default;(0,i.default)(void 0!==N,'ScrollViewClass must not be undefined');var x=f.default.createElement(N,(0,l.default)({},I,{ref:this._setScrollNodeRef}),C);return p?f.default.cloneElement(p,{style:I.style},x):x}}var H={flexGrow:1,flexShrink:1,transform:'translateZ(0)',WebkitOverflowScrolling:'touch'},w=p.default.create({baseVertical:(0,o.default)((0,o.default)({},H),{},{flexDirection:'column',overflowX:'hidden',overflowY:'auto'}),baseHorizontal:(0,o.default)((0,o.default)({},H),{},{flexDirection:'row',overflowX:'auto',overflowY:'hidden'}),contentContainerHorizontal:{flexDirection:'row'},contentContainerCenterContent:{justifyContent:'center',flexGrow:1},stickyHeader:{position:'sticky',top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:'x mandatory'},pagingEnabledVertical:{scrollSnapType:'y mandatory'},pagingEnabledChild:{scrollSnapAlign:'start'}}),E=f.default.forwardRef((e,o)=>f.default.createElement(v,(0,l.default)({},e,{forwardedRef:o})));E.displayName='ScrollView';var C=E},348,[21,29,45,177,349,26,161,97,350,44,334,155,142,36,351]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return l}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e},l=()=>{u.default.blurTextInput(u.default.currentlyFocusedField())}},349,[334]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return v}});var t=e(r(_d[0])),o=e(r(_d[1])),n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[2])),l=e(r(_d[3])),c=e(r(_d[4])),u=e(r(_d[5])),s=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function f(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var d=n.forwardRef((e,l)=>{var d=e.onScroll,v=e.onTouchMove,S=e.onWheel,b=e.scrollEnabled,w=void 0===b||b,T=e.scrollEventThrottle,p=void 0===T?0:T,y=e.showsHorizontalScrollIndicator,_=e.showsVerticalScrollIndicator,E=e.style,M=(0,o.default)(e,s),O=n.useRef({isScrolling:!1,scrollLastTick:0}),D=n.useRef(null),W=n.useRef(null);function j(e){return t=>{w&&e&&e(t)}}function P(e){O.current.isScrolling=!0,k(e)}function k(e){O.current.scrollLastTick=Date.now(),d&&d(f(e))}function H(e){O.current.isScrolling=!1,d&&d(f(e))}var I=!1===y||!1===_;return n.createElement(c.default,(0,t.default)({},M,{onScroll:function(e){var t,o,n;e.stopPropagation(),e.target===W.current&&(e.persist(),null!=D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{H(e)},100),O.current.isScrolling?(t=O.current.scrollLastTick,o=p,n=Date.now()-t,o>0&&n>=o&&k(e)):P(e))},onTouchMove:j(v),onWheel:j(S),ref:(0,u.default)(W,l),style:[E,!w&&h.scrollDisabled,I&&h.hideScrollbar]}))}),h=l.default.create({scrollDisabled:{overflowX:'hidden',overflowY:'hidden',touchAction:'none'},hideScrollbar:{scrollbarWidth:'none'}}),v=d},350,[29,45,36,44,142,160]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t},351,[352]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return function(){return t}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},m.exports=n},352,[]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return s}});var e,t=r(d[0]),l=(e=t)&&e.__esModule?e:{default:e};var s=class{constructor(e,t){this._delay=t,this._callback=e}dispose(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=l.default.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}},353,[226]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=function(t,n,u){return n<t?t:n>u?u:n}},354,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=function(){return console.log(...arguments)}},355,[]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function s(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"CellRenderMask",{enumerable:!0,get:function(){return i}});var e=s(r(d[0])),t=s(r(d[1]));class i{constructor(s){(0,t.default)(s>=0,'CellRenderMask must contain a non-negative number os cells'),this._numCells=s,this._regions=0===s?[]:[{first:0,last:s-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(s){if((0,t.default)(s.first>=0&&s.first<this._numCells&&s.last>=-1&&s.last<this._numCells&&s.last>=s.first-1,'CellRenderMask.addCells called with invalid cell range'),!(s.last<s.first)){var i=this._findRegion(s.first),l=i[0],n=i[1],f=this._findRegion(s.last),u=f[0],o=f[1];if(n!==o||l.isSpacer){var _=[],c=[],h=(0,e.default)((0,e.default)({},s),{},{isSpacer:!1});l.first<h.first&&(l.isSpacer?_.push({first:l.first,last:h.first-1,isSpacer:!0}):h.first=l.first),u.last>h.last&&(u.isSpacer?c.push({first:h.last+1,last:u.last,isSpacer:!0}):h.last=u.last);var p=[..._,h,...c],C=o-n+1;this._regions.splice(n,C,...p)}}}numCells(){return this._numCells}equals(s){return this._numCells===s._numCells&&this._regions.length===s._regions.length&&this._regions.every((e,t)=>e.first===s._regions[t].first&&e.last===s._regions[t].last&&e.isSpacer===s._regions[t].isSpacer)}_findRegion(s){for(var e=0,i=this._regions.length-1;e<=i;){var l=Math.floor((e+i)/2),n=this._regions[l];if(s>=n.first&&s<=n.last)return[n,l];s<n.first?i=l-1:s>n.last&&(e=l+1)}(0,t.default)(!1,"A region was not found containing cellIdx "+s)}}},356,[21,26]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return n}});var l=e(r(d[0])),t=e(r(d[1]));class n{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,l){var n;(0,t.default)(!this._childrenToCellKey.has(e),'Trying to add already present child list');var o=null!==(n=this._cellKeyToChildren.get(l))&&void 0!==n?n:new Set;o.add(e),this._cellKeyToChildren.set(l,o),this._childrenToCellKey.set(e,l)}remove(e){var l=this._childrenToCellKey.get(e);(0,t.default)(null!=l,'Trying to remove non-present child list'),this._childrenToCellKey.delete(e);var n=this._cellKeyToChildren.get(l);(0,t.default)(n,'_cellKeyToChildren should contain cellKey'),n.delete(e),0===n.size&&this._cellKeyToChildren.delete(l)}forEach(e){for(var t,n=(0,l.default)(this._cellKeyToChildren.values());!(t=n()).done;)for(var o,h=t.value,s=(0,l.default)(h);!(o=s()).done;){e(o.value)}}forEachInCell(e,t){for(var n,o,h=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],s=(0,l.default)(h);!(o=s()).done;){t(o.value)}}anyInCell(e,t){for(var n,o,h=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],s=(0,l.default)(h);!(o=s()).done;){if(t(o.value))return!0}return!1}size(){return this._childrenToCellKey.size}}},357,[344,26]);
__d(function(g,r,i,a,m,_e,d){'use strict';Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t,e=r(d[0]),s=(t=e)&&t.__esModule?t:{default:t};class n{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var l=[],_=10,h=null;var o=class{static addListener(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),l.push(t),{remove:()=>{l=l.filter(e=>t!==e)}}}static setSampleRate(t){h=t}static setMinSampleCount(t){_=t}constructor(t){this._anyBlankStartTime=null,this._enabled=!1,this._info=new n,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(h||0)>Math.random(),this._resetData()}activate(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}deactivateAndFlush(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<_)this._resetData();else{var e=g.performance.now()-t,n=(0,s.default)((0,s.default)({},this._info),{},{total_time_spent:e});l.forEach(t=>t(n)),this._resetData()}}}computeBlankness(t,e,s){if(!this._enabled||0===t.getItemCount(t.data)||e.last<e.first||null==this._samplesStartTime)return 0;var n=s.dOffset,l=s.offset,_=s.velocity,h=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(n));var o=Math.round(1e3*Math.abs(_)),u=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var f=0,c=e.first,p=this._getFrameMetrics(c,t);c<=e.last&&(!p||!p.inLayout);)p=this._getFrameMetrics(c,t),c++;p&&c>0&&(f=Math.min(h,Math.max(0,p.offset-l)));for(var b=0,y=e.last,k=this._getFrameMetrics(y,t);y>=e.first&&(!k||!k.inLayout);)k=this._getFrameMetrics(y,t),y--;if(k&&y<t.getItemCount(t.data)-1){var S=k.offset+k.length;b=Math.min(h,Math.max(0,l+h-S))}var M=Math.round(f+b),v=M/h;return v>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=o,this._info.any_blank_count++,this._info.pixels_blank+=M,v>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(o<.01||Math.abs(n)<1)&&this.deactivateAndFlush(),v}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new n,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}},358,[21]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return o}});var t,e=r(_d[0]),s=(t=e)&&t.__esModule?t:{default:t},n=(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),e.default=t,e})(r(_d[1]));class o extends n.PureComponent{constructor(t){super(t),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(t,e){'function'==typeof t?super.setState((e,s)=>{var n;this._inAsyncStateUpdate=!0;try{n=t(e,s)}catch(t){throw t}finally{this._inAsyncStateUpdate=!1}return n},e):super.setState(t,e)}_installSetStateHooks(){var t=this,e=this.props,n=this.state;Object.defineProperty(this,'props',{get:()=>((0,s.default)(!t._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),e),set(t){e=t}}),Object.defineProperty(this,'state',{get:()=>((0,s.default)(!t._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n),set(t){n=t}})}}},359,[26,36]);
__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}});var t=e(r(d[0])),n=e(r(d[1])),s=e(r(d[2]));function l(e,t,n,s,l,u){if(h(n,s,l))return!0;var c=o(n,s,l);return 100*(e?c/l:c/u)>=t}function o(e,t,n){var s=Math.min(t,n)-Math.max(e,0);return Math.max(0,s)}function h(e,t,n){return e>=0&&t<=n&&t>e}var u=class{constructor(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,t,n,o,h){var u=e.getItemCount(e.data),c=this._config,f=c.itemVisiblePercentThreshold,v=c.viewAreaCoveragePercentThreshold,_=null!=v,w=_?v:f;(0,s.default)(null!=w&&null!=f!=(null!=v),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var b=[];if(0===u)return b;var I=-1,p=h||{first:0,last:u-1},y=p.first,T=p.last;if(T>=u)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:h,itemCount:u})),[];for(var M=y;M<=T;M++){var V=o(M,e);if(V){var C=V.offset-t,P=C+V.length;if(C<n&&P>0)I=M,l(_,w,C,P,n,V.length)&&b.push(M);else if(I>=0)break}}return b}onUpdate(e,t,n,s,l,o,h){var u=e.getItemCount(e.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==u&&s(0,e)){var c=[];if(u&&(c=this.computeViewableItems(e,t,n,s,h)),this._viewableIndices.length!==c.length||!this._viewableIndices.every((e,t)=>e===c[t]))if(this._viewableIndices=c,this._config.minimumViewTime){var f=setTimeout(()=>{this._timers.delete(f),this._onUpdateSync(e,c,o,l)},this._config.minimumViewTime);this._timers.add(f)}else this._onUpdateSync(e,c,o,l)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,s,l,o){s=s.filter(e=>this._viewableIndices.includes(e));for(var h,u=this._viewableItems,c=new Map(s.map(t=>{var n=o(t,!0,e);return[n.key,n]})),f=[],v=(0,n.default)(c);!(h=v()).done;){var _=h.value,w=_[0],b=_[1];u.has(w)||f.push(b)}for(var I,p=(0,n.default)(u);!(I=p()).done;){var y=I.value,T=y[0],M=y[1];c.has(T)||f.push((0,t.default)((0,t.default)({},M),{},{isViewable:!1}))}f.length>0&&(this._viewableItems=c,l({viewableItems:Array.from(c.values()),changed:f,viewabilityConfig:this._config}))}}},360,[21,344,26]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return d}});var t=e(r(_d[0])),o=e(r(_d[1])),s=e(r(_d[2])),n=e(r(_d[3])),l=r(_d[4]),p=e(r(_d[5])),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[6]));class d extends u.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,t=e.cellKey,o=e.prevCellKey;this.props.onUpdateSeparators([t,o],{highlighted:!0})},unhighlight:()=>{var e=this.props,t=e.cellKey,o=e.prevCellKey;this.props.onUpdateSeparators([t,o],{highlighted:!1})},updateProps:(e,t)=>{var o=this.props,s=o.cellKey,n=o.prevCellKey;this.props.onUpdateSeparators(['leading'===e?n:s],t)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,t){return{separatorProps:(0,o.default)((0,o.default)({},t.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(t=>({separatorProps:(0,o.default)((0,o.default)({},t.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,t,o,s){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?u.createElement(t,{item:o,index:s,separators:this._separators}):e?e({item:o,index:s,separators:this._separators}):void(0,p.default)(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}render(){var e=this.props,o=e.CellRendererComponent,n=e.ItemSeparatorComponent,p=e.ListItemComponent,d=e.cellKey,h=e.horizontal,y=e.item,f=e.index,v=e.inversionStyle,C=e.onCellFocusCapture,_=e.onCellLayout,L=e.renderItem,P=this._renderElement(L,p,y,f),K=u.isValidElement(n)?n:n&&u.createElement(n,this.state.separatorProps),I=v?h?[c.rowReverse,v]:[c.columnReverse,v]:h?[c.row,v]:v,w=o?u.createElement(o,(0,t.default)({cellKey:d,index:f,item:y,style:I,onFocusCapture:C},_&&{onLayout:this._onLayout}),P,K):u.createElement(s.default,(0,t.default)({style:I,onFocusCapture:C},_&&{onLayout:this._onLayout}),P,K);return u.createElement(l.VirtualizedListCellContextProvider,{cellKey:this.props.cellKey},w)}}var c=n.default.create({row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'}})},361,[29,21,142,44,362,26,36]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"VirtualizedListContext",{enumerable:!0,get:function(){return o}}),_e.VirtualizedListContextResetter=function(e){var t=e.children;return u.createElement(o.Provider,{value:null},t)},_e.VirtualizedListContextProvider=function(e){var t=e.children,l=e.value,s=(0,n.useMemo)(()=>({cellKey:null,getScrollMetrics:l.getScrollMetrics,horizontal:l.horizontal,getOutermostParentListRef:l.getOutermostParentListRef,registerAsNestedChild:l.registerAsNestedChild,unregisterAsNestedChild:l.unregisterAsNestedChild}),[l.getScrollMetrics,l.horizontal,l.getOutermostParentListRef,l.registerAsNestedChild,l.unregisterAsNestedChild]);return u.createElement(o.Provider,{value:s},t)},_e.VirtualizedListCellContextProvider=function(e){var t=e.cellKey,s=e.children,d=(0,n.useContext)(o),c=(0,n.useMemo)(()=>null==d?null:(0,l.default)((0,l.default)({},d),{},{cellKey:t}),[d,t]);return u.createElement(o.Provider,{value:c},s)};var e,t=r(_d[0]),l=(e=t)&&e.__esModule?e:{default:e},n=r(_d[1]),u=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(l){var n=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(t,l,n.get?n:{enumerable:!0,get:function(){return e[l]}})}),t.default=e,t})(n),o=u.createContext(null)},362,[21,36]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n,f,o){void 0===o&&(o=1);for(var s=n.getItemCount(n.data),l=[],u=0;u<t.length;u++)for(var v=t[u],c=0,h=s-1;c<=h;){var M=c+(h-c>>>1),b=f(M,n),x=b.offset*o,y=(b.offset+b.length)*o;if(0===M&&v<x||0!==M&&v<=x)h=M-1;else{if(!(v>y)){l[u]=M;break}c=M+1}}return l}function n(t,n){return n.last-n.first+1-Math.max(0,1+Math.min(n.last,t.last)-Math.max(n.first,t.first))}Object.defineProperty(e,'__esModule',{value:!0}),e.elementsThatOverlapOffsets=t,e.newRangeCount=n,e.computeWindowedRenderLimits=function(f,o,s,l,u,v){var c=f.getItemCount(f.data);if(0===c)return{first:0,last:-1};var h=v.offset,M=v.velocity,b=v.visibleLength,x=v.zoomScale,y=void 0===x?1:x,w=Math.max(0,h),k=w+b,p=(s-1)*b,C=M>1?'after':M<-1?'before':'none',O=Math.max(0,w-.5*p),_=Math.max(0,k+.5*p);if(u(c-1,f).offset*y<O)return{first:Math.max(0,c-1-o),last:c-1};var j=t([O,w,k,_],f,u,y),L=j[0],S=j[1],E=j[2],I=j[3];L=null==L?0:L,S=null==S?Math.max(0,L):S,I=null==I?c-1:I,E=null==E?Math.min(I,S+o-1):E;var R={first:S,last:E},z=n(l,R);for(;!(S<=L&&E>=I);){var B=z>=o,F=S<=l.first||S>l.last,J=S>L&&(!B||!F),N=E>=l.last||E<l.first,P=E<I&&(!B||!N);if(B&&!J&&!P)break;!J||'after'===C&&P&&N||(F&&z++,S--),!P||'before'===C&&J&&F||(N&&z++,E++)}if(!(E>=S&&S>=0&&E<c&&S>=L&&E<=I&&S<=R.first&&E>=R.last))throw new Error('Bad window calculation '+JSON.stringify({first:S,last:E,itemCount:c,overscanFirst:L,overscanLast:I,visible:R}));return{first:S,last:E}},e.keyExtractor=function(t,n){if('object'==typeof t&&null!=(null==t?void 0:t.key))return t.key;if('object'==typeof t&&null!=(null==t?void 0:t.id))return t.id;return String(n)}},363,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},364,[]);
__d(function(g,r,_i2,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return l}});var t=Number.isNaN||function(t){return'number'==typeof t&&t!=t};function n(n,u){return n===u||!(!t(n)||!t(u))}function u(t,u){if(t.length!==u.length)return!1;for(var l=0;l<t.length;l++)if(!n(t[l],u[l]))return!1;return!0}function l(t,n){void 0===n&&(n=u);var l=null;function i(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];if(l&&l.lastThis===this&&n(u,l.lastArgs))return l.lastResult;var s=t.apply(this,u);return l={lastResult:s,lastArgs:u,lastThis:this},s}return i.clear=function(){l=null},i}},365,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return c}});var t=e(r(_d[0])),n=e(r(_d[1])),o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),u=e(r(_d[3])),f=["behavior","contentContainerStyle","keyboardVerticalOffset"];class s extends o.Component{constructor(){super(...arguments),this.frame=null,this.onLayout=e=>{this.frame=e.nativeEvent.layout}}relativeKeyboardHeight(e){var t=this.frame;if(!t||!e)return 0;var n=e.screenY-(this.props.keyboardVerticalOffset||0);return Math.max(t.y+t.height-n,0)}onKeyboardChange(e){}render(){var e=this.props,s=(e.behavior,e.contentContainerStyle,e.keyboardVerticalOffset,(0,n.default)(e,f));return o.createElement(u.default,(0,t.default)({onLayout:this.onLayout},s))}}var c=s},366,[29,45,36,142]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t=class{static alert(){}}},367,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"BlurView",{enumerable:!0,get:function(){return u.default}});var e,t=r(d[0]),u=(e=t)&&e.__esModule?e:{default:e}},368,[369]);
__d(function(g,r,i,a,m,_e,d){"use strict";const t=["tint","intensity","style"];function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return y}});var n=e(r(d[0])),l=r(d[1]),s=e(r(d[2])),u=e(r(d[3])),o=r(d[4]);function c({intensity:t,tint:e}){const n=`saturate(180%) blur(${.2*Math.min(t,100)}px)`;return{backgroundColor:(0,u.default)(Math.min(t,100),e),backdropFilter:n,WebkitBackdropFilter:n}}var y=(0,l.forwardRef)((e,u)=>{let{tint:y="default",intensity:f=50,style:b}=e,k=(0,n.default)(e,t);const p=(0,l.useRef)(null),F=c({tint:y,intensity:f});return(0,l.useImperativeHandle)(u,()=>({setNativeProps:t=>{if(!p.current?.style)return;const e=c({intensity:t.style?.intensity??f,tint:y??'default'});if(t.style)for(const e in t.style)'intensity'!==e&&(p.current.style[e]=t.style[e]);p.current.style.backgroundColor=e.backgroundColor,p.current.style.backdropFilter=e.backdropFilter,p.current.style.webkitBackdropFilter=e.WebkitBackdropFilter}}),[f,y]),(0,o.jsx)(s.default,Object.assign({},k,{style:[b,F],ref:p}))})},369,[129,36,142,370,208]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,s){const c=t/100;switch(s){case'dark':case'systemMaterialDark':return`rgba(25,25,25,${.78*c})`;case'light':case'extraLight':case'systemMaterialLight':case'systemUltraThinMaterialLight':case'systemThickMaterialLight':return`rgba(249,249,249,${.78*c})`;case'default':case'prominent':case'systemMaterial':return`rgba(255,255,255,${.3*c})`;case'regular':return`rgba(179,179,179,${.82*c})`;case'systemThinMaterial':return`rgba(199,199,199,${.97*c})`;case'systemChromeMaterial':return`rgba(255,255,255,${.75*c})`;case'systemChromeMaterialLight':return`rgba(255,255,255,${.97*c})`;case'systemUltraThinMaterial':case'systemThickMaterial':return`rgba(191,191,191,${.44*c})`;case'systemThickMaterialDark':return`rgba(37,37,37,${.9*c})`;case'systemThinMaterialDark':return`rgba(37,37,37,${.7*c})`;case'systemUltraThinMaterialDark':return`rgba(37,37,37,${.55*c})`;case'systemChromeMaterialDark':return`rgba(0,0,0,${.75*c})`;case'systemThinMaterialLight':return`rgba(199,199,199,${.78*c})`}}Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}})},370,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return T}});var t=r(_d[0]),o=e(r(_d[1])),n=e(r(_d[2])),l=e(r(_d[3])),d=e(r(_d[4])),s=e(r(_d[5])),c=e(r(_d[6]));r(_d[7]);var u=r(_d[8]),f=r(_d[9]),h=r(_d[10]),p=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[11])),x=r(_d[12]),y=r(_d[13]),b=r(_d[14]);function T(){const[e,l]=(0,t.useState)(''),[T,j]=(0,t.useState)(''),[v,C]=(0,t.useState)(!1),w=(0,h.useJournalStore)(e=>e.goBack),z=(0,h.useJournalStore)(e=>e.currentRoute),B=z.params?.id,k=z.params?.prefillTitle,O=(0,u.useSafeAreaInsets)();(0,t.useEffect)(()=>{B?(0,y.readThought)(B).then(e=>{e&&(l(e.title),j(e.content))}):k&&l(k)},[B,k]);return(0,b.jsx)(f.LinearGradient,{colors:['#151833','#0a0b1a'],style:S.container,children:(0,b.jsxs)(c.default,{style:S.keyboardView,behavior:void 0,children:[(0,b.jsxs)(o.default,{style:[S.header,{paddingTop:Math.max(O.top,20)}],children:[(0,b.jsx)(d.default,{onPress:w,style:S.headerBtn,children:(0,b.jsx)(s.default,{style:S.headerBtnText,children:"Close"})}),(0,b.jsx)(d.default,{onPress:async()=>{T.trim()&&e.trim()&&(p.impactAsync(p.ImpactFeedbackStyle.Heavy),setTimeout(()=>p.notificationAsync(p.NotificationFeedbackType.Success),150),(0,x.playSaveChime)(),await(0,y.saveThought)(e,T),C(!0),setTimeout(()=>{C(!1),w()},1e3))},style:[S.headerBtn,(!T.trim()||!e.trim())&&S.disabledBtn],disabled:!T.trim()||!e.trim()||v,children:(0,b.jsx)(s.default,{style:[S.headerBtnText,S.saveText],children:"Save to Vault"})})]}),v&&(0,b.jsx)(o.default,{style:[S.toastContainer,{top:O.top+60}],children:(0,b.jsx)(s.default,{style:S.toastText,children:"\u2713 Saved to Vault"})}),(0,b.jsx)(n.default,{style:S.titleInput,placeholder:"Thought Title...",placeholderTextColor:"rgba(0,255,204,0.4)",value:e,onChangeText:l,autoCapitalize:"words"}),(0,b.jsx)(s.default,{style:S.helperText,children:"Syntax:  [[Exact Title Name]]  to link"}),(0,b.jsx)(n.default,{style:S.input,placeholder:"Start typing your thought... use [[links]] to connect concepts.",placeholderTextColor:"rgba(255,255,255,0.4)",multiline:!0,autoFocus:!0,value:T,onChangeText:j,textAlignVertical:"top"})]})})}const S=l.default.create({container:{flex:1},keyboardView:{flex:1},header:{flexDirection:'row',justifyContent:'space-between',paddingHorizontal:20,paddingBottom:20},headerBtn:{padding:10},headerBtnText:{color:'#fff',fontSize:18,fontWeight:'500'},saveText:{color:'#A2D9CE',fontWeight:'700'},disabledBtn:{opacity:.5},input:{flex:1,color:'#fff',fontSize:20,lineHeight:30,paddingHorizontal:24,fontWeight:'300'},titleInput:{color:'#00ffcc',fontSize:32,fontWeight:'bold',paddingHorizontal:24,marginBottom:5},helperText:{color:'rgba(255, 255, 255, 0.4)',fontSize:14,paddingHorizontal:24,marginBottom:20},toastContainer:{position:'absolute',alignSelf:'center',backgroundColor:'#00ffcc',paddingHorizontal:20,paddingVertical:12,borderRadius:25,zIndex:100,shadowColor:'#00ffcc',shadowOffset:{width:0,height:4},shadowOpacity:.4,shadowRadius:10,elevation:5},toastText:{color:'#000',fontWeight:'bold',fontSize:16}})},371,[36,142,333,44,202,174,366,97,175,205,182,329,193,194,208]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return p}});var t=r(d[0]),n=e(r(d[1])),l=e(r(d[2])),o=e(r(d[3])),i=e(r(d[4])),s=e(r(d[5])),c=r(d[6]),f=r(d[7]),u=r(d[8]),x=r(d[9]),h=r(d[10]);function p(){const e=(0,u.useJournalStore)(e=>e.currentRoute),l=(0,u.useJournalStore)(e=>e.goBack),p=e.params?.id,j=(0,c.useSafeAreaInsets)(),[k,y]=(0,t.useState)(null),[T,B]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{if(p){const e=await(0,x.readThought)(p);y(e)}B(!1)})()},[p]),T?null:k?(0,h.jsx)(f.LinearGradient,{colors:['#08080C','#120f18','#000000'],style:b.container,children:(0,h.jsxs)(n.default,{style:[b.safeArea,{paddingTop:Math.max(j.top,20),paddingBottom:Math.max(j.bottom,20)}],children:[(0,h.jsxs)(n.default,{style:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingRight:20},children:[(0,h.jsx)(i.default,{onPress:l,style:b.backBtn,children:(0,h.jsx)(o.default,{style:b.backBtnText,children:"\u2190 Back to Nexus"})}),(0,h.jsx)(i.default,{onPress:()=>u.useJournalStore.getState().navigate('Editor',{id:k.id}),style:b.backBtn,children:(0,h.jsx)(o.default,{style:b.backBtnText,children:"Edit \u270e"})})]}),(0,h.jsxs)(s.default,{contentContainerStyle:b.scrollContent,showsVerticalScrollIndicator:!1,children:[(0,h.jsx)(o.default,{style:b.titleText,children:k.title}),(0,h.jsx)(n.default,{style:b.glassCard,children:(0,h.jsx)(o.default,{style:b.journalText,children:k.content})}),k.links&&k.links.length>0&&(0,h.jsxs)(n.default,{style:b.linksContainer,children:[(0,h.jsx)(o.default,{style:b.linksHeader,children:"References:"}),k.links.map((e,t)=>(0,h.jsx)(n.default,{style:b.linkBadge,children:(0,h.jsx)(o.default,{style:b.linkBadgeText,children:e})},`link-${t}`))]})]})]})}):(0,h.jsxs)(f.LinearGradient,{colors:['#151833','#0a0b1a'],style:b.container,children:[(0,h.jsx)(o.default,{style:b.errorText,children:"Thought not found in Vault."}),(0,h.jsx)(i.default,{onPress:l,style:[b.backBtn,{paddingTop:Math.max(j.top,20)}],children:(0,h.jsx)(o.default,{style:b.backBtnText,children:"Return"})})]})}const b=l.default.create({container:{flex:1},safeArea:{flex:1},backBtn:{paddingHorizontal:20,paddingVertical:10,alignSelf:'flex-start'},backBtnText:{color:'#fff',fontSize:16,fontWeight:'600',opacity:.8},scrollContent:{padding:20,paddingBottom:60},glassCard:{backgroundColor:'rgba(255, 255, 255, 0.05)',borderRadius:20,padding:24,marginTop:20,borderWidth:1,borderColor:'rgba(255, 255, 255, 0.1)'},dateText:{color:'rgba(255, 255, 255, 0.6)',fontSize:14,textTransform:'uppercase',letterSpacing:1.5,marginBottom:16},titleText:{color:'#00ffcc',fontSize:32,fontWeight:'bold',marginBottom:20},journalText:{color:'#fff',fontSize:22,lineHeight:34,fontWeight:'300'},errorText:{color:'#fff',fontSize:18,textAlign:'center',marginTop:100},linksContainer:{marginTop:30,paddingHorizontal:10},linksHeader:{color:'rgba(255, 255, 255, 0.5)',fontSize:14,textTransform:'uppercase',letterSpacing:1.5,marginBottom:12},linkBadge:{backgroundColor:'rgba(0, 255, 204, 0.1)',paddingHorizontal:16,paddingVertical:12,borderRadius:12,borderWidth:1,borderColor:'rgba(0, 255, 204, 0.3)',marginBottom:10,alignSelf:'flex-start'},linkBadgeText:{color:'#00ffcc',fontSize:16,fontWeight:'600'}})},372,[36,142,44,174,202,348,175,205,182,194,208]);
__r(3);
__r(0);